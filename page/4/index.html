<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jackzheng-lu.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="JackZHENG_blog">
<meta property="og:url" content="http://jackzheng-lu.github.io/page/4/index.html">
<meta property="og:site_name" content="JackZHENG_blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="JackZheng">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://jackzheng-lu.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>JackZHENG_blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">JackZHENG_blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">shell_变量</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 19:09:18" itemprop="dateCreated datePublished" datetime="2021-04-08T19:09:18+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 09:08:15" itemprop="dateModified" datetime="2021-04-15T09:08:15+08:00">2021-04-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p> 总结：</p>
<ul>
<li>赋值变量尽量用双引号</li>
<li>引用变量用$</li>
<li>赋值变量用$()</li>
</ul>
</blockquote>
<p>在 Bash shell 中，每一个变量的值都是字符串，无论你给变量赋值时有没有使用引号，值都会以字符串的形式存储。这意味着，Bash shell 在默认情况下不会区分变量类型，即使你将整数和小数赋值给变量，它们也会被视为字符串。</p>
<h2 id="shell变量"><a href="#shell变量" class="headerlink" title="shell变量"></a>shell变量</h2><blockquote>
<p>定义变量时，变量名不加美元s符号（$，PHP语言中变量需要），如：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;runoob.com&quot;</span><br></pre></td></tr></table></figure>

<p>注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p>
<ul>
<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>
<li>中间不能有空格，可以使用下划线（_）。</li>
<li>不能使用标点符号。</li>
<li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li>
</ul>
<blockquote>
<p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br></pre></td></tr></table></figure>

<p>变量名外面的花括号是可选的，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for skill in Ada Coffe Action Java; do</span><br><span class="line">    echo &quot;I am good at $&#123;skill&#125;Script&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>如果不给skill变量加花括号，写成echo “I am good at $skillScript”，解释器就会把$skillScript当成一个变量（其值为空）。</p>
<blockquote>
<p> 推荐给所有变量加上花括号，这是个好的编程习惯。</p>
</blockquote>
<h2 id="单引号双引号区别"><a href="#单引号双引号区别" class="headerlink" title="单引号双引号区别"></a>单引号双引号区别</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url=&quot;http://c.biancheng.net&quot;</span><br><span class="line">website1=&#x27;C语言中文网：$&#123;url&#125;&#x27;</span><br><span class="line">website2=&quot;C语言中文网：$&#123;url&#125;&quot;</span><br><span class="line">echo $website1</span><br><span class="line">echo $website2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以单引号<span class="string">&#x27; &#x27;</span>包围变量的值时，单引号里面是什么就输出什么。以双引号<span class="string">&quot; &quot;</span>包围变量的值时，输出时会先解析里面的变量和命令。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>建议：变量的内容是数字，可以不加引号；如果需要原样输出就加单引号；没有特别要求的字符串等最好都加上双引号，定义变量时加双引号是最常见的使用场景。</p>
</blockquote>
<h2 id="将命令结果复制给变量"><a href="#将命令结果复制给变量" class="headerlink" title="将命令结果复制给变量"></a>将命令结果复制给变量</h2><p>有两种方式。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">variable=`command`# 网上搜资料的时候能看到，但是不推荐</span><br><span class="line">variable=$(command) # 推荐这一种</span><br></pre></td></tr></table></figure>







<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/cpp/view/6999.html">Shell变量：Shell变量的定义、删除变量、只读变量、变量类型</a></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">shell_grep_sed函数</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 16:17:34" itemprop="dateCreated datePublished" datetime="2021-04-08T16:17:34+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-29 18:11:37" itemprop="dateModified" datetime="2021-04-29T18:11:37+08:00">2021-04-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>2.8k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>3 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>sed/grep/akw是 Linux 文本处理三剑客。</p>
<p>还额外记录两个函数find和ls。</p>
</blockquote>
<h1 id="grep函数"><a href="#grep函数" class="headerlink" title="grep函数"></a>grep函数</h1><p>grep 命令用于查找文件里符合条件的字符串。可以匹配正则来搜索文件中的信息。</p>
<blockquote>
<p>由于可以搜索文件的信息，因此最好不要单用grep在目录下搜索，速度非常慢</p>
<p>如果要用grep在文件夹搜索，应结合ls 使用；</p>
<p>egrep可以使用扩展正则，grep不行。</p>
</blockquote>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="基本处理"><a href="#基本处理" class="headerlink" title="基本处理"></a>基本处理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 当前文件夹找到符号条件的文件名</span></span><br><span class="line">result=$(ls | grep &quot;.md&quot;)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则的方式，md开头的文件</span></span><br><span class="line">ls | grep &quot;^md&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录中，查找后缀有 file 字样的文件, 其中包含 <span class="built_in">test</span> 字符串的文件</span></span><br><span class="line">grep test *file </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反向查找。通过<span class="string">&quot;-v&quot;</span>参数查找文件名中包含 <span class="built_in">test</span> 的文件中不包含<span class="built_in">test</span> 的行，此时，使用的命令为：</span></span><br><span class="line">grep -v test *test*</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 包含 leo 的行位于文件的第几行。</span></span><br><span class="line">grep -n leo /etc/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash">29:leo:x:503:503::/home/leo:/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> grep 在输出时，能把 leo 所在行的上面或下面的行也展示出来。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> A为after, 可替换为B(after)，C上下行都显示</span></span><br><span class="line">grep -A 1 leo passwd(文件名)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="多文件处理-正则"><a href="#多文件处理-正则" class="headerlink" title="多文件处理/正则"></a>多文件处理/正则</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 找出内容中含有first单词的txt文件都有哪些。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反向操作，把l换成L</span></span><br><span class="line">grep -l &quot;first&quot; *.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则的例子</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开头是leo的行</span></span><br><span class="line">grep &#x27;^leo&#x27; /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多条件查找，要使用扩展正则，就要使用egrep</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 用|表示或的条件</span></span><br><span class="line">egrep &#x27;^root|bash$&#x27; passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意，egrep和ls连用没有效果，也就是说不能用egrep找多条件的文件名</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://linux.cn/article-6941-1.html">https://linux.cn/article-6941-1.html</a></p>
<p><a target="_blank" rel="noopener" href="http://c.biancheng.net/linux/grep.html">http://c.biancheng.net/linux/grep.html</a></p>
<p>grep的或匹配，和匹配</p>
<h1 id="sed-函数"><a href="#sed-函数" class="headerlink" title="sed 函数"></a>sed 函数</h1><p>==sed默认不修改源文件内容==，可以直接修改文件的内容（-i），</p>
<p>注意，sed 会根据脚本命令来处理文本文件中的数据，这些命令要么从命令行中输入，要么存储在一个文本文件中，此命令执行数据的顺序如下：</p>
<ol>
<li><p>每次仅读取一行内容；</p>
<blockquote>
<p>而且不会读取换行符</p>
</blockquote>
</li>
<li><p>根据提供的规则命令匹配并修改数据。注意，sed 默认不会直接修改源文件数据，而是会将数据复制到缓冲区中，修改也仅限于缓冲区中的数据；</p>
</li>
<li><p>将执行结果输出。</p>
<blockquote>
<p>要注意使用，因为我们不想修改重要信息</p>
</blockquote>
</li>
</ol>
<img src="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/image-20210408162947813.png" class title="image-20210408162947813">



<h2 id="基本格式："><a href="#基本格式：" class="headerlink" title="基本格式："></a>基本格式：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[address]s/pattern/replacement/flags</span><br><span class="line"><span class="meta">#</span><span class="bash">其中，address 表示指定要操作的具体行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> s为替换命令（即基础指令）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> pattern 指的是需要替换的内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> replacement 指的是要替换的新内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> flags是指替换的标志位</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个只是替换的基本语法，更多的看下面的基础命令</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>全部基础命令：</p>
<table>
<thead>
<tr>
<th align="left">名称</th>
<th align="left">命令</th>
<th align="left">语法</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">替换</td>
<td align="left">s</td>
<td align="left">[address]s/pattern/replacement/flags</td>
<td align="left">替换匹配的内容</td>
</tr>
<tr>
<td align="left">删除</td>
<td align="left">d</td>
<td align="left">[address]d</td>
<td align="left">删除匹配的行</td>
</tr>
<tr>
<td align="left">插入</td>
<td align="left">i</td>
<td align="left">[line-address]i\text</td>
<td align="left">在匹配行的前方插入文本</td>
</tr>
<tr>
<td align="left">追加</td>
<td align="left">a</td>
<td align="left">[line-address]a\text</td>
<td align="left">在匹配行的后方插入文本</td>
</tr>
<tr>
<td align="left">行替换</td>
<td align="left">c</td>
<td align="left">[address]c\text</td>
<td align="left">将匹配的行替换成文本text</td>
</tr>
<tr>
<td align="left">打印行</td>
<td align="left">p</td>
<td align="left">[address]p</td>
<td align="left">打印在模式空间中的行</td>
</tr>
<tr>
<td align="left">打印行号</td>
<td align="left">=</td>
<td align="left">[address]=</td>
<td align="left">打印当前行行号</td>
</tr>
<tr>
<td align="left">打印行</td>
<td align="left">l</td>
<td align="left">[address]l</td>
<td align="left">打印在模式空间中的行，同时显示控制字符</td>
</tr>
<tr>
<td align="left">转换字符</td>
<td align="left">y</td>
<td align="left">[address]y/SET1/SET2/</td>
<td align="left">将SET1中出现的字符替换成SET2中对应位置的字符</td>
</tr>
<tr>
<td align="left">读取下一行</td>
<td align="left">n</td>
<td align="left">[address]n</td>
<td align="left">将下一行的内容读取到模式空间</td>
</tr>
<tr>
<td align="left">读文件</td>
<td align="left">r</td>
<td align="left">[line-address]r file</td>
<td align="left">将指定的文件读取到匹配行之后</td>
</tr>
<tr>
<td align="left">写文件</td>
<td align="left">w</td>
<td align="left">[address]w file</td>
<td align="left">将匹配地址的所有行输出到指定的文件中</td>
</tr>
<tr>
<td align="left">退出</td>
<td align="left">q</td>
<td align="left">[line-address]q</td>
<td align="left">读取到匹配的行之后即退出</td>
</tr>
</tbody></table>
<h2 id="常用的flag"><a href="#常用的flag" class="headerlink" title="常用的flag"></a>常用的flag</h2><img src="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/image-20210414102004202.png" class title="image-20210414102004202">



<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> /^categories/为正则匹配，c为替换行，c后面的语句为替换语句，<span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span>为替换的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -i 选项可以直接修改文件内容，没有-i的话，只输出，但不修改源文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> \为对特殊符号进行转义</span></span><br><span class="line">sed -i &quot;/^categories/c categories: [\&#x27;编程语言学习\&#x27;]&quot; &quot;$&#123;file&#125;&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 去除前后空格</span></span><br><span class="line">[root@linux ~]# echo &#x27; A BC &#x27; | sed -e &#x27;s/^[ ]*//g&#x27; | sed -e &#x27;s/[ ]*$//g&#x27;</span><br><span class="line">A BC</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多行匹配</span></span><br><span class="line">特殊/特定行行</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sweeter2/article/details/50876810">https://blog.csdn.net/sweeter2/article/details/50876810</a></p>
<p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4028.html">Linux sed命令完全攻略</a></p>
<h1 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h1><h2 id="find-函数"><a href="#find-函数" class="headerlink" title="find 函数"></a>find 函数</h2><p>直接上实例学习</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 另外一种方法,</span></span><br><span class="line">x=$(find -name &#x27;shell*.md&#x27;| tr -d &quot;[\.\/]&quot;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找计算机中所有大于1MB的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -a 和的关系</span></span><br><span class="line">find   /  -size   +1M  -a  -type  f</span><br></pre></td></tr></table></figure>

<h4 id="额外看链接"><a href="#额外看链接" class="headerlink" title="额外看链接"></a>额外看链接</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Sunny_Future/article/details/80321478">Shell中find命令查找指定文件或目录</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_xuanshuang/article/details/107453783">https://blog.csdn.net/qq_xuanshuang/article/details/107453783</a></p>
<h2 id="ls-匹配"><a href="#ls-匹配" class="headerlink" title="ls 匹配"></a>ls 匹配</h2><p>[ ] 匹配文件，[ … ] 匹配 [ ] 中所包含的任意一个字符。有两种匹配方式：</p>
<ul>
<li>杂乱匹配：ls /etc/[wsdcr]syslog.conf；</li>
<li>范围匹配：ls [0-9] [a-zA-Z].txt</li>
</ul>
<p>[ !… ] 匹配 [ ] 中非感叹号！之后的任意一个字符，它与上一条规则刚好相反。举例：ls [!0-9]*.txt。此条是匹配非数字开头的后缀名为 txt 的所有文件。</p>
<blockquote>
<p>注意这里的<code>*</code>和正则里面不一样，我一开始记混了。</p>
</blockquote>
<h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 不含p开头的md</span></span><br><span class="line">ls [!p]*.md</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 暂时没找到多条件的</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以结合sed和grep使用，然后用管道</span></span><br><span class="line"></span><br><span class="line">遍历目录下的文件名</span><br><span class="line">for file in `ls /bin`; do                                                                           </span><br><span class="line">    echo $&#123;file&#125;                                                                                     </span><br><span class="line">done  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>额外看链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhaochi/p/12846696.html">https://www.cnblogs.com/zhaochi/p/12846696.html</a></p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li></li>
<li><a target="_blank" rel="noopener" href="https://kodango.com/sed-and-awk-notes-part-6">https://kodango.com/sed-and-awk-notes-part-6</a></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">python_正则表达式</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 12:14:59" itemprop="dateCreated datePublished" datetime="2021-04-08T12:14:59+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-29 18:33:42" itemprop="dateModified" datetime="2021-04-29T18:33:42+08:00">2021-04-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <h1 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h1><p>正则是字符串匹配。</p>
<p>开头导入re模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure>

<p>总结</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># ^ 匹配字符串的开始。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># $ 匹配字符串的结尾。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \b 匹配一个单词的边界。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \d 匹配任意数字。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \D 匹配任意非数字字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x? 匹配一个可选的 x 字符 (换言之，它匹配 1 次或者 0 次 x 字符)。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x* 匹配0次或者多次 x 字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x+ 匹配1次或者多次 x 字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x&#123;n,m&#125; 匹配 x 字符，至少 n 次，至多 m 次。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># (a|b|c) 要么匹配 a，要么匹配 b，要么匹配 c。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># (x) 一般情况下表示一个记忆组 (remembered group)。你可以利用 re.search 函数返回对象的 groups() 函数获取它的值。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 正则表达式中的点号通常意味着 “匹配任意单字符”</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>值得注意的是：正则中* + 都是贪婪匹配，？是非贪婪匹配。所以如果你要想要限制住<em>的贪婪匹配，可以在</em>的后面添加？来限制。</p>
</blockquote>
<h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本形式,match为操作</span></span><br><span class="line">re.match(<span class="string">r&#x27;正则表达式&#x27;</span>, testCharacters)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配</span></span><br><span class="line">re.match(<span class="string">r&#x27;正则表达式&#x27;</span>, test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># q</span></span><br></pre></td></tr></table></figure>



<h2 id="部分实例：-注意举一反三"><a href="#部分实例：-注意举一反三" class="headerlink" title="部分实例：(注意举一反三)"></a>部分实例：(注意举一反三)</h2><ul>
<li>提取小数：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;A1.45，b5，6.45，8.82&quot;</span><br><span class="line">print re.findall(r&quot;\d+\.?\d*&quot;,string)</span><br><span class="line"><span class="meta">#</span><span class="bash"> [<span class="string">&#x27;1.45&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6.45&#x27;</span>, <span class="string">&#x27;8.82&#x27;</span>]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>匹配包含指定字符串开头的，例如提取loss开头的字符串：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tensorflow:Final best valid 0 loss=0.20478513836860657 norm_loss=0.767241849151384 roc=0.8262403011322021 pr=0.39401692152023315 calibration=0.9863265752792358 rate=0.0</span><br><span class="line"></span><br><span class="line">pattern = re.compile(r&#x27;(?:loss=)\d+\.?\d*&#x27;)</span><br><span class="line">pattern.findall(string)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> [<span class="string">&#x27;loss=0.20478513836860657&#x27;</span>, <span class="string">&#x27;loss=0.767241849151384&#x27;</span>]</span></span><br></pre></td></tr></table></figure>



<img src="/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/2018101517282367.png" class width="2018101517282367">



<h1 id="fnmatch-模块"><a href="#fnmatch-模块" class="headerlink" title="fnmatch 模块"></a>fnmatch 模块</h1><p>提供shell-like的搜索，跟正则不大一样</p>
<table>
<thead>
<tr>
<th align="left">Pattern</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>*</code></td>
<td align="left">matches everything</td>
</tr>
<tr>
<td align="left"><code>?</code></td>
<td align="left">matches any single character</td>
</tr>
<tr>
<td align="left"><code>[seq]</code></td>
<td align="left">matches any character in <em>seq</em></td>
</tr>
<tr>
<td align="left"><code>[!seq]</code></td>
<td align="left">matches any character not in <em>seq</em></td>
</tr>
</tbody></table>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010412858/article/details/83062200">python正则表达式从字符串中提取数字</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.python.org/3.9/library/fnmatch.html#module-fnmatch">fnmatch模块</a></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html">https://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html</a></p>
<ul>
<li></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/" class="post-title-link" itemprop="url">hysplit_conc测试</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 10:48:09" itemprop="dateCreated datePublished" datetime="2021-04-08T10:48:09+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-29 13:01:50" itemprop="dateModified" datetime="2021-04-29T13:01:50+08:00">2021-04-29</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>2k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>2 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p>项目记录</p>
<p>创新点：</p>
<ul>
<li>研究SPE的Be7运移</li>
</ul>
<p>已经可以进行全球的模拟，但是得使用GRAD 1°的数据，NCEP数据有问题</p>
<ul>
<li>如何实现全球范围的释放</li>
<li>含有Be10特性的模拟问题</li>
<li>实现1个月的模拟</li>
<li>解决NCEP的问题</li>
<li>Sulfate 模块运行问题（可能要看下源程序；进行修改添加）</li>
</ul>
<p>发现问题，使用GADS的时候，并不能读取source文件，提示source point 不再gird上，无输出结果。</p>
<blockquote>
<p>发现如果不在control的文件里设置emission，就不会有值。这很奇怪，因为我用NCAR的数据还好好的</p>
<p>一种解决方法就是：在emission里面，把时间设置为数值，就能解决。（不过仍然不知道为啥有这问题）</p>
</blockquote>
<p>(Yaqiang Wang et al 2011 ER),设置为每6小时到GEM中去，一共1600,000个particles</p>
<p>面积</p>
<h1 id="经验"><a href="#经验" class="headerlink" title="经验"></a>经验</h1><p>以后control，setup等的内部选项只增不减，并添加上简要的解释。方便于我修改参数。</p>
<p>每6小时的trajectory，可以在setup.cfg中设定NSTR=6。也可以多条/多时间的变化（看user-guide）。</p>
<p>总是要记得备份，尤其是模拟不同时段的运移模型时候</p>
<p>注意在运行SPE事件的时候，采样浓度要多层次level，因为高浓度的Be10并不会降下来。计算的浓度时根据设定来的</p>
<blockquote>
<p>这也是为啥有时候会出现无浓度的情况，因为设置不对。</p>
<p>同时也要注意，GEM和Hysplit有各自浓度的设定。</p>
</blockquote>
<p>由于source点比较稀疏，可以设置release的面积</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="program-exception-access-violation的问题"><a href="#program-exception-access-violation的问题" class="headerlink" title="program exception-access violation的问题"></a>program exception-access violation的问题</h2><p>运行Hysplit出现的program exception-access violation的问题。我在运行30天的back-trajectory或者大面积的forward的时候，都出现了这个<code>program exception-access violation</code>的问题。Google之后发现Fortran出现这个一般都是数组越界。因为hysplit为了增加计算时间默认了mgmin为10°，我猜测这个容易造成越界问题。</p>
<p>解决方法是</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MGMIN=40</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果想要全球尺度的，可以改为999。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 但是如果多点的话，不推荐这样做，因为极大增加了运算时间。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>详细的可以看看user-guide里面介绍的sub-grid size。对于长时间尺度的运移，MGMIN太小的话，有可能造成不同时间的sub-gird在空间上没有重叠。</p>
</blockquote>
<h2 id="NCEP-terrain-height的问题"><a href="#NCEP-terrain-height的问题" class="headerlink" title="NCEP terrain height的问题"></a>NCEP terrain height的问题</h2><p>我跑了NCEP的30天的back-trajectory，发现里面的地形出现了负数（一般在海洋地区）。查资料发现，原来NCEP本身是不提供地形资料的。地形资料是通过如下方法计算的:</p>
<blockquote>
<p>The terrain is estimated using the hypsometric equation. However, to calculate its trajectory model uses a sigma terrain following vertical coordinate that has been remapped internally from the vertical coordinate of the meteorological dataset. In that way we make sure that the trajectories do not go below the surface as defined in the original meteorological dataset.</p>
</blockquote>
<p>参考链接: <a target="_blank" rel="noopener" href="https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068">https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068</a></p>
<h2 id="particle-模式"><a href="#particle-模式" class="headerlink" title="particle 模式"></a>particle 模式</h2><p>particle模式跑到后面会越来越慢，因为</p>
<ul>
<li><p>测试1 批量进行气象数据缩小 （完成）</p>
</li>
<li><p>测试2 在stratosphere的粒子运动（最高30km）</p>
<blockquote>
<p>气象数据的最高高度为30km，如果直接设置30km会报错，可以设置为29.9km</p>
</blockquote>
</li>
<li><p>测试3 时间连接问题（完成）</p>
</li>
<li><p>问题4 粒子问题？（貌似有粒子的上限，以及如何对粒子释放做出修改）</p>
</li>
</ul>
<h2 id="测试1-批量进行气象数据缩小"><a href="#测试1-批量进行气象数据缩小" class="headerlink" title="测试1  批量进行气象数据缩小"></a>测试1  批量进行气象数据缩小</h2><p>根据教程中的介绍，貌似气象数据可以裁剪，为局部区域进行运行。因为这只是运移模型？</p>
<p>在下载的文件中，有个现成的软件可以进行气象数据的裁剪</p>
<blockquote>
<p>搜索 “xtrct_grid.exe，注意，文件夹的输入是C:\Users\zmjhh\Desktop\NCEP197611\，不要忘记最后要有个斜线<code>\</code>。</p>
</blockquote>
<blockquote>
<p># 思路 (使用shell文件完成)</p>
<p># &gt; 每次创建一个新的txt文件，将信息存入其中</p>
<p># &gt; 然后重定向输入到exe的应用程序中去 （重定行功能）</p>
<p># &gt; 最后将输出进行重命名 (mv函数)</p>
</blockquote>
<h2 id="测试2-在stratosphere的粒子运动（最高30km）"><a href="#测试2-在stratosphere的粒子运动（最高30km）" class="headerlink" title="测试2 在stratosphere的粒子运动（最高30km）"></a>测试2 在stratosphere的粒子运动（最高30km）</h2><p>运行基本ok，气象数据的最高高度为30km，如果设置粒子的释放高度超过30km（包括30km）有可能会报错，可以设置为29.9km。</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210409152543732.png" alt="image-20210409152543732" style="zoom: 50%;">











<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">hysplit_常问的问题</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 10:48:09" itemprop="dateCreated datePublished" datetime="2021-04-08T10:48:09+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-29 15:11:49" itemprop="dateModified" datetime="2021-04-29T15:11:49+08:00">2021-04-29</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>3.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>3 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/">https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/</a></p>
<p>快速过了一遍常问的问题，将对项目有用的信息做个摘录，直接点感叹号就可以到原网址</p>
<p>该网址可以多看看</p>
<p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/">https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/</a></p>
<p>重要！</p>
<blockquote>
<p>对于很小的气象数据改动，trajectory的结果出现很大的不确定性时，需要注意解释</p>
<p>精度（precision）和准度（accuracy)，Hysplit model 的精度为1%/天，会随着时间的推移而叠加。hysplit的准度问题很大随着时间推移而改变，10天的准度问题会达到15°左右。</p>
</blockquote>
<h1 id="气象数据类"><a href="#气象数据类" class="headerlink" title="气象数据类"></a>气象数据类</h1><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/what-archived-data-are-available-on-the-web-to-run-hysplit-with/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>What archived data are available on the web to run HYSPLIT with?</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/what-data-is-used-to-calculate-the-hysplit-trajectories-and-what-is-the-the-vertical-resolution-of-the-data/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>What data is used to calculate the trajectories and what is the the vertical resolution of the data? </p>
<blockquote>
<p>这主要取决于气象数据</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-6/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> However, in one case when I calculated 120-hour backward trajectories from Potsdam, NY at 1800 on April 8, 1999 using both the EDAS and FNL data bases, I found that the EDAS data suggested the air was in the upper midwest 5 days prior, but the FNL put it into northern Quebec. Why the difference?</p>
</li>
</ul>
<blockquote>
<p>结果不同一般是由于气象数据的精度不同。</p>
<p>关于trajectory的通常步骤，运行一个点相近的不同高度的trajectory（e.g.300m 400m, 500m)，如果结果相似，那么结果比较可靠，如果发散，说明不确定大（not precide）</p>
</blockquote>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/i-will-be-converting-ecmwf-grib-files/"><img src="https://www.arl.noaa.gov/wp_arl/wp-content/uploads/2017/10/info2.gif" alt="Click for answer."></a>I will be converting ECMWF grib files into ARL-packed format for use in calculating backward trajectories in Europe using your HYSPLIT model. What fields do I need to have for HYSPLIT to properly calculate my trajectories?</p>
<blockquote>
<p>不推荐自己进行数据的转换，需要一定的工作量，否则看介绍</p>
</blockquote>
</li>
</ul>
<p>When I set up a matrix run and have the heights specified at a certain altitude (using MSL), why do the results show the starting points at different heights instead of at a constant one?</p>
<p>有些时候Mean Sea Level(MSL) 会低于地面，所以Hysplit会自动校对高度等于地面。<a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc26/">link</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/backward-trajectories-starting-at-a-rural-east-coast-site/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>When I get backward trajectories starting at a rural East Coast site in NJ, which starting height(s) do you suggest is (are) appropriate? The terrain of the site is flat and near sea level. I am also wondering how long of a trajectory duration is recommended.</li>
</ul>
<blockquote>
<p>如果是想知道地面的空气来源，则是贴近地面，如果想知道水汽，则是高于云层的高度。一般选取两到三个高度进行测试，一般来讲对于48小时内的trajectory精度还是OK的，对于更长时间尺度的问题，主要是用于聚类分析来分析这个情况</p>
</blockquote>
<h1 id="模型设置"><a href="#模型设置" class="headerlink" title="模型设置"></a>模型设置</h1><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/if-i-choose-agl/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> If I choose AGL for the start height, does that mean that for the entire model run the computed heights are relative to the ground? I’m concerned about this because of the terrain in the mountains. I don’t want values to be “underground.”</p>
<blockquote>
<p>AGL的设定，仅用于最开始模型的运行。气体的垂直运动不会造成气体低于地面</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/which-value-should-i-input-as-the-start-height/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>Which value should I input as the start height (MAGL)? What does “above model ground level” mean?</p>
<blockquote>
<p>地形（terrain）取决于输入的气象数据。如果气象数据精度高，地形的精度也就很高。低精度的数据会平滑掉一些地貌（高山和谷底）。</p>
<blockquote>
<p>The best we can do is to look at the surface pressure and the mean sea-level pressure at the starting location and estimate the height above sea level of the model terrain at your location.</p>
</blockquote>
<p>根据mean sea-level pressure (MSLP) 和采样点的the surface pressure (PRSS)的差别，估算地形高度。一个简单的近似，1mb=10m。比如：</p>
<blockquote>
<p>35.66N, -82.38W; 1030mb MSLP and 939 mb PRSS taking the difference gives 91mb. A quick estimate is to assume a hydrostatic atmosphere, or approximately 10 meters per mb. This gives 910 MASL, which is what the model sees as the terrain height. </p>
</blockquote>
</blockquote>
</li>
</ul>
<h1 id="结果分析"><a href="#结果分析" class="headerlink" title="结果分析"></a>结果分析</h1><h2 id="TRAJECTORY"><a href="#TRAJECTORY" class="headerlink" title="TRAJECTORY"></a>TRAJECTORY</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg13/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>How does HYSPLIT consider the vertical coordinate. If a trajectory meets the surface how does HYSPLIT work? Does it reflect, or use another method to solve it?</p>
<blockquote>
<p>如果到了boundary，继续运行。（很显然这不是我们想要看到的结果）在dispersion 模式下，particle会反弹。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg25/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>Is the effect of the boundary layer considered when the model computes the trajectory?</p>
<blockquote>
<p>并没有考虑到热力运动，只有在dispersion的模式下才有考虑。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg5/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>When I ran a forward trajectory from a location on a previously computed backward trajectory, I did not return to the starting location of my backward trajectory. Why?</p>
<blockquote>
<p>误差问题，开始0.1°的偏差，10天后的偏差回达到15°。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg39/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> Why are there small differences in my trajectories when I run more than one at a time versus running just one trajectory?</p>
<blockquote>
<p>模型并没有使用全部的气象数据，而是使用部分的气象数据sub-grid data，根据开始的地点设定数据的中心。当trajectory运行到气象数据的边界时，模型会重新定义中心，并重新计算。因此，使用多个开始的点和一个开始的点时，所用的气象数据会有所不同的。垂直运动的计算考虑了这一因素。因此结果会有些许不同。</p>
</blockquote>
</li>
</ul>
<h2 id="CONCENTRATION"><a href="#CONCENTRATION" class="headerlink" title="CONCENTRATION"></a>CONCENTRATION</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg4/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>How is concentration defined in HYSPLIT and how does it relate to the radiation units of Bacquerel?</p>
<blockquote>
<p>输入的单位时mass/每小时，这个mass由用户自己决定，最后的结果是mass/m3，如果定义是Bq/小时，那最后的结果就是Bq/m3。</p>
</blockquote>
</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5/" class="post-title-link" itemprop="url">各种数据库链接</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              
    
              <time title="Created: 2021-04-08 08:50:06 / Modified: 09:03:01" itemprop="dateCreated datePublished" datetime="2021-04-08T08:50:06+08:00">2021-04-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/" itemprop="url" rel="index"><span itemprop="name">科研相关记录</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>267</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>使用数据库的数据时，要注意对这些数据进行致谢。</p>
</blockquote>
<p>这篇文章介绍了一些有用的库</p>
<p>E. Brattich et al 2020. Advection pathways at the Mt. Cimone WMO-GAW station: Seasonality,<br>trends, and influence on atmospheric composition.</p>
<ul>
<li>Atmospheric aerosol 和gass 监测</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://ebas.nilu.no/Pages/DataSetList.aspx?key=C0A8801E103546FB9E164ECB4420432C">http://ebas.nilu.no/Pages/DataSetList.aspx?key=C0A8801E103546FB9E164ECB4420432C</a></p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/" class="post-title-link" itemprop="url">hysplit_GEM模型测试1</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-07 18:54:09" itemprop="dateCreated datePublished" datetime="2021-04-07T18:54:09+08:00">2021-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-29 22:16:01" itemprop="dateModified" datetime="2021-04-29T22:16:01+08:00">2021-04-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TrajectoryModel/" itemprop="url" rel="index"><span itemprop="name">TrajectoryModel</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>4k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>4 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>w我的目标就是能使用hysplit模拟Be10/Be7，结合python的包使用</p>
<p>有个pysplit的python包 </p>
</blockquote>
<h1 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h1><ul>
<li><p>测试1: 区域的release 但是释放速率不变 （完成）</p>
</li>
<li><p>测试2：区域的release 但释放速率改变  （完成）</p>
</li>
<li><p>测试3：区域的release但释放速率改变，且包含不同的时间</p>
</li>
</ul>
<h2 id="测试1-区域的release-但释放速率不变"><a href="#测试1-区域的release-但释放速率不变" class="headerlink" title="测试1 区域的release 但释放速率不变"></a>测试1 区域的release 但释放速率不变</h2><p>黑点表示释放的点，浓度值表示采样的区域。</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210407185811783.png" alt="image-20210407185811783" style="zoom:50%;">



<blockquote>
<p>注意浓度的采样和污染物的释放是不同的设置（详情见test-1的脚本）</p>
<p>两者都是通过同一个程序进行计算的，因此不同的区域设置大小并不会减少运算时间。</p>
<ul>
<li>由此来看，浓度值的面积应该跟释放点的面积一致</li>
</ul>
<p><strong><em>注意</em></strong>：</p>
<ul>
<li>区域面积的release。对control文件进行如下修改，可以将（经纬度和高度放到text文件中进行读取），注意trajectory的数量要和经纬度等数量要一致</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;1184                   &quot;&gt;&gt;CONTROL # trajectory数量</span><br><span class="line">cat &quot;$DATA/traj.txt&quot;         &gt;&gt;CONTROL  # (e.g.,  39.90  -84.22 10.0) </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 也可以使用三个trajectory定义区域</span></span><br><span class="line">echo &quot;3                   &quot; &gt;&gt;CONTROL</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个是区域的释放</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 前两行代表左下和右上</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第三行代表间隔</span></span><br><span class="line">echo &quot;38.00 -84.00 600.0  &quot; &gt;&gt;CONTROL</span><br><span class="line">echo &quot;44.00 -74.00 600.0  &quot; &gt;&gt;CONTROL</span><br><span class="line">echo &quot;39.00 -83.00 600.0  &quot; &gt;&gt;CONTROL</span><br></pre></td></tr></table></figure>

<ul>
<li><p>同一纬度，不同高度代表release 的方位，这个方法就可以解决release的高度问题，注意这样子算两个trajectory （control file），比如写成以下形式，release的范围就是这个点的[100 5000]之间。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">60	-42.50	100</span><br><span class="line">60	-42.50	5000</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意北纬90°以及东西经180°，0°等这种边界值问题 </p>
</li>
</ul>
</blockquote>
<h2 id="测试2-区域的release-但释放速率改变"><a href="#测试2-区域的release-但释放速率改变" class="headerlink" title="测试2 区域的release 但释放速率改变"></a>测试2 区域的release 但释放速率改变</h2><p>下图是教程16.5中的示例，有四行是因为教程中设置了4个污染物。rate 表示释放速率 （可以大于1）。Area 如果为0表示点释放。Heat表明释放时的热量产生（这里为0）。这里面表示一个cycle是12个小时，每个cycle release 的particle是固定，但是cycle的时间长短（duration）是可以改变的。</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/etime000.png" alt="img" style="zoom:50%;">

<p>所有的source必须要有相同的时间间隔。</p>
<h2 id="测试3：区域的release但释放速率改变，且包含不同的时间-（多个文件的测试）"><a href="#测试3：区域的release但释放速率改变，且包含不同的时间-（多个文件的测试）" class="headerlink" title="测试3：区域的release但释放速率改变，且包含不同的时间 （多个文件的测试）"></a>测试3：区域的release但释放速率改变，且包含不同的时间 （多个文件的测试）</h2><p>思路：</p>
<ul>
<li><p>天气的数据是每个月存储的，那么一个月的最后几天怎么办？多个天气数据的输入？</p>
</li>
<li><p>每个事件段模拟的结果，会作为下个事件段的边界条件进行</p>
</li>
</ul>
<blockquote>
<p>根据我的需求，直接按照cycle来进行，particle dump feature来连贯进行。</p>
<p>使用EFILE 文件。如果这个文件存在，他就会替换在control的设置。</p>
</blockquote>
<p>如果一个文件的relasing时间过去了，会自动读取下一个releasing</p>
<blockquote>
<p>One way to incorporate a time varying emission rate into the existing model structure is to use the particle dump feature to restart the model each time with a new emission rate. Another option is to assign the name of a temporal emission input file to the “EFILE” variable in the setup.cfg namelist file. </p>
<p>If the EFILE is present, the first emission record’s values replace the emission values set in the control file. Once the model computation time has passed the emission period defined on the first emission record, the emission data from the second record are loaded and the calculation continues with the new emission data. The format of the emission file is given below: </p>
</blockquote>
<p>添加衰减和SO4的特性</p>
<blockquote>
<p> user guide 搜索关键词：Deposition and Decay</p>
</blockquote>
<p>长时间尺度的particle age问题</p>
<blockquote>
<p> user guide 搜索关键词：KHINP</p>
</blockquote>
<p>Particle File Initialization Options</p>
<p>粒子释放的问题，</p>
<p>使用particle release计算concentration distribution，需要释放非常多的粒子，否则无法真是反应浓度</p>
<p>这个时候可以考虑Puff Releases </p>
<p>在GUI的help中，输入C:/hysplit/html/S441.htm</p>
<p>GEM模型测试</p>
<h3 id="29thApril-2021"><a href="#29thApril-2021" class="headerlink" title="29thApril 2021:"></a>29thApril 2021:</h3><p>.如果是mass保留的话，particle应该最后都沉降到地表去了。</p>
<ul>
<li><p>猜想1，取值浓度为地表，沉降后没有改变。尝试将浓度的取值范围设为大气层顶部，发现也没有任何区别，后期也是趋于稳定。</p>
<blockquote>
</blockquote>
</li>
<li><p>尝试2，将release的particle提高到10000，而不是原来的2500，看最后的效果。</p>
</li>
<li><p>猜想3，浓度计算的问题，后期趋于稳定，</p>
</li>
<li><p>猜想4，时间尺度的问题，后期的变化慢（但是南极区域根本就没有，如果持续性输出的话，最后是会充满南极区域的）</p>
<blockquote>
<p>进行了验证，确实，后期应该污染物应该运移到南极地区</p>
</blockquote>
</li>
</ul>
<p>查看了message文件，发现gemout的mass在后期为0。发现重新开始的时候，gemout的mass是为0。</p>
<p>gem模型，是hysplit模型传递particle给</p>
<p>基本设置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">脚本： Be10_gem_exp1.sh</span><br><span class="line">开始时间：07年7月1号</span><br><span class="line">污染物释放时间：1小时释放</span><br><span class="line">浓度计算的level：top为20，bottom为19，平均计算</span><br></pre></td></tr></table></figure>



<h2 id="质量mass的保留"><a href="#质量mass的保留" class="headerlink" title="质量mass的保留"></a>质量mass的保留</h2><p>下图是不保留质量的浓度</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210429110914687.png" class title="image-20210429110914687">

<p>可以看出来，第2小时之后，浓度就没有任何变化。</p>
<blockquote>
<p>可以理解为没有mass，那为啥还有浓度？理解为就没有质量，所以每次计算的都一样？</p>
<p>答：边界条件，之后的浓度都是边界条件的值。</p>
</blockquote>
<p>如果设置为保留质量（即kmass=2），则应该理解为mass在gem模型里面运行。</p>
<blockquote>
<p>查看message文件，发现gemout的mass保留了下来。</p>
</blockquote>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210429114903601.png" alt="image-20210429114903601" style="zoom: 50%;">



<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>使用gemdump作为边界条件，发现重新开始的时候，gemout的mass是为0。</p>
<blockquote>
<p>因此使用gemdump作为边界条件，但是没有任何mass的话，浓度就不会有变化。以gemdump作为边界条件运行非常重要，因为有时候有可能会出现死机等情况，我们不希望重头再跑一遍模型。</p>
</blockquote>
<p>这点非常奇怪，因为使用hys-std的程序的时候，使用pinif作为初值条件，concentration的结果是正确的（可以参考16_2的结果</p>
<h4 id="尝试1：-将gemdump的值转入到pinif里面，作为hysplit的初始条件"><a href="#尝试1：-将gemdump的值转入到pinif里面，作为hysplit的初始条件" class="headerlink" title="尝试1： 将gemdump的值转入到pinif里面，作为hysplit的初始条件"></a>尝试1： 将gemdump的值转入到pinif里面，作为hysplit的初始条件</h4><blockquote>
<p>不可行，模型直接将gemdump认定为错误的输入，跳过。</p>
<p>但是发现，如果pinit为正确的数值，gemdump作为初值条件可以被模型正确的读取。这说明其实gemdump的结果是正确的，可能是模型的问题，也有可能是我在某一个设定上出了问题…..</p>
<p>==未解决==</p>
</blockquote>
<h4 id="尝试2-曲线救国-：根据尝试1知道，只要每次有输入，就能保证模型的正常运行。"><a href="#尝试2-曲线救国-：根据尝试1知道，只要每次有输入，就能保证模型的正常运行。" class="headerlink" title="尝试2(曲线救国)：根据尝试1知道，只要每次有输入，就能保证模型的正常运行。"></a>尝试2(曲线救国)：根据尝试1知道，只要每次有输入，就能保证模型的正常运行。</h4><p>因此除了第一次以外emission，之后的emission输入都非常的小，这样子就能保证模型的运行。为了降低这个额外输入的影响下，将numpar设为1，释放的时间设为1小时。</p>
<p>这样子还会有另外一个问题：发现每次运行的结果对应不上，差了一个时间差。</p>
<blockquote>
<p>查看message文件之后发现，每次开始运行，只要一开始没有mass的输入，GEM里面的初始mass就为0，直到有来自hysplit的输入，GEM里面的初始mass才会变为正常的mass</p>
</blockquote>
<h3 id="另外一个问题"><a href="#另外一个问题" class="headerlink" title="另外一个问题"></a>另外一个问题</h3><p>不同numpar的设定，看不出concentration的区别。==不明白为啥==</p>
<h2 id="hysplit-gem模式"><a href="#hysplit-gem模式" class="headerlink" title="hysplit-gem模式"></a>hysplit-gem模式</h2><p>虽然还未明白为啥gem在循环开始没有输入的情况下，初值条件mass为0（即使设定好了初值条件），但是这里尝试下是否这种情况会对hysplit-gem模式造成影响。</p>
<blockquote>
<p>测试结果发现并不会，只要pdump文件有初始值，就不会有问题。</p>
</blockquote>
<h2 id="释放面积的设置"><a href="#释放面积的设置" class="headerlink" title="释放面积的设置"></a>释放面积的设置</h2><p>图1，每个grid的释放面积是1e3m2，图2，每个grid的释放面积是1度左右的面积，1e5*1e5。</p>
<blockquote>
<p>结果非常的奇怪，图2的效果并没有如预期变大，之后再测试</p>
</blockquote>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210429111516309.png" alt="image-20210429111516309" style="zoom: 50%;">



<h2 id="NCEP-height-inversion问题"><a href="#NCEP-height-inversion问题" class="headerlink" title="NCEP height inversion问题"></a>NCEP height inversion问题</h2><p>使用NCEP198401数据（1984年1月份）运行GEM模型的时候，提示在北纬83度？和73？的位置高度逆转。</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210418124600938.png" alt="image-20210418124600938" style="zoom:50%;">

<p>我重新下载了GRAD的1°数据，可以正常运行Hysplit-GEM模式。</p>
<p>我又重新尝试了NCEP201807的数据，发现也可以正常运行Hysplit-GEM模式。</p>
<blockquote>
<p>所以是之前NCEP数据的问题?</p>
</blockquote>
<p>我重新运行了下NCEP198401数据，提示了不同的错误点</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210418131422441.png" alt="image-20210418131422441" style="zoom:50%;">

<p>测试了198107数据，提示了不同的错误点</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210418164440182.png" alt="image-20210418164440182" style="zoom:50%;">

<blockquote>
<p>我大概明白了，有可能因为model通过pressure height计算这个高度，导致的问题。</p>
<p>虽然NCEP没提供地形数据，但不可能是地形的问题，因为两个高度都是在一个点上。</p>
</blockquote>
<p>有时候还会又其他的提示，比如如下的提示，???</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210418151037390.png" alt="image-20210418151037390" style="zoom:50%;">

<p>这个时候看message文件，发现数据成这样子了</p>
<img src="/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/image-20210418162026572.png" alt="image-20210418162026572" style="zoom:50%;">

<blockquote>
<p>这个应该是程序运行的问题，导致数据出错了</p>
</blockquote>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/" class="post-title-link" itemprop="url">vscode设置</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-06 14:20:42" itemprop="dateCreated datePublished" datetime="2021-04-06T14:20:42+08:00">2021-04-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-26 07:24:07" itemprop="dateModified" datetime="2021-04-26T07:24:07+08:00">2021-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>334</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p>VScode是一个相当优秀的IDE，具备开源、跨平台、模块化、插件丰富、启动时间快、颜值高、可高度定制等等优秀的特质。</p>
<p>打开VSCODE的设置界面（在左下角或者快捷键<code>ctrl + ,</code>）,在右上角打开 <code>settings.json</code>，见图第一个按钮。<br><img src="/2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/20201217134709421.png" alt="在这里插入图片描述" style="zoom:50%;"></p>
<p>如何进行选中颜色变更</p>
<blockquote>
<p>注意如果前后有选项的话，要加逗号</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;workbench.colorCustomizations&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;editor.selectionBackground&quot;</span>: <span class="string">&quot;#d1d1c6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;editor.selectionHighlightBackground&quot;</span>: <span class="string">&quot;#c5293e&quot;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>





<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="post-title-link" itemprop="url">python_jupyter常用快捷键</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-06 13:45:49" itemprop="dateCreated datePublished" datetime="2021-04-06T13:45:49+08:00">2021-04-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-14 08:21:42" itemprop="dateModified" datetime="2021-04-14T08:21:42+08:00">2021-04-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>在jupyter里面具有help选项卡，里面有快捷键的完整信息</p>
</blockquote>
<h2 id="1、运行模式"><a href="#1、运行模式" class="headerlink" title="1、运行模式"></a>1、运行模式</h2><p>Jupyter notebook有两种模式：运行模式和编辑模式。<strong>Enter和Esc</strong></p>
<p>命令模式：单元格边框为蓝色（快捷键需要在命令模式使用）</p>
<img src="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/v2-5f8b2667f08bf4057a199199af028161_1440w.jpg" class title="v2-5f8b2667f08bf4057a199199af028161_1440w">

<p>编辑模式：Enter进入单元格 边框为绿色（可以写代码或者markdown文本）</p>
<img src="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/v2-049f148e7193e30baf9967d91e2b4449_1440w.jpg" class title="v2-049f148e7193e30baf9967d91e2b4449_1440w">

<p>从编辑模式回到命令模式 按esc 返回。</p>
<h3 id="命令模式-按键-Esc-开启"><a href="#命令模式-按键-Esc-开启" class="headerlink" title="命令模式 (按键 Esc 开启)"></a>命令模式 (按键 Esc 开启)</h3><ul>
<li><strong>Enter</strong> : 转入编辑模式</li>
<li><strong>Shift-Enter</strong> : 运行本单元，选中下个单元</li>
<li><strong>Ctrl-Enter</strong> : 运行本单元</li>
<li><strong>Alt-Enter</strong> : 运行本单元，在其下插入新单元</li>
<li><strong>C</strong>: 单元转入代码状态</li>
<li><strong>M</strong> :单元转入markdown状态</li>
</ul>
<p>单元格（cell）</p>
<ul>
<li><strong>A</strong> : 在上方插入新单元</li>
<li><strong>B</strong> : 在下方插入新单元</li>
<li><strong>D,D</strong> : 删除选中的单元</li>
</ul>
<p>Ctrl + /    行注释（可选中多行）。</p>
<blockquote>
<p>替代操作可以使用三个单引号’’’</p>
<p>这个快捷键操作也可用于vscode的其他语言。</p>
</blockquote>
<h2 id="将ipynb文件转换为py文件"><a href="#将ipynb文件转换为py文件" class="headerlink" title="将ipynb文件转换为py文件"></a>将ipynb文件转换为py文件</h2><ul>
<li><ul>
<li>在xxx.ipynb所在目录下，打开终端，并输入命令：</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　　　　　　　 jupyter nbconvert --to script xxx.ipynb</span><br><span class="line">　　　　　　　　其中xxx.ipynb是要转换文件的名字，转换后在该目录下出现xxx.py文件。</span><br></pre></td></tr></table></figure>







<p>高效使用jupyter notebook (重建新的)</p>
<h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">实例</span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用numpy.random模块来生成随机数组</span></span><br><span class="line">import numpy as np</span><br><span class="line">np.random.rand(10)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>一些常用的魔术命令：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">％pwd ＃打印当前工作目录</span><br><span class="line">％cd ＃更改工作目录</span><br><span class="line">％ls ＃显示当前目录中的内容</span><br><span class="line">％load [在此处插入Python文件名] ＃将代码加载到Jupyter Notebook</span><br><span class="line">％store [在此处插入变量]  ＃这使您可以传递Jupyter Notebooks之间的变量</span><br><span class="line">％who  ＃使用它列出所有变量</span><br></pre></td></tr></table></figure>

<p>查看魔术命令的完整列表：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%lsmagic</span><br></pre></td></tr></table></figure>





<h2 id="10-显示函数文档"><a href="#10-显示函数文档" class="headerlink" title="10. 显示函数文档"></a>10. 显示函数文档</h2><p>如果您忘记了特定方法/函数的参数，使用Shift + Tab获取方法的文档。单击右上角的+箭头以展开文档。</p>
<p>使用Python Matplotlib创建图表时，可能会在图表的正上方（下面突出显示的黄色）看到此文本“&lt;matplotlib.collections.PathCollection at 0x9fae910&gt;”。</p>
<p>我个人觉得很烦，可以在代码末尾添加分号隐藏文本。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加在开头，隐藏显示文本</span></span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure>

<img src="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/v2-e80564e2c815434d833c6028f4215e36_1440w.jpg" alt="img" style="zoom: 67%;">

<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sui776265233/p/9759303.html">jupyter notebook常用快捷键</a></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/245897435">高效使用Jupyter Notebook的15个技巧</a></p>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/05/shellLearning/shell-%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/05/shellLearning/shell-%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80/" class="post-title-link" itemprop="url">shell_一些有用的学习网址</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-05 14:35:13" itemprop="dateCreated datePublished" datetime="2021-04-05T14:35:13+08:00">2021-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 09:43:23" itemprop="dateModified" datetime="2021-04-15T09:43:23+08:00">2021-04-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>192</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p><a target="_blank" rel="noopener" href="http://masikkk.com/article/Linux-Shell/">小马的笔记_shell</a></p>
<blockquote>
<p>小马的笔记做的很好</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/2991.html">http://c.biancheng.net/view/2991.html</a></p>
<blockquote>
<p>非常详细的shell教程,里面有很多实例</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/">https://www.liaoxuefeng.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://c.biancheng.net/cpp/view/6999.html">http://c.biancheng.net/cpp/view/6999.html</a></p>
<p><a target="_blank" rel="noopener" href="https://kodango.com/category/tryandshare">https://kodango.com/category/tryandshare</a></p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JackZheng</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JackZheng</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">129k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:57</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
