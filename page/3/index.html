<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jackzheng-lu.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"T6J7G3EOSM","apiKey":"eee0de363005d1454615a59d0caaa505","indexName":"hexoBlogSearch","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="JackZHENG_blog">
<meta property="og:url" content="http://jackzheng-lu.github.io/page/3/index.html">
<meta property="og:site_name" content="JackZHENG_blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="JackZheng">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://jackzheng-lu.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>JackZHENG_blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">JackZHENG_blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/" class="post-title-link" itemprop="url">shell_字符串的截取</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-10 14:59:17" itemprop="dateCreated datePublished" datetime="2021-04-10T14:59:17+08:00">2021-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 09:28:17" itemprop="dateModified" datetime="2021-04-15T09:28:17+08:00">2021-04-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.8k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>2 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>z总结：</p>
<ul>
<li>基本格式 <code>$&#123;string: start :length&#125;</code></li>
<li>取右边#，取左边%，注意*的位置</li>
</ul>
</blockquote>
<h1 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 左边开始</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;string: start :length&#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 右边开始</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;string: 0-start :length&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[Neptuneyt]$</span><span class="bash"> net=<span class="string">&quot;www.baidu.com&quot;</span></span></span><br><span class="line"><span class="meta">[Neptuneyt]$</span><span class="bash"> <span class="comment"># 从第4个字符截取到baidu</span></span></span><br><span class="line"><span class="meta">[Neptuneyt]$</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;net:4:5&#125;</span> <span class="comment">#从第4个字符.开始截取5个字符</span></span></span><br><span class="line">baidu</span><br></pre></td></tr></table></figure>

<h1 id="从指定的字符开始"><a href="#从指定的字符开始" class="headerlink" title="从指定的字符开始"></a>从指定的字符开始</h1><h4 id="1-使用-号截取右边字符"><a href="#1-使用-号截取右边字符" class="headerlink" title="1) 使用 # 号截取右边字符"></a>1) 使用 # 号截取右边字符</h4><p>使用<code>#</code>号可以截取指定字符（或者子字符串）右边的所有字符，具体格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;string<span class="comment">#*chars&#125;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="2-使用-截取左边字符"><a href="#2-使用-截取左边字符" class="headerlink" title="2) 使用 % 截取左边字符"></a>2) 使用 % 截取左边字符</h4><p>使用<code>%</code>号可以截取指定字符（或者子字符串）左边的所有字符，具体格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;string%chars*&#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">使用<span class="comment">#截取</span></span></span><br><span class="line">url=&quot;http://c.biancheng.net/index.html&quot;b</span><br><span class="line"><span class="meta">#</span><span class="bash"> 表示遇到的第一个/</span></span><br><span class="line">echo $&#123;url#*/&#125;    #结果为 /c.biancheng.net/index.html</span><br><span class="line"><span class="meta">#</span><span class="bash"> 表示遇到的最后一个/</span></span><br><span class="line">echo $&#123;url##*/&#125;   #结果为 index.html</span><br><span class="line">str=&quot;---aa+++aa@@@&quot;</span><br><span class="line">echo $&#123;str#*aa&#125;   #结果为 +++aa@@@</span><br><span class="line">echo $&#123;str##*aa&#125;  #结果为 @@@</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">使用%截取</span></span><br><span class="line">url=&quot;http://c.biancheng.net/index.html&quot;</span><br><span class="line">echo $&#123;url%/*&#125;  #结果为 http://c.biancheng.net</span><br><span class="line">echo $&#123;url%%/*&#125;  #结果为 http:</span><br><span class="line">str=&quot;---aa+++aa@@@&quot;</span><br><span class="line">echo $&#123;str%aa*&#125;  #结果为 ---aa+++</span><br><span class="line">echo $&#123;str%%aa*&#125;  #结果为 ---</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="汇总表格"><a href="#汇总表格" class="headerlink" title="汇总表格"></a>汇总表格</h1><blockquote>
<p>注意，这表格最后两行是错的，*应该在char的右边</p>
</blockquote>
<img src="/2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/image-20210410210100764.png" class title="image-20210410210100764">



<h1 id="字符串替换-删除（利用正则）"><a href="#字符串替换-删除（利用正则）" class="headerlink" title="字符串替换/删除（利用正则）"></a>字符串替换/删除（利用正则）</h1><p>基本格式为，pattern为正则。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 原变量替换</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable//pattern/sub&#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 变量不变</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable/pattern/sub&#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&gt;&gt; 注意上面的这两个为字符匹配</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只替换开头匹配的字符串</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable/<span class="comment">#pattern/sub&#125;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只替换结尾匹配的字符串</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable/%pattern/sub&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net=www.baidu.com</span><br><span class="line">echo $&#123;net/baidu/google&#125; #结果为 www.google.com</span><br><span class="line">echo $net				# 结果仍为www.baidu.com</span><br></pre></td></tr></table></figure>



<p>举一反三，删除字符的方法，只要将替换的变为空值即可，看实例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;net/./&#125;</span><br><span class="line">wwwbaidu.com</span><br><span class="line">echo $&#123;net/.&#125;  #最后一个/可以不用写</span><br><span class="line">wwwbaidu.com</span><br></pre></td></tr></table></figure>







<h2 id="删除字母"><a href="#删除字母" class="headerlink" title="删除字母"></a>删除字母</h2><p>这个方法利用tr -c删除补集的功能，如有其他字符泽不能用这个方法</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bigwood99/article/details/105227113">https://blog.csdn.net/bigwood99/article/details/105227113</a></p>
<p>方法1：</p>
<p>echo “a1b2c3d4f5” | tr -d ‘a-z’</p>
<p>方法2：</p>
<p>echo “a1b2c3d4f5” | sed ‘s/[a-z]*//g’</p>
<p>方法3：</p>
<p>echo “a1b2c3d4f5” | tr -d -c ‘[0-9]’</p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42491125/article/details/101368505">shell教程（4）变量（二）：字符串变量截取、替换和删除</a> </li>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/1120.html">http://c.biancheng.net/view/1120.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/kevingrace/p/5996133.html">https://www.cnblogs.com/kevingrace/p/5996133.html</a></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/10/pythonLearning/python-jupyternotebook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/10/pythonLearning/python-jupyternotebook/" class="post-title-link" itemprop="url">python_jupyternotebook_修改默认路径</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-10 08:52:31" itemprop="dateCreated datePublished" datetime="2021-04-10T08:52:31+08:00">2021-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-14 08:21:41" itemprop="dateModified" datetime="2021-04-14T08:21:41+08:00">2021-04-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p>主要包含以下内容：</p>
<p>[TOC]</p>
<h2 id="jupyter-改字体"><a href="#jupyter-改字体" class="headerlink" title="jupyter 改字体"></a>jupyter 改字体</h2><p>直接在浏览器的自定义字体里面，将字体修改即可</p>
<h2 id="jupyter自动补全功能"><a href="#jupyter自动补全功能" class="headerlink" title="jupyter自动补全功能"></a>jupyter自动补全功能</h2><blockquote>
<p>我的extension里面已经有了这些选项，所以没有进行额外安装步骤。</p>
</blockquote>
<p>Hinterland（代码自动补全）和Variable Inspector（变量检查器）。</p>
<ul>
<li>只需在Configurable nbextensions界面Hinterland✔即可，勾选此插件为代码单元格中的每次按键启用“代码自动补全”菜单，有种在pycharm中写代码的感觉了。</li>
<li>只需在Configurable nbextensions界面Variable Inspector✔即可，显示你在notebook中创建的所有变量的名称、类型、大小、维度、变量等。</li>
</ul>
<img src="/2021/04/10/pythonLearning/python-jupyternotebook/image-20210412111412802.png" class title="image-20210412111412802">



<p>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/wyxxxx_/article/details/107388018">https://blog.csdn.net/wyxxxx_/article/details/107388018</a></p>
<h2 id="Jupyter-extension消失的问题"><a href="#Jupyter-extension消失的问题" class="headerlink" title="Jupyter extension消失的问题"></a>Jupyter extension消失的问题</h2><p>发现jupyter notebook的extension不见了，直接在anaconda的prompt窗口输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打开Anaconda Prompt窗口，执行第一个命令，用于安装nbextensions：</span></span><br><span class="line">python -m pip install jupyter_contrib_nbextensions </span><br><span class="line"><span class="meta">#</span><span class="bash"> 再执行第二个命令，用于安装 javascript and css files</span></span><br><span class="line">jupyter contrib nbextension install --user --skip-running-check  </span><br></pre></td></tr></table></figure>

<p>正常情况下应该就看到extension。如果看不到的话具体看参考链接</p>
<ul>
<li>参考链接： <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/3e38964737bc">https://www.jianshu.com/p/3e38964737bc</a></li>
</ul>
<h2 id="修改默认路径"><a href="#修改默认路径" class="headerlink" title="修改默认路径"></a>修改默认路径</h2><p>找到以下文件</p>
<p>Jupyter_notebook_config.py</p>
<p>然后打开文件，找到以下内容，改成自己想要存储的路径</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.notebook_dir = &#x27;D:\Research\Jupyter Notebook&#x27;</span><br></pre></td></tr></table></figure>

<p>保存关闭文件。此时，若是我们使用的Anaconda Prompt，通过命令jupyter notebook打开的话，已经可以使用了。</p>
<p>我们还可以通过Anaconda里自带的Jupyter Notebook打开（可以在开始菜单里找到），不过我们还需要修改一些参数。</p>
<img src="/2021/04/10/pythonLearning/python-jupyternotebook/20190613113019560.PNG" alt="在这里插入图片描述" style="zoom:50%;">

<p>在目标中找到%USERPROFILE%，并将它删除，否则打开Jupyter Notebook会一直跳到默认的C盘路径。（提醒：不要将%USERPROFILE%改成其他路径，否则很可能导致闪退现象！而且还有很多文章只更改起始位置，亲测无效！）</p>
<p>然后在起始位置里，输入自己想存放文件的路径即可。</p>
<p>==参考文献==：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44799144/article/details/91823079">jupyter路径修改</a></p>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/09/TrajectoryModel/hysplit-trajectory%E6%B5%8B%E8%AF%951/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/09/TrajectoryModel/hysplit-trajectory%E6%B5%8B%E8%AF%951/" class="post-title-link" itemprop="url">hysplit_trajectory测试1</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-09 17:00:37" itemprop="dateCreated datePublished" datetime="2021-04-09T17:00:37+08:00">2021-04-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 15:59:55" itemprop="dateModified" datetime="2021-04-15T15:59:55+08:00">2021-04-15</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>364</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p>关注的点和考虑的问题</p>
<ul>
<li><p>是否会跑到平流层上</p>
</li>
<li><p>不同的释放高度，会有什么样的不同</p>
</li>
<li><p>backforward多久比较合适，是否有一个合理的界定</p>
</li>
</ul>
<p>测试1：backforward trajectory 运行（30天，是否会跑回到12km；不同高度的区别）</p>
<h2 id="测试1：backforward-trajectory-运行"><a href="#测试1：backforward-trajectory-运行" class="headerlink" title="测试1：backforward trajectory 运行"></a>测试1：backforward trajectory 运行</h2><p>（30天，是否会跑回到12km；不同高度的区别）</p>
<p>设置3个不同高度（100, 1000, 4000)，以EGRIP ice core的地点为例，从2001年1月到2002年2月份，NCEP reanalysis 数据。</p>
<h2 id="测试2：-每6个小时开始一个trajectory"><a href="#测试2：-每6个小时开始一个trajectory" class="headerlink" title="测试2： 每6个小时开始一个trajectory"></a>测试2： 每6个小时开始一个trajectory</h2><p>思路：</p>
<p>一种就是利用循环进行（不知道模型有没有自带的功能，particle有每几个小时出一次图的功能？）</p>
<p>先将每6个小时的时间做成一个txt文档，然后使用cat功能，每次循环结束读取下一行</p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/" class="post-title-link" itemprop="url">hysplit_相关背景知识</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-09 14:45:13" itemprop="dateCreated datePublished" datetime="2021-04-09T14:45:13+08:00">2021-04-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 20:58:06" itemprop="dateModified" datetime="2021-04-15T20:58:06+08:00">2021-04-15</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%A9%BA%E6%B0%94%E8%B4%A8%E9%87%8F%E6%A8%A1%E5%9E%8B/22149638#5_3">https://baike.baidu.com/item/%E7%A9%BA%E6%B0%94%E8%B4%A8%E9%87%8F%E6%A8%A1%E5%9E%8B/22149638#5_3</a></p>
<p>大气扩散模型 Atmospheric dispersion modeling（ADM)</p>
<blockquote>
<p>The atmospheric dispersion models are also known as atmospheric diffusion models, air dispersion models, air quality models, and air pollution dispersion models.</p>
</blockquote>
<p>跟大气模型的区别？？</p>
<p>大气层垂直结构大致可分为<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E5%AF%B9%E6%B5%81%E5%B1%82">对流层 troposphere</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E5%B9%B3%E6%B5%81%E5%B1%82">平流层 stratosphere 18-50km</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E4%B8%AD%E6%B0%A3%E5%B1%A4">中间层 mesosphere 50-80km</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E5%A2%9E%E6%BA%AB%E5%B1%A4">增温层</a>及<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E5%A4%96%E6%B0%A3%E5%B1%A4">外气层</a>，</p>
<p>ADM一般只考虑到中间层。</p>
<p>对流层还有大气边界层，逆温层（1.5km-2km)和自由对流层</p>
<p>对流层最低一层叫做大气边界层或者行星边界层 <em><a target="_blank" rel="noopener" href="https://en.wikipedia.ahau.cf/wiki/Planetary_boundary_layer">atmospheric boundary layer (ABL)</a></em> or the *<a target="_blank" rel="noopener" href="https://en.wikipedia.ahau.cf/wiki/Planetary_boundary_layer">planetary boundary layer </a>*。是大气层中最接近行星表面的部分（边界层），大约占对流层的10%-20%。由于地表摩擦力，大气边界层中存在湍流，垂直混合强烈，风速、温度和湿度等物理量快速波动。大气边界层之上的部分称“自由大气”，其风速风向近似是行星自转引起的，即地转风（平行于等压线）。</p>
<p>大气边界层原因</p>
<p>大气边界层的形成主要是因为地表摩擦力 (surface resistance)的存在。一方面，近表面的空气分子受摩擦而减慢速度，类似静止，这些分子和流动的分子之间不断交换，总效果是减慢了空气流动。另一方面，更重要的是，在地表附近，空气会形成一系列不规则漩涡，变为湍流，从而对空气流动带来巨大阻力</p>
<p><strong>逆温</strong>（英语：<strong>temperature inversion</strong>）现象是一种<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E6%B0%A3%E8%B1%A1%E5%AD%B8">气象学</a>的现象，指地面上的温度随着高度越高而增加，与高度越高温度下降的正常现象相反，通常因高压笼罩，不易空气对流所致。因为较高的暖空气覆盖着较低的冷空气，可能会导致空气污染物无法散出，影响当地居民和其他生物的健康，<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/1952%E5%B9%B4%E5%80%AB%E6%95%A6%E7%85%99%E9%9C%A7%E4%BA%8B%E4%BB%B6">1952年伦敦烟雾事件</a>即为一著名案例。</p>
<p>成因</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E8%BC%BB%E5%B0%84%E9%80%86%E6%BA%AB&action=edit&redlink=1">辐射逆温</a>：最常见于冬天晴朗无风的夜晚。因地表散热快，反而比其上层之气温更低，故形成下冷上热的现象。</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E5%B1%B1%E5%9C%B0%E9%80%86%E6%BA%AB&action=edit&redlink=1">山地逆温</a>：冬季冷空气重，易沉聚谷底，造成下冷上热的现象。（例子：果树、蔬菜等农作物不栽植于谷底）</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E6%B2%89%E9%99%8D%E9%80%86%E6%BA%AB&action=edit&redlink=1">沉降逆温</a>：<a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/wiki/%E5%AF%92%E6%B0%94%E6%B5%81">寒流</a>来临时，冷空气潜入暖空气下，造成干燥且多雾天气。</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E9%8B%92%E9%9D%A2%E9%80%86%E6%BA%AB&action=edit&redlink=1">锋面逆温</a>：因为锋面而使冷空气在下、热空气在上，导致温度由低处往低高处增加，直到高过热气团后才逐渐降温。</li>
</ol>
<p>list of ADM </p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.ahau.cf/wiki/List_of_atmospheric_dispersion_models">https://en.wikipedia.ahau.cf/wiki/List_of_atmospheric_dispersion_models</a></p>
<p>sigma坐标系</p>
<p>This coordinate system receives its name from the independent variable sigma  used to represent a scaled pressure level.</p>
<p>The sigma coordinate system allows sigma-surfaces to follow model terrain; where terrain is sharply sloped, so are the sigma surfaces. </p>
<p>sigma</p>
<img src="/2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/image-20210411153009985.png" alt="image-20210411153009985" style="zoom:50%;">





<p>hybrid sigma-pressure </p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.ahau.cf/wiki/Atmospheric_dispersion_modeling">https://en.wikipedia.ahau.cf/wiki/Atmospheric_dispersion_modeling</a> </li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">hysplit_安装</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-09 13:27:16" itemprop="dateCreated datePublished" datetime="2021-04-09T13:27:16+08:00">2021-04-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-18 20:03:36" itemprop="dateModified" datetime="2021-04-18T20:03:36+08:00">2021-04-18</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>总而言之，官网上有很详细的解释，一切以官网为主。这里主要对一些信息做些记录。</p>
<p>源码需要给发邮件获得。</p>
</blockquote>
<h1 id="Hysplit-5-安装"><a href="#Hysplit-5-安装" class="headerlink" title="Hysplit 5 安装"></a>Hysplit 5 安装</h1><p>trial版本和register版本没什么不同，register版本可以额外使用预报功能。Hysplit 5 教程使用的是unregister (trial)版本。<a target="_blank" rel="noopener" href="https://www.ready.noaa.gov/index.php">Hysplit 安装的网址</a></p>
<p>需要预安装两个软件：NOAA官网有提供现在的两个软件的<a target="_blank" rel="noopener" href="https://www.ready.noaa.gov/HYSPLIT_util.php">下载链接</a></p>
<ul>
<li><p>Tcl/TK，打开软件的打开方式。Tk是一開放原始碼的圖形化使用者介面開發工具，提供許多常用的圖形介面元件，具有跨平台、輕量化等特色。官网下载地址：<a target="_blank" rel="noopener" href="https://www.tcl.tk/software/tcltk/download.html">https://www.tcl.tk/software/tcltk/download.html</a></p>
<blockquote>
<p>官网上有个叫source file，需要自己结合电脑进行compile。</p>
</blockquote>
</li>
<li><p>Ghostview，成图要用的。</p>
</li>
</ul>
<blockquote>
<p>两者最好要跟Hysplit安装在同一个drive磁盘中，否则要对Hysplit中的绘图道路进行设置</p>
<blockquote>
<p>Installation to directories different from their suggested defaults may require editing the HYSPLIT GUI launch script: \guicode\hysplit.tcl. </p>
</blockquote>
</blockquote>
<p>安装Hysplit 5， 然后修改打开方式为tcl/bin路径下的wish86t.exe文件即可，安装好的使用界面</p>
<img src="/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/image-20210330103724354.png" alt="image-20210330103724354" style="zoom:50%;">

<p>忘记了电脑是否安装了Ghostview和Ghostscript，先简单运行个example看看。在concentration栏目下有个quick start可以运行个样例：</p>
<img src="/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/image-20210330105101974.png" alt="image-20210330105101974" style="zoom:50%;">

<blockquote>
<p>ok, 基本上电脑可以运行Hysplit。</p>
<p>此外还有四种看图方式（python，Google Earth View 等），之后有需要的时候在了解。</p>
</blockquote>
<p>安装的建议：</p>
<ul>
<li><p>安装路径推荐默认路径</p>
<blockquote>
<blockquote>
<p>Installing to the default directory will make it easier to use preconfigured input files during the Tutorial as well as running example scripts without editing the directory pointer.</p>
</blockquote>
</blockquote>
</li>
<li><p>不要打开多个Hysplit窗口</p>
</li>
<li><p>将文件打开方式设为notepad，这样比较好看结果</p>
</li>
</ul>
<p>更多详细安装建议：<a target="_blank" rel="noopener" href="https://www.ready.noaa.gov/documents/Tutorial/html/install_win.html">https://www.ready.noaa.gov/documents/Tutorial/html/install_win.html</a></p>
<h2 id="Hysplit的一些资源整理"><a href="#Hysplit的一些资源整理" class="headerlink" title="Hysplit的一些资源整理"></a>Hysplit的一些资源整理</h2><p>多看看官网上面的信息，有很多现成的东西可以直接用。</p>
<p>安装Hysplit之后，在安装的目录下的document文件夹中，有<code>user-guide</code>（非常详细的说明）和<code>arl-224</code>(技术说明)。</p>
<h3 id="其他学习资源"><a href="#其他学习资源" class="headerlink" title="其他学习资源"></a>其他学习资源</h3><ul>
<li><p>官网上有视频教程</p>
</li>
<li><p>有个<a target="_blank" rel="noopener" href="https://hysplitbbs.arl.noaa.gov/viewforum.php?f=10&sid=2a13ba958cd9c4800bada947085476c3">Hysplit论坛</a>上面可以问问题，也可以看下别人是否有相同的问题。</p>
<blockquote>
<p>注意，这个需要额外注册</p>
</blockquote>
</li>
<li><p>在GUI的advance setting中，也可以调用帮助文档，查看详情（其实就是user-guide）</p>
</li>
<li><p>在官网的<a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/">frequent asked question</a>里面也有些有用信息</p>
</li>
</ul>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">shell_变量</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 19:09:18" itemprop="dateCreated datePublished" datetime="2021-04-08T19:09:18+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 09:08:15" itemprop="dateModified" datetime="2021-04-15T09:08:15+08:00">2021-04-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p> 总结：</p>
<ul>
<li>赋值变量尽量用双引号</li>
<li>引用变量用$</li>
<li>赋值变量用$()</li>
</ul>
</blockquote>
<p>在 Bash shell 中，每一个变量的值都是字符串，无论你给变量赋值时有没有使用引号，值都会以字符串的形式存储。这意味着，Bash shell 在默认情况下不会区分变量类型，即使你将整数和小数赋值给变量，它们也会被视为字符串。</p>
<h2 id="shell变量"><a href="#shell变量" class="headerlink" title="shell变量"></a>shell变量</h2><blockquote>
<p>定义变量时，变量名不加美元s符号（$，PHP语言中变量需要），如：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;runoob.com&quot;</span><br></pre></td></tr></table></figure>

<p>注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p>
<ul>
<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>
<li>中间不能有空格，可以使用下划线（_）。</li>
<li>不能使用标点符号。</li>
<li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li>
</ul>
<blockquote>
<p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br></pre></td></tr></table></figure>

<p>变量名外面的花括号是可选的，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for skill in Ada Coffe Action Java; do</span><br><span class="line">    echo &quot;I am good at $&#123;skill&#125;Script&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>如果不给skill变量加花括号，写成echo “I am good at $skillScript”，解释器就会把$skillScript当成一个变量（其值为空）。</p>
<blockquote>
<p> 推荐给所有变量加上花括号，这是个好的编程习惯。</p>
</blockquote>
<h2 id="单引号双引号区别"><a href="#单引号双引号区别" class="headerlink" title="单引号双引号区别"></a>单引号双引号区别</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url=&quot;http://c.biancheng.net&quot;</span><br><span class="line">website1=&#x27;C语言中文网：$&#123;url&#125;&#x27;</span><br><span class="line">website2=&quot;C语言中文网：$&#123;url&#125;&quot;</span><br><span class="line">echo $website1</span><br><span class="line">echo $website2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以单引号<span class="string">&#x27; &#x27;</span>包围变量的值时，单引号里面是什么就输出什么。以双引号<span class="string">&quot; &quot;</span>包围变量的值时，输出时会先解析里面的变量和命令。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>建议：变量的内容是数字，可以不加引号；如果需要原样输出就加单引号；没有特别要求的字符串等最好都加上双引号，定义变量时加双引号是最常见的使用场景。</p>
</blockquote>
<h2 id="将命令结果复制给变量"><a href="#将命令结果复制给变量" class="headerlink" title="将命令结果复制给变量"></a>将命令结果复制给变量</h2><p>有两种方式。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">variable=`command`# 网上搜资料的时候能看到，但是不推荐</span><br><span class="line">variable=$(command) # 推荐这一种</span><br></pre></td></tr></table></figure>







<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/cpp/view/6999.html">Shell变量：Shell变量的定义、删除变量、只读变量、变量类型</a></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">shell_grep_sed函数</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 16:17:34" itemprop="dateCreated datePublished" datetime="2021-04-08T16:17:34+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-15 11:05:52" itemprop="dateModified" datetime="2021-04-15T11:05:52+08:00">2021-04-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>2 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <blockquote>
<p>sed/grep/akw是 Linux 文本处理三剑客。</p>
<p>还额外记录两个函数find和ls。</p>
</blockquote>
<h1 id="grep函数"><a href="#grep函数" class="headerlink" title="grep函数"></a>grep函数</h1><p>grep 命令用于查找文件里符合条件的字符串。可以匹配正则来搜索文件中的信息。</p>
<blockquote>
<p>由于可以搜索文件的信息，因此最好不要单用grep在目录下搜索，速度非常慢</p>
<p>如果要用grep在文件夹搜索，应结合ls 使用；</p>
<p>egrep可以使用扩展正则，grep不行。</p>
</blockquote>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="基本处理"><a href="#基本处理" class="headerlink" title="基本处理"></a>基本处理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 当前文件夹找到符号条件的文件名</span></span><br><span class="line">result=$(ls | grep &quot;.md&quot;)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则的方式，md开头的文件</span></span><br><span class="line">ls | grep &quot;^md&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录中，查找后缀有 file 字样的文件, 其中包含 <span class="built_in">test</span> 字符串的文件</span></span><br><span class="line">grep test *file </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反向查找。通过<span class="string">&quot;-v&quot;</span>参数查找文件名中包含 <span class="built_in">test</span> 的文件中不包含<span class="built_in">test</span> 的行，此时，使用的命令为：</span></span><br><span class="line">grep -v test *test*</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 包含 leo 的行位于文件的第几行。</span></span><br><span class="line">grep -n leo /etc/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash">29:leo:x:503:503::/home/leo:/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> grep 在输出时，能把 leo 所在行的上面或下面的行也展示出来。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> A为after, 可替换为B(after)，C上下行都显示</span></span><br><span class="line">grep -A 1 leo passwd(文件名)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="多文件处理-正则"><a href="#多文件处理-正则" class="headerlink" title="多文件处理/正则"></a>多文件处理/正则</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 找出内容中含有first单词的txt文件都有哪些。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反向操作，把l换成L</span></span><br><span class="line">grep -l &quot;first&quot; *.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则的例子</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开头是leo的行</span></span><br><span class="line">grep &#x27;^leo&#x27; /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多条件查找，要使用扩展正则，就要使用egrep</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 用|表示或的条件</span></span><br><span class="line">egrep &#x27;^root|bash$&#x27; passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意，egrep和ls连用没有效果，也就是说不能用egrep找多条件的文件名</span></span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://linux.cn/article-6941-1.html">https://linux.cn/article-6941-1.html</a></p>
<p><a target="_blank" rel="noopener" href="http://c.biancheng.net/linux/grep.html">http://c.biancheng.net/linux/grep.html</a></p>
<p>grep的或匹配，和匹配</p>
<h1 id="sed-函数"><a href="#sed-函数" class="headerlink" title="sed 函数"></a>sed 函数</h1><p>==sed默认不修改源文件内容==，可以直接修改文件的内容（-i），</p>
<p>注意，sed 会根据脚本命令来处理文本文件中的数据，这些命令要么从命令行中输入，要么存储在一个文本文件中，此命令执行数据的顺序如下：</p>
<ol>
<li><p>每次仅读取一行内容；</p>
<blockquote>
<p>而且不会读取换行符</p>
</blockquote>
</li>
<li><p>根据提供的规则命令匹配并修改数据。注意，sed 默认不会直接修改源文件数据，而是会将数据复制到缓冲区中，修改也仅限于缓冲区中的数据；</p>
</li>
<li><p>将执行结果输出。</p>
<blockquote>
<p>要注意使用，因为我们不想修改重要信息</p>
</blockquote>
</li>
</ol>
<img src="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/image-20210408162947813.png" class title="image-20210408162947813">



<h2 id="基本格式："><a href="#基本格式：" class="headerlink" title="基本格式："></a>基本格式：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[address]s/pattern/replacement/flags</span><br><span class="line"><span class="meta">#</span><span class="bash">其中，address 表示指定要操作的具体行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> s为替换命令（即基础指令）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> pattern 指的是需要替换的内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> replacement 指的是要替换的新内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> flags是指替换的标志位</span></span><br></pre></td></tr></table></figure>



<h2 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h2><p>全部基础命令：</p>
<table>
<thead>
<tr>
<th align="left">名称</th>
<th align="left">命令</th>
<th align="left">语法</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">替换</td>
<td align="left">s</td>
<td align="left">[address]s/pattern/replacement/flags</td>
<td align="left">替换匹配的内容</td>
</tr>
<tr>
<td align="left">删除</td>
<td align="left">d</td>
<td align="left">[address]d</td>
<td align="left">删除匹配的行</td>
</tr>
<tr>
<td align="left">插入</td>
<td align="left">i</td>
<td align="left">[line-address]i\  text</td>
<td align="left">在匹配行的前方插入文本</td>
</tr>
<tr>
<td align="left">追加</td>
<td align="left">a</td>
<td align="left">[line-address]a\  text</td>
<td align="left">在匹配行的后方插入文本</td>
</tr>
<tr>
<td align="left">行替换</td>
<td align="left">c</td>
<td align="left">[address]c\  text</td>
<td align="left">将匹配的行替换成文本text</td>
</tr>
<tr>
<td align="left">打印行</td>
<td align="left">p</td>
<td align="left">[address]p</td>
<td align="left">打印在模式空间中的行</td>
</tr>
<tr>
<td align="left">打印行号</td>
<td align="left">=</td>
<td align="left">[address]=</td>
<td align="left">打印当前行行号</td>
</tr>
<tr>
<td align="left">打印行</td>
<td align="left">l</td>
<td align="left">[address]l</td>
<td align="left">打印在模式空间中的行，同时显示控制字符</td>
</tr>
<tr>
<td align="left">转换字符</td>
<td align="left">y</td>
<td align="left">[address]y/SET1/SET2/</td>
<td align="left">将SET1中出现的字符替换成SET2中对应位置的字符</td>
</tr>
<tr>
<td align="left">读取下一行</td>
<td align="left">n</td>
<td align="left">[address]n</td>
<td align="left">将下一行的内容读取到模式空间</td>
</tr>
<tr>
<td align="left">读文件</td>
<td align="left">r</td>
<td align="left">[line-address]r file</td>
<td align="left">将指定的文件读取到匹配行之后</td>
</tr>
<tr>
<td align="left">写文件</td>
<td align="left">w</td>
<td align="left">[address]w file</td>
<td align="left">将匹配地址的所有行输出到指定的文件中</td>
</tr>
<tr>
<td align="left">退出</td>
<td align="left">q</td>
<td align="left">[line-address]q</td>
<td align="left">读取到匹配的行之后即退出</td>
</tr>
</tbody></table>
<h2 id="常用的flag"><a href="#常用的flag" class="headerlink" title="常用的flag"></a>常用的flag</h2><img src="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/image-20210414102004202.png" class title="image-20210414102004202">



<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> /^categories/为正则匹配，c为替换行，c后面的语句为替换语句，<span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span>为替换的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -i 选项可以直接修改文件内容，没有-i的话，只输出，但不修改源文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> \为对特殊符号进行转义</span></span><br><span class="line">sed -i &quot;/^categories/c categories: [\&#x27;编程语言学习\&#x27;]&quot; &quot;$&#123;file&#125;&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 去除前后空格</span></span><br><span class="line">[root@linux ~]# echo &#x27; A BC &#x27; | sed -e &#x27;s/^[ ]*//g&#x27; | sed -e &#x27;s/[ ]*$//g&#x27;</span><br><span class="line">A BC</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多行匹配</span></span><br><span class="line">特殊/特定行行</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sweeter2/article/details/50876810">https://blog.csdn.net/sweeter2/article/details/50876810</a></p>
<h1 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h1><h2 id="find-函数"><a href="#find-函数" class="headerlink" title="find 函数"></a>find 函数</h2><p>直接上实例学习</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 另外一种方法,</span></span><br><span class="line">x=$(find -name &#x27;shell*.md&#x27;| tr -d &quot;[\.\/]&quot;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找计算机中所有大于1MB的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -a 和的关系</span></span><br><span class="line">find   /  -size   +1M  -a  -type  f</span><br></pre></td></tr></table></figure>

<h4 id="额外看链接"><a href="#额外看链接" class="headerlink" title="额外看链接"></a>额外看链接</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Sunny_Future/article/details/80321478">Shell中find命令查找指定文件或目录</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_xuanshuang/article/details/107453783">https://blog.csdn.net/qq_xuanshuang/article/details/107453783</a></p>
<h2 id="ls-匹配"><a href="#ls-匹配" class="headerlink" title="ls 匹配"></a>ls 匹配</h2><p>[ ] 匹配文件，[ … ] 匹配 [ ] 中所包含的任意一个字符。有两种匹配方式：</p>
<ul>
<li>杂乱匹配：ls /etc/[wsdcr]syslog.conf；</li>
<li>范围匹配：ls [0-9] [a-zA-Z].txt</li>
</ul>
<p>[ !… ] 匹配 [ ] 中非感叹号！之后的任意一个字符，它与上一条规则刚好相反。举例：ls [!0-9]*.txt。此条是匹配非数字开头的后缀名为 txt 的所有文件。</p>
<blockquote>
<p>注意这里的<code>*</code>和正则里面不一样，我一开始记混了。</p>
</blockquote>
<h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 不含p开头的md</span></span><br><span class="line">ls [!p]*.md</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 暂时没找到多条件的</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以结合sed和grep使用，然后用管道</span></span><br><span class="line"></span><br><span class="line">遍历目录下的文件名</span><br><span class="line">for file in `ls /bin`; do                                                                           </span><br><span class="line">    echo $&#123;file&#125;                                                                                     </span><br><span class="line">done  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>额外看链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhaochi/p/12846696.html">https://www.cnblogs.com/zhaochi/p/12846696.html</a></p>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4028.html">Linux sed命令完全攻略</a></li>
<li><a target="_blank" rel="noopener" href="https://kodango.com/sed-and-awk-notes-part-6">https://kodango.com/sed-and-awk-notes-part-6</a></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">python_正则表达式</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 12:14:59" itemprop="dateCreated datePublished" datetime="2021-04-08T12:14:59+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-27 21:58:12" itemprop="dateModified" datetime="2021-04-27T21:58:12+08:00">2021-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">编程语言学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>1 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <h1 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h1><p>正则是字符串匹配。</p>
<p>开头导入re模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure>

<p>总结</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># ^ 匹配字符串的开始。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># $ 匹配字符串的结尾。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \b 匹配一个单词的边界。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \d 匹配任意数字。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \D 匹配任意非数字字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x? 匹配一个可选的 x 字符 (换言之，它匹配 1 次或者 0 次 x 字符)。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x* 匹配0次或者多次 x 字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x+ 匹配1次或者多次 x 字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x&#123;n,m&#125; 匹配 x 字符，至少 n 次，至多 m 次。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># (a|b|c) 要么匹配 a，要么匹配 b，要么匹配 c。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># (x) 一般情况下表示一个记忆组 (remembered group)。你可以利用 re.search 函数返回对象的 groups() 函数获取它的值。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 正则表达式中的点号通常意味着 “匹配任意单字符”</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="部分实例：-注意举一反三"><a href="#部分实例：-注意举一反三" class="headerlink" title="部分实例：(注意举一反三)"></a>部分实例：(注意举一反三)</h2><ul>
<li>提取小数：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;A1.45，b5，6.45，8.82&quot;</span><br><span class="line">print re.findall(r&quot;\d+\.?\d*&quot;,string)</span><br><span class="line"><span class="meta">#</span><span class="bash"> [<span class="string">&#x27;1.45&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6.45&#x27;</span>, <span class="string">&#x27;8.82&#x27;</span>]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>匹配包含指定字符串开头的，例如提取loss开头的字符串：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tensorflow:Final best valid 0 loss=0.20478513836860657 norm_loss=0.767241849151384 roc=0.8262403011322021 pr=0.39401692152023315 calibration=0.9863265752792358 rate=0.0</span><br><span class="line"></span><br><span class="line">pattern = re.compile(r&#x27;(?:loss=)\d+\.?\d*&#x27;)</span><br><span class="line">pattern.findall(string)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> [<span class="string">&#x27;loss=0.20478513836860657&#x27;</span>, <span class="string">&#x27;loss=0.767241849151384&#x27;</span>]</span></span><br></pre></td></tr></table></figure>



<img src="/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/2018101517282367.png" class width="2018101517282367">



<h1 id="fnmatch-模块"><a href="#fnmatch-模块" class="headerlink" title="fnmatch 模块"></a>fnmatch 模块</h1><p>提供shell-like的搜索，跟正则不大一样</p>
<table>
<thead>
<tr>
<th align="left">Pattern</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>*</code></td>
<td align="left">matches everything</td>
</tr>
<tr>
<td align="left"><code>?</code></td>
<td align="left">matches any single character</td>
</tr>
<tr>
<td align="left"><code>[seq]</code></td>
<td align="left">matches any character in <em>seq</em></td>
</tr>
<tr>
<td align="left"><code>[!seq]</code></td>
<td align="left">matches any character not in <em>seq</em></td>
</tr>
</tbody></table>
<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010412858/article/details/83062200">python正则表达式从字符串中提取数字</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.python.org/3.9/library/fnmatch.html#module-fnmatch">fnmatch模块</a></li>
</ul>
<ul>
<li></li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/" class="post-title-link" itemprop="url">hysplit_conc测试</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 10:48:09" itemprop="dateCreated datePublished" datetime="2021-04-08T10:48:09+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-19 08:17:20" itemprop="dateModified" datetime="2021-04-19T08:17:20+08:00">2021-04-19</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>2.8k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>3 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p>项目记录</p>
<p>创新点：</p>
<ul>
<li>研究SPE的Be7运移</li>
</ul>
<p>已经可以进行全球的模拟，但是得使用GRAD 1°的数据，NCEP数据有问题</p>
<ul>
<li>如何实现全球范围的释放</li>
<li>含有Be10特性的模拟问题</li>
<li>实现1个月的模拟</li>
<li>解决NCEP的问题</li>
<li>Sulfate 模块运行问题（可能要看下源程序；进行修改添加）</li>
</ul>
<p>发现问题，使用GADS的时候，并不能读取source文件，提示source point 不再gird上，无输出结果。</p>
<blockquote>
<p>发现如果不在control的文件里设置emission，就不会有值。这很奇怪，因为我用NCAR的数据还好好的</p>
<p>一种解决方法就是：在emission里面，把时间设置为数值，就能解决。（不过仍然不知道为啥有这问题）</p>
</blockquote>
<p>(Yaqiang Wang et al 2011 ER),设置为每6小时到GEM中去，一共1600,000个particles</p>
<p>面积</p>
<h1 id="经验"><a href="#经验" class="headerlink" title="经验"></a>经验</h1><p>以后control，setup等的内部选项只增不减，并添加上简要的解释。方便于我修改参数。</p>
<p>每6小时的trajectory，可以在setup.cfg中设定NSTR=6。也可以多条/多时间的变化（看user-guide）。</p>
<p>总是要记得备份，尤其是模拟不同时段的运移模型时候</p>
<p>注意在运行SPE事件的时候，采样浓度要多层次level，因为高浓度的Be10并不会降下来。计算的浓度时根据设定来的</p>
<blockquote>
<p>这也是为啥有时候会出现无浓度的情况，因为设置不对。</p>
<p>同时也要注意，GEM和Hysplit有各自浓度的设定。</p>
</blockquote>
<p>由于source点比较稀疏，可以设置release的面积</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="program-exception-access-violation的问题"><a href="#program-exception-access-violation的问题" class="headerlink" title="program exception-access violation的问题"></a>program exception-access violation的问题</h2><p>运行Hysplit出现的program exception-access violation的问题。我在运行30天的back-trajectory或者大面积的forward的时候，都出现了这个<code>program exception-access violation</code>的问题。Google之后发现Fortran出现这个一般都是数组越界。因为hysplit为了增加计算时间默认了mgmin为10°，我猜测这个容易造成越界问题。</p>
<p>解决方法是</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MGMIN=40</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果想要全球尺度的，可以改为999。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 但是如果多点的话，不推荐这样做，因为极大增加了运算时间。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>详细的可以看看user-guide里面介绍的sub-grid size。对于长时间尺度的运移，MGMIN太小的话，有可能造成不同时间的sub-gird在空间上没有重叠。</p>
</blockquote>
<h2 id="NCEP-terrain-height的问题"><a href="#NCEP-terrain-height的问题" class="headerlink" title="NCEP terrain height的问题"></a>NCEP terrain height的问题</h2><p>我跑了NCEP的30天的back-trajectory，发现里面的地形出现了负数（一般在海洋地区）。查资料发现，原来NCEP本身是不提供地形资料的。地形资料是通过如下方法计算的:</p>
<blockquote>
<p>The terrain is estimated using the hypsometric equation. However, to calculate its trajectory model uses a sigma terrain following vertical coordinate that has been remapped internally from the vertical coordinate of the meteorological dataset. In that way we make sure that the trajectories do not go below the surface as defined in the original meteorological dataset.</p>
</blockquote>
<p>参考链接: <a target="_blank" rel="noopener" href="https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068">https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068</a></p>
<h2 id="NCEP-height-inversion问题"><a href="#NCEP-height-inversion问题" class="headerlink" title="NCEP height inversion问题"></a>NCEP height inversion问题</h2><p>使用NCEP198401数据（1984年1月份）运行GEM模型的时候，提示在北纬83度？和73？的位置高度逆转。</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418124600938.png" alt="image-20210418124600938" style="zoom:50%;">

<p>我重新下载了GRAD的1°数据，可以正常运行Hysplit-GEM模式。</p>
<p>我又重新尝试了NCEP201807的数据，发现也可以正常运行Hysplit-GEM模式。</p>
<blockquote>
<p>所以是之前NCEP数据的问题?</p>
</blockquote>
<p>我重新运行了下NCEP198401数据，提示了不同的错误点</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418131422441.png" alt="image-20210418131422441" style="zoom:50%;">

<p>测试了198107数据，提示了不同的错误点</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418164440182.png" alt="image-20210418164440182" style="zoom:50%;">

<blockquote>
<p>我大概明白了，有可能因为model通过pressure height计算这个高度，导致的问题。</p>
<p>虽然NCEP没提供地形数据，但不可能是地形的问题，因为两个高度都是在一个点上。</p>
</blockquote>
<p>有时候还会又其他的提示，比如如下的提示，???</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418151037390.png" alt="image-20210418151037390" style="zoom:50%;">

<p>这个时候看message文件，发现数据成这样子了</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418162026572.png" alt="image-20210418162026572" style="zoom:50%;">

<blockquote>
<p>这个应该是程序运行的问题，导致数据出错了</p>
</blockquote>
<h2 id="particle-模式"><a href="#particle-模式" class="headerlink" title="particle 模式"></a>particle 模式</h2><p>particle模式跑到后面会越来越慢，因为</p>
<ul>
<li><p>测试1 批量进行气象数据缩小 （完成）</p>
</li>
<li><p>测试2 在stratosphere的粒子运动（最高30km）</p>
<blockquote>
<p>气象数据的最高高度为30km，如果直接设置30km会报错，可以设置为29.9km</p>
</blockquote>
</li>
<li><p>测试3 时间连接问题（完成）</p>
</li>
<li><p>问题4 粒子问题？（貌似有粒子的上限，以及如何对粒子释放做出修改）</p>
</li>
</ul>
<h2 id="测试1-批量进行气象数据缩小"><a href="#测试1-批量进行气象数据缩小" class="headerlink" title="测试1  批量进行气象数据缩小"></a>测试1  批量进行气象数据缩小</h2><p>根据教程中的介绍，貌似气象数据可以裁剪，为局部区域进行运行。因为这只是运移模型？</p>
<p>在下载的文件中，有个现成的软件可以进行气象数据的裁剪</p>
<blockquote>
<p>搜索 “xtrct_grid.exe，注意，文件夹的输入是C:\Users\zmjhh\Desktop\NCEP197611\，不要忘记最后要有个斜线<code>\</code>。</p>
</blockquote>
<blockquote>
<p># 思路 (使用shell文件完成)</p>
<p># &gt; 每次创建一个新的txt文件，将信息存入其中</p>
<p># &gt; 然后重定向输入到exe的应用程序中去 （重定行功能）</p>
<p># &gt; 最后将输出进行重命名 (mv函数)</p>
</blockquote>
<h2 id="测试2-在stratosphere的粒子运动（最高30km）"><a href="#测试2-在stratosphere的粒子运动（最高30km）" class="headerlink" title="测试2 在stratosphere的粒子运动（最高30km）"></a>测试2 在stratosphere的粒子运动（最高30km）</h2><p>运行基本ok，气象数据的最高高度为30km，如果直接设置30km有可能会报错，可以设置为29.9km。</p>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210409152543732.png" alt="image-20210409152543732" style="zoom: 50%;">



<h2 id="测试3-时间连接问题"><a href="#测试3-时间连接问题" class="headerlink" title="测试3 时间连接问题"></a>测试3 时间连接问题</h2><p>由于运行是一个cycle一个cycle进行的，所以有两种方法</p>
<ul>
<li>可以运行到每月的月底，然后重开一个cycle</li>
<li>或者更简单的，直接把所有的气象数据放进去运行（推荐）</li>
</ul>
<p>测试后发现只要如下设置即可</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">这些气象数据信息最好一起</span><br><span class="line">  echo &quot;2                      &quot;&gt;&gt;CONTROL #数量</span><br><span class="line">  echo &quot;$DATA/                  &quot;&gt;&gt;CONTROL #文件位置1</span><br><span class="line">  echo &quot;$&#123;data&#125;                  &quot;&gt;&gt;CONTROL # 数据1</span><br><span class="line">  echo &quot;$DATA/                  &quot;&gt;&gt;CONTROL #文件位置2</span><br><span class="line">  echo &quot;$&#123;data2&#125;                  &quot;&gt;&gt;CONTROL # 数据2</span><br></pre></td></tr></table></figure>







<h2 id="高度问题"><a href="#高度问题" class="headerlink" title="高度问题"></a>高度问题</h2><p>这是一个三十天的back-trajectory的模拟。我选择的高度是500米，从这个图上可以看出几个问题，trajectory几乎是沿着地面的运动的，收到地形的影响挺大的。</p>
<ul>
<li>这个高度的运移说明不确定性很大。</li>
<li>三十天的结果并不一定是可靠的，有可能是模型硬算的一个结果。</li>
</ul>
<img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210411093407709.png" alt="image-20210411093407709" style="zoom:50%;">

<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul>
<li>无</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jackzheng-lu.github.io/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackZheng">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackZHENG_blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">hysplit_常问的问题</a>
        </h2>
    
        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
    
              <time title="Created: 2021-04-08 10:48:09" itemprop="dateCreated datePublished" datetime="2021-04-08T10:48:09+08:00">2021-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-11 15:55:19" itemprop="dateModified" datetime="2021-04-11T15:55:19+08:00">2021-04-11</time>
              </span>
    
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>3.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时间 &asymp;</span>
              <span>3 mins.</span>
            </span>
    
        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">
    
      
          <p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/">https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/</a></p>
<p>快速过了一遍常问的问题，将对项目有用的信息做个摘录，直接点感叹号就可以到原网址</p>
<p>该网址可以多看看</p>
<p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/">https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/</a></p>
<p>重要！</p>
<blockquote>
<p>对于很小的气象数据改动，trajectory的结果出现很大的不确定性时，需要注意解释</p>
<p>精度（precision）和准度（accuracy)，Hysplit model 的精度为1%/天，会随着时间的推移而叠加。hysplit的准度问题很大随着时间推移而改变，10天的准度问题会达到15°左右。</p>
</blockquote>
<h1 id="气象数据类"><a href="#气象数据类" class="headerlink" title="气象数据类"></a>气象数据类</h1><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/what-archived-data-are-available-on-the-web-to-run-hysplit-with/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>What archived data are available on the web to run HYSPLIT with?</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/what-data-is-used-to-calculate-the-hysplit-trajectories-and-what-is-the-the-vertical-resolution-of-the-data/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>What data is used to calculate the trajectories and what is the the vertical resolution of the data? </p>
<blockquote>
<p>这主要取决于气象数据</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-6/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> However, in one case when I calculated 120-hour backward trajectories from Potsdam, NY at 1800 on April 8, 1999 using both the EDAS and FNL data bases, I found that the EDAS data suggested the air was in the upper midwest 5 days prior, but the FNL put it into northern Quebec. Why the difference?</p>
</li>
</ul>
<blockquote>
<p>结果不同一般是由于气象数据的精度不同。</p>
<p>关于trajectory的通常步骤，运行一个点相近的不同高度的trajectory（e.g.300m 400m, 500m)，如果结果相似，那么结果比较可靠，如果发散，说明不确定大（not precide）</p>
</blockquote>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/i-will-be-converting-ecmwf-grib-files/"><img src="https://www.arl.noaa.gov/wp_arl/wp-content/uploads/2017/10/info2.gif" alt="Click for answer."></a>I will be converting ECMWF grib files into ARL-packed format for use in calculating backward trajectories in Europe using your HYSPLIT model. What fields do I need to have for HYSPLIT to properly calculate my trajectories?</p>
<blockquote>
<p>不推荐自己进行数据的转换，需要一定的工作量，否则看介绍</p>
</blockquote>
</li>
</ul>
<p>When I set up a matrix run and have the heights specified at a certain altitude (using MSL), why do the results show the starting points at different heights instead of at a constant one?</p>
<p>有些时候Mean Sea Level(MSL) 会低于地面，所以Hysplit会自动校对高度等于地面。<a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc26/">link</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/backward-trajectories-starting-at-a-rural-east-coast-site/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>When I get backward trajectories starting at a rural East Coast site in NJ, which starting height(s) do you suggest is (are) appropriate? The terrain of the site is flat and near sea level. I am also wondering how long of a trajectory duration is recommended.</li>
</ul>
<blockquote>
<p>如果是想知道地面的空气来源，则是贴近地面，如果想知道水汽，则是高于云层的高度。一般选取两到三个高度进行测试，一般来讲对于48小时内的trajectory精度还是OK的，对于更长时间尺度的问题，主要是用于聚类分析来分析这个情况</p>
</blockquote>
<h1 id="模型设置"><a href="#模型设置" class="headerlink" title="模型设置"></a>模型设置</h1><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/if-i-choose-agl/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> If I choose AGL for the start height, does that mean that for the entire model run the computed heights are relative to the ground? I’m concerned about this because of the terrain in the mountains. I don’t want values to be “underground.”</p>
<blockquote>
<p>AGL的设定，仅用于最开始模型的运行。气体的垂直运动不会造成气体低于地面</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/which-value-should-i-input-as-the-start-height/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>Which value should I input as the start height (MAGL)? What does “above model ground level” mean?</p>
<blockquote>
<p>地形（terrain）取决于输入的气象数据。如果气象数据精度高，地形的精度也就很高。低精度的数据会平滑掉一些地貌（高山和谷底）。</p>
<blockquote>
<p>The best we can do is to look at the surface pressure and the mean sea-level pressure at the starting location and estimate the height above sea level of the model terrain at your location.</p>
</blockquote>
<p>根据mean sea-level pressure (MSLP) 和采样点的the surface pressure (PRSS)的差别，估算地形高度。一个简单的近似，1mb=10m。比如：</p>
<blockquote>
<p>35.66N, -82.38W; 1030mb MSLP and 939 mb PRSS taking the difference gives 91mb. A quick estimate is to assume a hydrostatic atmosphere, or approximately 10 meters per mb. This gives 910 MASL, which is what the model sees as the terrain height. </p>
</blockquote>
</blockquote>
</li>
</ul>
<h1 id="结果分析"><a href="#结果分析" class="headerlink" title="结果分析"></a>结果分析</h1><h2 id="TRAJECTORY"><a href="#TRAJECTORY" class="headerlink" title="TRAJECTORY"></a>TRAJECTORY</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg13/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>How does HYSPLIT consider the vertical coordinate. If a trajectory meets the surface how does HYSPLIT work? Does it reflect, or use another method to solve it?</p>
<blockquote>
<p>如果到了boundary，继续运行。（很显然这不是我们想要看到的结果）在dispersion 模式下，particle会反弹。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg25/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>Is the effect of the boundary layer considered when the model computes the trajectory?</p>
<blockquote>
<p>并没有考虑到热力运动，只有在dispersion的模式下才有考虑。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg5/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>When I ran a forward trajectory from a location on a previously computed backward trajectory, I did not return to the starting location of my backward trajectory. Why?</p>
<blockquote>
<p>误差问题，开始0.1°的偏差，10天后的偏差回达到15°。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg39/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> Why are there small differences in my trajectories when I run more than one at a time versus running just one trajectory?</p>
<blockquote>
<p>模型并没有使用全部的气象数据，而是使用部分的气象数据sub-grid data，根据开始的地点设定数据的中心。当trajectory运行到气象数据的边界时，模型会重新定义中心，并重新计算。因此，使用多个开始的点和一个开始的点时，所用的气象数据会有所不同的。垂直运动的计算考虑了这一因素。因此结果会有些许不同。</p>
</blockquote>
</li>
</ul>
<h2 id="CONCENTRATION"><a href="#CONCENTRATION" class="headerlink" title="CONCENTRATION"></a>CONCENTRATION</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg4/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>How is concentration defined in HYSPLIT and how does it relate to the radiation units of Bacquerel?</p>
<blockquote>
<p>输入的单位时mass/每小时，这个mass由用户自己决定，最后的结果是mass/m3，如果定义是Bq/小时，那最后的结果就是Bq/m3。</p>
</blockquote>
</li>
</ul>

      
    </div>
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JackZheng</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JackZheng</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">113k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:43</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  

</body>
</html>
