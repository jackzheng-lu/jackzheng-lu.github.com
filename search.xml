<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hysplit_binary_netCDF</title>
      <link href="2021/04/27/TrajectoryModel/hysplit-binary-netCDF/"/>
      <url>2021/04/27/TrajectoryModel/hysplit-binary-netCDF/</url>
      
        <content type="html"><![CDATA[<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>  NetCDF全称为network Common Data Format，中文译法为“网络通用数据格式”，对程序员来说，它和zip、jpeg、bmp文件格式类似，都是一种文件格式的标准。netcdf文件开始的目的是用于存储气象科学中的数据，现在已经成为许多数据采集软件的生成文件的格式。</p><p> 从数学上来说，netcdf存储的数据就是一个多自变量的单值函数。用公式来说就是f(x,y,z,…)=value, </p><ul><li><p>函数的自变量x,y,z等在netcdf中叫做维(dimension)或坐标轴(axix)</p></li><li><p>函数值value在netcdf中叫做变量(Variables)</p></li><li><p>而自变量和函数值在物理学上的一些性质，比如计量单位(量纲)、物理学名称等等在netcdf中就叫属性(Attributes)</p></li></ul><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/loyal0821/article/details/80581596">https://blog.csdn.net/loyal0821/article/details/80581596</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python_异常处理tryExcept</title>
      <link href="2021/04/27/pythonLearning/python-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86tryExcept/"/>
      <url>2021/04/27/pythonLearning/python-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86tryExcept/</url>
      
        <content type="html"><![CDATA[<p><a href="http://c.biancheng.net/python/">Python</a> 中，用<code>try except</code>语句块捕获并处理异常，其基本语法结构如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  可能产生异常的代码块</span><br><span class="line"><span class="keyword">except</span> [ (Error1, Error2, ... ) [<span class="keyword">as</span> e] ]:</span><br><span class="line">  处理异常的代码块<span class="number">1</span></span><br><span class="line"><span class="keyword">except</span> [ (Error3, Error4, ... ) [<span class="keyword">as</span> e] ]:</span><br><span class="line">  处理异常的代码块<span class="number">2</span></span><br><span class="line"><span class="keyword">except</span> [Exception]:</span><br><span class="line">  处理其它异常</span><br></pre></td></tr></table></figure><p>从<code>try except</code>的基本语法格式可以看出，try 块有且仅有一个，但 except 代码块可以有多个，且每个 except 块都可以同时处理多种异常。</p><blockquote><p>根据error的不同，采取不同的措施</p></blockquote><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    a = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;输入被除数：&quot;</span>))</span><br><span class="line">    b = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;输入除数：&quot;</span>))</span><br><span class="line">    c = a / b</span><br><span class="line">    print(<span class="string">&quot;您输入的两个数相除的结果是：&quot;</span>, c )</span><br><span class="line"><span class="keyword">except</span> (ValueError, ArithmeticError):</span><br><span class="line">    print(<span class="string">&quot;程序发生了数字格式异常、算术异常之一&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> :</span><br><span class="line">    print(<span class="string">&quot;未知异常&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;程序继续运行&quot;</span>)</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="http://c.biancheng.net/view/4599.html">http://c.biancheng.net/view/4599.html</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>shell_debug调试</title>
      <link href="2021/04/26/shellLearning/shell-debug%E8%B0%83%E8%AF%95/"/>
      <url>2021/04/26/shellLearning/shell-debug%E8%B0%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>比较常用的就是 -n 和 -x</p></blockquote><p>我们在前面介绍的调试手段是通过修改shell脚本的源代码，从其输出相关的调试信息来定位错误的，那有没有不修改源代码来调试shell脚本的方法呢？有的，那就是使用shell的执行选项，下面将介绍一些常用选项的用法：</p><p>-n 只读取shell脚本，但不实际执行<br>-x 进入跟踪方式，显示所执行的每一条命令<br>-c “string” 从strings中读取命令</p><p>“-n”可用于测试shell脚本是否存在语法错误，但不会实际执行命令。</p><p>在shell脚本编写完成之后，实际执行之前，首先使用”-n”选项来测试脚本是否存在语法错误是一个很好的习惯。因为某些shell脚本在执行时会对系统环境产生影响，比如生成或移动文件等，如果在实际执行才发现语法错误，您不得不手工做一些系统环境的恢复工作才能继续测试这个脚本。</p><p>“-x”选项可用来跟踪脚本的执行，是调试shell脚本的强有力工具。”-x”选项使shell在执行脚本的过程中把它实际执行的每一个命令行显示出来，并且在行首显示一个”+”号。 “+”号后面显示的是经过了变量替换之后的命令行的内容，有助于分析实际执行的是什么命令。 “-x”选项使用起来简单方便，可以轻松对付大多数的shell调试任务,应把其当作首选的调试手段。</p><p>首先使用“-n”选项检查语法错误，然后使用“-x”选项跟踪脚本的执行，使用“-x”选项之前，别忘了先定制PS4变量的值来增强“-x”选项的输出信息，至少应该令其输出行号信息(先执行export PS4=’+[$LINENO]’，更一劳永逸的办法是将这条语句加到您用户主目录的.bash_profile文件中去)，这将使你的调试之旅更轻松。也可以利用trap,调试钩子等手段输出关键调试信息，快速缩小排查错误的范围，并在脚本中使用“set -x”及“set +x”对某些代码块进行重点跟踪。这样多种手段齐下，相信您已经可以比较轻松地抓出您的shell脚本中的臭虫了。<br>如果您的脚本足够复杂，还需要更强的调试能力，可以使用shell调试器bashdb，这是一个类似于GDB的调试工具，可以完成对shell脚本的断点设置，单步执行，变量观察等许多功能，使用bashdb对阅读和理解复杂的shell脚本也会大有裨益。关于bashdb的安装和使用，不属于本文范围，您可参阅<a href="http://bashdb.sourceforge.net/%E4%B8%8A%E7%9A%84%E6%96%87%E6%A1%A3%E5%B9%B6%E4%B8%8B%E8%BD%BD%E8%AF%95%E7%94%A8">http://bashdb.sourceforge.net/上的文档并下载试用</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/weixin_42167759/article/details/80700719">https://blog.csdn.net/weixin_42167759/article/details/80700719</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python_类和对象</title>
      <link href="2021/04/25/pythonLearning/python-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/"/>
      <url>2021/04/25/pythonLearning/python-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Python 是面向对象的编程语言。</p><p>面向对象编程（Object-oriented Programming，简称 OOP），是一种封装代码的方法。比如说，将乱七八糟的数据扔进列表中，这就是一种简单的封装，是数据层面的封装；把常用的代码块打包成一个函数，这也是一种封装，是语句层面的封装。</p><blockquote><p>代码封装，其实就是隐藏实现功能的具体代码，仅留给用户使用的接口，就好像使用计算机，用户只需要使用键盘、鼠标就可以实现一些功能，而根本不需要知道其内部是如何工作的。</p></blockquote><p>面向对象中，常用术语包括：</p><ul><li>类：可以理解是一个模板，通过它可以创建出无数个具体实例。比如，前面编写的 tortoise 表示的只是乌龟这个物种，通过它可以创建出无数个实例来代表各种不同特征的乌龟（这一过程又称为类的实例化）。</li><li>对象：类并不能直接使用，通过类创建出的实例（又称对象）才能使用。这有点像汽车图纸和汽车的关系，图纸本身（类）并不能为人们使用，通过图纸创建出的一辆辆车（对象）才能使用。</li><li>属性：类中的所有变量称为属性。例如，tortoise 这个类中，bodyColor、footNum、weight、hasShell 都是这个类拥有的属性。</li><li>方法：类中的所有函数通常称为方法。不过，和函数所有不同的是，类方法至少要包含一个 self 参数（后续会做详细介绍）。例如，tortoise 类中，crawl()、eat()、sleep()、protect() 都是这个类所拥有的方法，类方法无法单独使用，只能和类的对象一起使用。</li></ul><h1 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h1><blockquote><p>注意，如果由单词构成类名，建议每个单词的首字母大写，其它字母小写。</p></blockquote><p>通过上面的分析，可以得出这样一个结论，即 Python 类是由类头（class 类名）和类体（统一缩进的变量和函数）构成。例如，下面程序定义一个 TheFirstDemo 类：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TheFirstDemo</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;这是一个学习Python定义的第一个类&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># 下面定义了一个类属性</span></span><br><span class="line">    add = <span class="string">&#x27;http://c.biancheng.net&#x27;</span></span><br><span class="line">    <span class="comment"># 下面定义了一个say方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say</span>(<span class="params">self, content</span>):</span></span><br><span class="line">        print(content)</span><br></pre></td></tr></table></figure><p>在创建类时，我们可以手动添加一个 <strong>init</strong>() 方法，该方法是一个特殊的类实例方法，称为构造方法（或构造函数）。</p><p>构造方法用于创建对象时使用，每当创建一个类的实例对象时，<a href="http://c.biancheng.net/python/">Python</a> 解释器都会自动调用它。<a href="http://c.biancheng.net/python/">Python</a> 类中，手动添加构造方法的语法格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,...</span>):</span></span><br><span class="line">    代码块</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="http://c.biancheng.net/view/4512.html">http://c.biancheng.net/view/4512.html</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>matlab_并行加速运算</title>
      <link href="2021/04/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%B9%B6%E8%A1%8C%E5%8A%A0%E9%80%9F%E8%BF%90%E7%AE%97/"/>
      <url>2021/04/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%B9%B6%E8%A1%8C%E5%8A%A0%E9%80%9F%E8%BF%90%E7%AE%97/</url>
      
        <content type="html"><![CDATA[<p>高性能计算(High Performance Computing，HPC)是计算机科学的一个分支，研究并行算法和开发相关软件，致力于开发高性能计算机。可见并行计算是高性能计算的不可或缺的重要组成部分。</p><p>并行计算（Parallel Computing）是指同时使用多种计算资源解决计算问题的过程，是提高计算机系统计算速度和处理能力的一种有效手段。它的基本思想是用多个处理器来协同求解同一问题，即将被求解的问题分解成若干个部分，各部分均由一个独立的处理机来并行计算。并行计算系统既可以是专门设计的、含有多个处理器的超级计算机，也可以是以某种方式互连的若干台的独立计算机构成的集群。通过并行计算集群完成数据的处理，再将处理的结果返回给用户</p><p>平台是并行计算的载体，它决定着你可以用或只能用什么样的技术来实现并行计算。</p><p>多核和集群技术的发展，使得并行程序的设计成为提高数值计算效率的主流技术之一。常用的小型计算平台大致分为：由多核和多处理器构建的单计算机平台；由多个计算机组成的集群（Cluster）。前者通过共享内存进行数据交互，后者通过网络进行数据通信。</p><p>计算正在从 CPU（中央处理）向 CPU 与 GPU（协同处理）的方向发展。</p><p>GPU最早主要应用在图形计算机领域，近年来，它在通用计算机领域得到了迅猛的发展，使用GPU做并行计算已经变得越来越重要和高效。</p><p>常用的并行计算技术包括多线程技术、基于共享内存的OpenMP技术，基于集群的MPI技术等。但它们都需要用户处理大量与并行计算算法无关的技术细节，且不提供高效的算法库，与数值计算的关联较为松散。</p><h1 id="2-Matlab并行计算初探"><a href="#2-Matlab并行计算初探" class="headerlink" title="2. Matlab并行计算初探"></a>2. Matlab并行计算初探</h1><p>Matlab 并行计算工具箱，使用多核处理器，GPU和计算机集群，解决计算和数据密集型问题。高层次的结构并行for循环，特殊阵列类型和并行数值算法，让你在没有而CUDA或MPI编程基础的条件下并行MATLAB应用程序。您可以使用带有Simulink的工具箱并行运行一个模型的多个仿真。</p><p>该工具箱，通过在本地workers（MATLAB计算引擎）上执行应用程序，来使用多核台式机的全部处理能力。不用改变代码，就可以在计算机集群或网格计算服务（使用MATLAB分布式计算服务器™）上运行相同的应用程序。可以交互地或批处理地运行并行应用程序。</p><p>包含以下特性：</p><ul><li>并行for循环 (parfor)，可以在多个处理器上运行任务并行算法。</li><li>支持CUDA的NVIDIA GPU。</li><li>通过本地workers，充分利用台式机的多核处理器。</li><li>计算机集群和网格计算支持（通过MATLAB分布式计算服务）。</li><li>以交互方式和批量方式执行并行应用程序。</li><li>分布式阵列和SPMD（single-program-multiple-data），用于大型数据集的处理和数据并行算法。</li></ul><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/haoji007/article/details/103409063">https://blog.csdn.net/haoji007/article/details/103409063</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>matlab_gpu加速运算</title>
      <link href="2021/04/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-gpu%E5%8A%A0%E9%80%9F%E8%BF%90%E7%AE%97/"/>
      <url>2021/04/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-gpu%E5%8A%A0%E9%80%9F%E8%BF%90%E7%AE%97/</url>
      
        <content type="html"><![CDATA[<p>在MATLAB上做GPU计算主要分为三个步骤：数据的初始化、对GPU数据进行操作、把GPU上的数据回传给CPU。</p><blockquote><p>有时候GPU受限于硬件架构，单精度的计算远快于双精度。这时候可以考虑在拷贝的时候顺便转换一下精度：</p></blockquote><h2 id="数据的初始化"><a href="#数据的初始化" class="headerlink" title="数据的初始化"></a>数据的初始化</h2><p>方法1是先在CPU上设置好数据然后拷贝到GPU，使用gpuArray；</p><p>方法2是直接在GPU上初始化数据。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 方法1</span></span><br><span class="line">M = <span class="built_in">magic</span>(N);</span><br><span class="line">G = gpuArray(M);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 方法2</span></span><br><span class="line">A = <span class="built_in">zeros</span>(<span class="number">10</span>, <span class="string">&#x27;gpuArray&#x27;</span>);</span><br><span class="line">r = gpuArray.<span class="built_in">rand</span>(<span class="number">1</span>, <span class="number">100</span>) <span class="comment">% 一行，一百列</span></span><br></pre></td></tr></table></figure><h2 id="GPU上的数据回传给CPU"><a href="#GPU上的数据回传给CPU" class="headerlink" title="GPU上的数据回传给CPU"></a>GPU上的数据回传给CPU</h2><p>最后是如何把GPU上的数据回传给CPU:</p><p>B = gather (A);</p><p>其中A是GPU上的数据，B是CPU上的数据。B的内容在回传之后等于A。</p><h2 id="电脑是否可以进行GPU加速"><a href="#电脑是否可以进行GPU加速" class="headerlink" title="电脑是否可以进行GPU加速"></a>电脑是否可以进行GPU加速</h2><p>如何查看电脑是否能用matlab进行GPU进行加速运算，</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpuDevice</span><br></pre></td></tr></table></figure><p>MATLAB目前只支持Nvidia的显卡（即前面显示 CUDADevice with properties）。如果你的显卡是AMD的或者是Intel的，就得考虑另寻它路了。</p><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>（1）、将数据从CPU中搬入GPU，函数：<strong>gpuArray</strong>，用法 M = gpuArray(M)；</p><p>（2）、在GPU中计算完成后，将数据搬出到CPU存储，函数：<strong>gather</strong>，用法M=gather(M)。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% GPU计算运算实例1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><br><span class="line"><span class="comment">% test1： 使用GPU进行加速</span></span><br><span class="line">clc</span><br><span class="line">M = <span class="built_in">rand</span>(<span class="number">2000</span>,<span class="number">2000</span>);            <span class="comment">% 生成一个随机矩阵</span></span><br><span class="line">tic</span><br><span class="line">[A1,B1] = eig(M);               <span class="comment">% 求该随机矩阵的特征值和特征向量</span></span><br><span class="line">t1=toc</span><br><span class="line"><span class="comment">% 时间为3.69s</span></span><br><span class="line"></span><br><span class="line">tic</span><br><span class="line">M = gpuArray(M);                <span class="comment">% 将数据从CPU中搬到GPU</span></span><br><span class="line">[A2,B2] = eig(M);               <span class="comment">% 求特征值和特征向量</span></span><br><span class="line">A2 = gather(A2);                <span class="comment">% 将数据从GPU中搬到CPU</span></span><br><span class="line">t2 = toc</span><br><span class="line"><span class="comment">% 时间为3s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 结论：</span></span><br><span class="line"><span class="comment">% 2000x2000的矩阵，两者的时间差别并不是很大，大概0.5s左右</span></span><br><span class="line"><span class="comment">% 第一次使用时，GPU计算的耗时更长，大概4s多</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><br><span class="line"><span class="comment">% test2: 将数据转换为单精度的类型，可以提高GPU计算的速度</span></span><br><span class="line">clc</span><br><span class="line">M = <span class="built_in">rand</span>(<span class="number">2000</span>,<span class="number">2000</span>);            <span class="comment">% 生成一个随机矩阵</span></span><br><span class="line">tic</span><br><span class="line">[A1,B1] = eig(M);               <span class="comment">% 求该随机矩阵的特征值和特征向量</span></span><br><span class="line">t1=toc</span><br><span class="line"><span class="comment">% 时间为3.69s</span></span><br><span class="line"></span><br><span class="line">tic</span><br><span class="line">M = gpuArray(single(M));                <span class="comment">% 将数据从CPU中搬到GPU</span></span><br><span class="line">[A2,B2] = eig(M);               <span class="comment">% 求特征值和特征向量</span></span><br><span class="line">A2 = gather(A2);                <span class="comment">% 将数据从GPU中搬到CPU</span></span><br><span class="line">t2 = toc</span><br><span class="line"><span class="comment">% 时间为&lt;2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 结论：</span></span><br><span class="line"><span class="comment">% 单精度的GPU运算速度，比双精度的快了将近一倍的时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><br><span class="line"><span class="comment">% test3:利用常用的pdist2函数进行测试</span></span><br><span class="line">clc;</span><br><span class="line">A=<span class="built_in">rand</span>(<span class="number">8000</span>,<span class="number">8000</span>);</span><br><span class="line">B=<span class="built_in">rand</span>(<span class="number">8000</span>,<span class="number">8000</span>);</span><br><span class="line"></span><br><span class="line">tic; C = (pdist2((A),(B))); toc </span><br><span class="line"><span class="comment">% 150s</span></span><br><span class="line">tic; D = gather(pdist2(gpuArray(A),gpuArray(B))); toc;</span><br><span class="line"><span class="comment">% 12s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 结论：</span></span><br><span class="line"><span class="comment">% 可以看出GPU好的话，对于大数据处理来说效果还是很ok的。</span></span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/haoji007/article/details/103409063">https://blog.csdn.net/haoji007/article/details/103409063</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>是否需要购买macbookPro</title>
      <link href="2021/04/25/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0macbookPro/"/>
      <url>2021/04/25/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0macbookPro/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本来是想购买macbook pro，google之后发现M1的生态圈并不是很完善，这里做个记录</p></blockquote><p>苹果公司拥有Rosetta 2-一种用于翻译用于英特尔处理器的代码的工具，以便M1芯片可以理解它。这应该意味着大多数现有的Mac应用程序都可以在新的M1 Mac上运行。</p><p>由于使用了Rosetta 2，因此您熟悉的许多应用程序都可以在M1 Mac上运行-但首次启动它们时将需要20秒的等待时间，因为Rosetta会翻译代码以便它们可以运行。通过Rosetta运行也可能会导致一些延迟-尽管希望它不会引起注意。</p><p>SSD过度写入的问题</p><p>我常用的几个工具：</p><p>everything(一个便捷的搜索工具)”Everything” 是 Windows 上一款搜索引擎，</p><p>onedrive </p><p>matlab</p><p>python/pytorch</p><p>AI/PS等图像视频工具</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> b </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>python_机器学习实例</title>
      <link href="2021/04/18/pythonLearning/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BE%8B/"/>
      <url>2021/04/18/pythonLearning/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>pytorch深度学习实践笔记合集</p><p><a href="https://www.bilibili.com/video/BV1Y7411d7Ys?p=3">https://www.bilibili.com/video/BV1Y7411d7Ys?p=3</a></p></blockquote><p>线性规划</p><blockquote><p>本质上，感觉是求最优点，以及如何避免局部最优。</p></blockquote><p>分治法：其实就是类似二分法。</p><p>GDA (gradient descent algorithm 梯度下降算法)，核心公式：</p><img src="/2021/04/18/pythonLearning/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BE%8B/image-20210418223249138.png" class title="image-20210418223249138"><blockquote><p>w是权重，cost是针对loss function，求导表示这个loss function对于权重的改变方向，利用这种关系来更新权重值，以达到一个最优化。</p></blockquote><p>实际应用中发现，局部最优点的情况并不是很多，但是鞍点很多情况很多</p><img src="/2021/04/18/pythonLearning/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BE%8B/image-20210418223151679.png" alt="image-20210418223151679" style="zoom:50%;"><p>可以使用指数加权的方式来平滑cost结果</p><p>如果出现cost的值</p><blockquote><p>matrix cook book</p></blockquote><p>tensor 可以保存数据data和grad梯度</p><img src="/2021/04/18/pythonLearning/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BE%8B/image-20210419215630923.png" alt="image-20210419215630923" style="zoom:50%;"><p>代码是在构建一个计算图</p><p>tensor在做计算，会做计算图。避免一直使用tensor做计算图。使用其中的值。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">比如l是张量tensor,则使用tensor.data</span><br></pre></td></tr></table></figure><p>实例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for x,y in zip(xs,ys):</span><br><span class="line">y_pred&#x3D;x+y</span><br><span class="line"># 通过zip进行拼装，来进行引用数值</span><br></pre></td></tr></table></figure><p>一共有四步</p><ol><li>准备数据集</li><li>设计模型 design model using Class </li><li>construct loss and optimizer </li><li>training cycle (forward,backward,update)</li></ol><p>构造模型为类数据</p><p>*表示不知道输入参数的个数</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_so2Module</title>
      <link href="2021/04/15/TrajectoryModel/hysplit-so2Module/"/>
      <url>2021/04/15/TrajectoryModel/hysplit-so2Module/</url>
      
        <content type="html"><![CDATA[<blockquote><p>z这里主要对SO2的module进行学习</p></blockquote><p>网站上有对计算时间的估算，SO2，1小时间隔，72小时，5000个grid point，大概花费的时间为1小时。</p><p>SO2的模块主要是针对酸雨的，官方建议是直接对源code进行修改：</p><blockquote><p>There are more complex <a href="https://www.ready.noaa.gov/HYSPLIT_pcchem.php">chemical conversion</a> modules available that work with HYSPLIT. However, these are not routinely used and the recommendation would be to work directly with the source code rather than the pre-compiled PC executables for any customized applications. For example, the sulfate conversion model was developed for <a href="https://www.ready.noaa.gov/documents/TutorialX/html/so2so4.html">acid rain</a> applications in North America and would require some modification for application to volcanic eruptions.</p></blockquote><p>Control文件范例</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 前面的跟标准的都一样</span></span><br><span class="line">03 06 24 00</span><br><span class="line">2</span><br><span class="line">35.0 -95.0 10.0</span><br><span class="line">45.0 -65.0 10.0</span><br><span class="line">72</span><br><span class="line">0</span><br><span class="line">10000.0</span><br><span class="line">1</span><br><span class="line">..\Fixed\</span><br><span class="line">edas2427.bin #气象数据</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">这三项是必须的（但是发散源只要SO2就行）</span></span><br><span class="line">3</span><br><span class="line">SO2</span><br><span class="line">10.0 </span><br><span class="line">0.1</span><br><span class="line">00 00 00 00 00</span><br><span class="line">SO4</span><br><span class="line">10.0         </span><br><span class="line">0.1 </span><br><span class="line">00 00 00 00 00</span><br><span class="line">SO4W</span><br><span class="line">10.0         </span><br><span class="line">0.1   </span><br><span class="line">00 00 00 00 00 </span><br><span class="line"><span class="meta">#</span><span class="bash"> 源头grid的设置</span></span><br><span class="line">2 # 因为写了2，就要有两种设定</span><br><span class="line">40.0 -80.0 </span><br><span class="line">0.30 0.30   </span><br><span class="line">20.0 30.0      </span><br><span class="line">.\                                      </span><br><span class="line">csnap                            </span><br><span class="line">6  </span><br><span class="line">250 500 1000 2000 5000 10000</span><br><span class="line">00 00 00 00 00</span><br><span class="line">00 00 00 00 00</span><br><span class="line">01 999 00</span><br><span class="line"><span class="meta">#</span><span class="bash"> 第二个设定</span></span><br><span class="line">40.0 -80.0 </span><br><span class="line">0.30 0.30   </span><br><span class="line">20.0 30.0        </span><br><span class="line">.\                         </span><br><span class="line">cavrg</span><br><span class="line">1  </span><br><span class="line">250</span><br><span class="line">00 00 00 00 00</span><br><span class="line">00 00 00 00 00</span><br><span class="line">00 01 00</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是污染物运移的设定</span></span><br><span class="line">3  </span><br><span class="line">0.0 0.0 0.0    </span><br><span class="line">0.0 64.0 0.0 1.9 1.0E+05</span><br><span class="line">0.0 0.0 0.0 </span><br><span class="line">0.0</span><br><span class="line">0.0</span><br><span class="line">0.0 0.0 0.0    </span><br><span class="line">0.0025 96.0 0.0 0.0 0.0</span><br><span class="line">0.0 0.0 0.0 </span><br><span class="line">0.0</span><br><span class="line">0.0</span><br><span class="line">0.0 0.0 0.0    </span><br><span class="line">0.0025 96.0 0.0 0.0 0.0</span><br><span class="line">0.0 0.0 0.0 </span><br><span class="line">0.0</span><br><span class="line">0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>SETUP.cfg </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">INITD=0 run in 3D particle mode </span><br><span class="line">KHMAX=9999 don&#x27;t drop any old particles</span><br><span class="line">NUMPAR=500 one particle per point if &lt; number grid pts</span><br><span class="line">MAXPAR=350000           max number of particles in simulation</span><br><span class="line">MAXDIM=3  number of species on one particle</span><br><span class="line">QCYCLE=1.0 new emission cycle each hour</span><br><span class="line">DELT=0.0 automatic time step computation</span><br><span class="line">ICHEM=4forces conc grid = meteo grid # 注意这个！</span><br></pre></td></tr></table></figure><h1 id="PRCHEM-DAT-file"><a href="#PRCHEM-DAT-file" class="headerlink" title="PRCHEM.DAT file"></a>PRCHEM.DAT file</h1><p>含有一个额外的文件 PRCHEM.DAT file</p><blockquote><p>Contains constants that can be changed to modify the sulfate chemistry conversion rates.</p></blockquote><p>有对一些常数参数提出了建议，注意，不同季节的值不大一样</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">0.90      CRITICAL RELATIVE HUMIDITY                    (RHCRIT)</span><br><span class="line">0.015     DAY SO2-SO4/HR                                (KSO2DY)</span><br><span class="line">0.002     NIGHT SO2-SO4/HR                              (KSO2NT)</span><br><span class="line">0.65      DRY TO WET SO4 CONVERSION FRACTION            (D2WFR)</span><br><span class="line">0.90      HYDROGEN PEROXIDE (PPB)                       (H2O2)</span><br><span class="line">0.90      LIQUID WATER CONTENT (G/M3)                   (LWC)</span><br><span class="line"></span><br><span class="line">Suggested values for other seasons:</span><br><span class="line">WinterSpringSummerAutumn</span><br><span class="line">RHCRIT.90.90.90.90</span><br><span class="line">KSO2DY.008.020.035.015</span><br><span class="line">KSO2NT.001.002.003.002</span><br><span class="line">D2WFR.65.65.65.65</span><br><span class="line">H2O20.71.52.01.2</span><br><span class="line">LWC0.21.02.20.8</span><br></pre></td></tr></table></figure><p>emission inventory </p><p>不支持点源（point grid)，支持面源（area grid)。跟常规的emission文件不一样。emission rate 是乘积因子</p><blockquote><p>The emission duration is the same, but the emission rate is a multiplier to the gridded emission value.  Normally<br>it would be set to 1.0. </p></blockquote><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://www.ready.noaa.gov/HYSPLIT_pcchem.php">https://www.ready.noaa.gov/HYSPLIT_pcchem.php</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>shell_if_循环语句</title>
      <link href="2021/04/14/shellLearning/shell-if-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5/"/>
      <url>2021/04/14/shellLearning/shell-if-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="shell-循环语句"><a href="#shell-循环语句" class="headerlink" title="shell 循环语句"></a>shell 循环语句</h1><h2 id="for-do-done"><a href="#for-do-done" class="headerlink" title="for/do/done"></a>for/do/done</h2><p>Shell脚本的for循环结构使用for/do/done。例如：</p><blockquote><p>matlab是for/end，python是for加：</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for FRUIT in apple banana pear; do</span><br><span class="line">  echo &quot;I like $FRUIT&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>FRUIT是一个循环变量，第一次循环$FRUIT的取值是apple，第二次取值是banana，第三次取值是pear。</p><p>再比如，要将当前目录下的chap0、chap1、chap2等文件名改为chap0<del>、chap1</del>、chap2<del>等（按惯例，末尾有</del>字符的文件名表示临时文件），这个命令可以这样写：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for FILENAME in chap?; do mv $FILENAME $FILENAME~; done</span><br></pre></td></tr></table></figure><p>也可以这样写：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for FILENAME in `ls chap?`; do mv $FILENAME $FILENAME~; done</span><br></pre></td></tr></table></figure><h2 id="while循环语句"><a href="#while循环语句" class="headerlink" title="while循环语句"></a>while循环语句</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 读取文章filename中的每一行</span> </span><br><span class="line">while read -r line</span><br><span class="line">do</span><br><span class="line"> echo $line</span><br><span class="line">done &lt; filename</span><br></pre></td></tr></table></figure><h1 id="shell的if-语句"><a href="#shell的if-语句" class="headerlink" title="shell的if 语句"></a>shell的if 语句</h1><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ command ];then</span><br><span class="line">     符合该条件执行的语句</span><br><span class="line">elif [ command ];then</span><br><span class="line">     符合该条件执行的语句</span><br><span class="line">else</span><br><span class="line">     符合该条件执行的语句</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、[ ]表示条件测试。&#x3D;&#x3D;注意这里的空格很重要。在&#39;[&#39;后面和&#39;]&#39;前面都必须要有空格&#x3D;&#x3D;</span><br><span class="line">3、注意if判断中对于变量的处理，需要加引号，以免一些不必要的错误。没有加双引号会在一些含空格等的字符串变量判断的时候产生错误。</span><br><span class="line">4、判断是不支持浮点值的</span><br><span class="line">5、如果只单独使用&gt;或者&lt;号，系统会认为是输出或者输入重定向，虽然结果显示正确，但是其实是错误的，因此要对这些符号进行转意</span><br><span class="line">6、在默认中，运行if语句中的命令所产生的错误信息仍然出现在脚本的输出结果中</span><br><span class="line">7、使用-z或者-n来检查长度的时候，没有定义的变量也为0</span><br><span class="line">8、空变量和没有初始化的变量可能会对shell脚本测试产生灾难性的影响，因此在不确定变量的内容的时候，在测试号前使用-n或者-z测试一下</span><br><span class="line">9、? 变量包含了之前执行命令的退出状态（最近完成的前台进程）（可以用于检测退出状态）</span><br></pre></td></tr></table></figure><h2 id="一些常用的参数"><a href="#一些常用的参数" class="headerlink" title="一些常用的参数"></a>一些常用的参数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">常用的：</span><br><span class="line">[ -a FILE ] 如果 FILE 存在则为真。</span><br><span class="line">[ -d FILE ] 如果 FILE 存在且是一个目录则返回为真。</span><br><span class="line">[ -e FILE ] 如果 指定的文件或目录存在时返回为真。</span><br><span class="line">[ -f FILE ] 如果 FILE 存在且是一个普通文件则返回为真。</span><br><span class="line">[ -r FILE ] 如果 FILE 存在且是可读的则返回为真。</span><br><span class="line">[ -w FILE ] 如果 FILE 存在且是可写的则返回为真。（一个目录为了它的内容被访问必然是可执行的）</span><br><span class="line">[ -x FILE ] 如果 FILE 存在且是可执行的则返回为真。</span><br></pre></td></tr></table></figure><h2 id="if-高级特性："><a href="#if-高级特性：" class="headerlink" title="if 高级特性："></a>if 高级特性：</h2><p>==双圆括号(( ))：表示数学表达式==<br>在判断命令中，只允许进行简单的算术操作，而双圆括号提供更多的数学符号，而且在双括号里的’&gt;’,’&lt;’号不需要转意。</p><p>==双方括号[[ ]]：表示高级字符串处理函数==<br>双方括号中判断命令使用标准的字符串比较，还可以使用匹配模式，从而定义与字符串相匹配的正则表达式。</p><blockquote><p>双括号的作用：<br>在shell中，[ $a != 1 || $b = 2 ]是不允许出，要用[ $a != 1 ] || [ $b = 2 ]，而双括号就可以解决这个问题的，[[ $a != 1 || $b = 2 ]]。又比如这个[ “$a” -lt “$b” ]，也可以改成双括号的形式((“$a” &lt; “$b”))</p></blockquote><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 正则这里不需要引号</span></span><br><span class="line">doiido=&quot;hero&quot;</span><br><span class="line">if  [[ &quot;$doiido&quot; =~ h* ]];then # 如果要不等号，[[ ! &quot;$doiido&quot; =~ h* ]]，注意空格5个一定要</span><br><span class="line">    echo &quot;hello，hero&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 数值比较</span></span><br><span class="line">if [ &quot;$num&quot; -gt &quot;150&quot; ];then</span><br><span class="line">   echo &quot;$num is biger than 150&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">变量比较</span></span><br><span class="line">if [ &quot;$var1&quot; = &quot;$var2&quot; ]; then</span><br><span class="line">　　echo &#x27;$var1 eq $var2&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li> <a href="https://www.cnblogs.com/kaishirenshi/p/9729800.html">shell中的if语句</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>shell_常用代码记录</title>
      <link href="2021/04/14/shellLearning/shell-%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/"/>
      <url>2021/04/14/shellLearning/shell-%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="2021/04/14/pythonLearning/python-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA/"/>
      <url>2021/04/14/pythonLearning/python-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<blockquote><p>为了学习pytorch，接触到虚拟环境这个概念。</p><p>目的：将不同的python安装在不同的虚拟环境，能维持原生python不受函数包安装移除污染。例如将pytorch安装在虚拟环境中。</p></blockquote><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>在虚拟环境里，各种软件包的版本，都由你来指定。它们和系统默认Python环境是相互隔离的，因此互不干扰。</p><img src="/2021/04/14/pythonLearning/python-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA/64542-4e9d1b7b08a5100e.jpg" alt="img" style="zoom: 33%;"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建pytorch为库的名字</span></span><br><span class="line">conda create -n pytorch python=3.8</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 激活虚拟库</span></span><br><span class="line">conda activate pytorch</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 额外学习，如何看conda环境还有python的版本，输入</span></span><br><span class="line">conda info --envs</span><br><span class="line">python --version</span><br></pre></td></tr></table></figure><h2 id="如何在jupyter内部调用"><a href="#如何在jupyter内部调用" class="headerlink" title="如何在jupyter内部调用"></a>如何在jupyter内部调用</h2><p>为了让Jupyter Notebook支持虚拟运行环境，需要在Anaconda里安装一个插件。(实测在jupyter打开的时候也能安装成功，关键是要将jupyter重开下)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install nb_conda</span><br></pre></td></tr></table></figure><blockquote><p>重开jupyter后，看到了不同的虚拟环境的python选项，但是还无法看到pytorch的环境。(果然单看一个教程不一定能解决我的问题)。Google之后发现，原来还要在虚拟环境中安装ipykernel。在prompt中输入如下指令：</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">conda activate torch</span><br><span class="line">conda install ipykernel</span><br><span class="line">conda deactivate</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果需要删除</span></span><br><span class="line">删除环境：</span><br><span class="line">conda remove -n your_env_name(虚拟环境名称) --all</span><br><span class="line"></span><br><span class="line">删除虚拟环境中的包：</span><br><span class="line">conda remove --name $your_env_name  $package_name（包名） </span><br></pre></td></tr></table></figure><p>ok，重新启动jupyter就可以看到conda的虚拟环境了。</p><img src="/2021/04/14/pythonLearning/python-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA/image-20210412110641580.png" alt="image-20210412110641580" style="zoom:50%;"><h2 id="额外内容pip-conda常用命令"><a href="#额外内容pip-conda常用命令" class="headerlink" title="额外内容pip/conda常用命令"></a>额外内容pip/conda常用命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看已经安装的包</span> </span><br><span class="line">pip list </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装第三方包（版本的话使用==）</span></span><br><span class="line">pip install robotframework==2.8.7</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 相关的知识链接：</span></span><br><span class="line">https://zhuanlan.zhihu.com/p/164666990</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> conda常用命令</span></span><br><span class="line">conda list：查看安装了哪些包。</span><br><span class="line">conda install package_name(包名)：安装包</span><br><span class="line">conda env list 或 conda info -e：查看当前存在哪些虚拟环境</span><br><span class="line">conda update conda：检查更新当前conda</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://www.jianshu.com/p/afea092dda1d">如何在Jupyter Notebook中使用Python虚拟环境？</a></li><li><a href="https://blog.csdn.net/qq_33296651/article/details/95316784">jupyter找不到conda的虚拟环境</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python_matplotlib画图</title>
      <link href="2021/04/13/pythonLearning/python-matplotlib%E7%94%BB%E5%9B%BE/"/>
      <url>2021/04/13/pythonLearning/python-matplotlib%E7%94%BB%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>待补充完善，看参考文献</p></blockquote><p>其他的一些画图方法</p><p><a href="https://www.jianshu.com/p/3bb2cc453df1">https://www.jianshu.com/p/3bb2cc453df1</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotbli.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统一设置</span></span><br><span class="line">plt.plot(x,x,x,x*<span class="number">2</span>,x,x/<span class="number">2</span>,linewidth=<span class="number">3</span>,color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数连用需要对不同的线进行分别设置</span></span><br><span class="line">plt.plot(x,x,<span class="string">&#x27;r:v&#x27;</span>,x,x*<span class="number">2</span>,<span class="string">&#x27;b--h&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>常用线条属性的修改</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#颜色的修改,透明度，填充颜色，线性</span></span><br><span class="line">plt.plot(x,y,color=<span class="string">&#x27;c&#x27;</span>,alpha=<span class="number">0.3</span>,facecolor=<span class="string">&#x27;red&#x27;</span>,ls=<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#线宽，点形，点形大小</span></span><br><span class="line">plt.plot(x,y,lw=<span class="number">1.5</span>,marker=<span class="string">&#x27;s&#x27;</span>,markersize=<span class="number">60</span>,</span><br><span class="line">         </span><br><span class="line"><span class="comment"># xticks函数设置坐标轴刻度和标签</span></span><br><span class="line">plt.xticks([<span class="number">0</span>,np.pi/<span class="number">2</span>,np.pi,<span class="number">3</span>*np.pi/<span class="number">2</span>,<span class="number">2</span>*np.pi],[<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;π/2&#x27;</span>,<span class="string">&#x27;π&#x27;</span>,<span class="string">&#x27;3π/2&#x27;</span>,<span class="string">&#x27;2π&#x27;</span>])</span><br></pre></td></tr></table></figure><p>常用线性属性</p><img src="/2021/04/13/pythonLearning/python-matplotlib%E7%94%BB%E5%9B%BE/xianxing.png" class title="img"><p>常用标点属性</p><img src="/2021/04/13/pythonLearning/python-matplotlib%E7%94%BB%E5%9B%BE/image-20210413202652650.png" alt="image-20210413202652650" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取figure对象（画布对象）</span></span><br><span class="line"><span class="comment"># 设置画布的背景色</span></span><br><span class="line">figure = plt.figure(facecolor=<span class="string">&#x27;cyan&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置坐标系的背景色</span></span><br><span class="line">axes = plt.subplot(<span class="number">111</span>,facecolor=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置线条的颜色</span></span><br><span class="line">axes.plot(x,x,x,x*<span class="number">2</span>,color=<span class="string">&#x27;yellow&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="保存图像模板"><a href="#保存图像模板" class="headerlink" title="保存图像模板"></a>保存图像模板</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dpi设置像素大小</span></span><br><span class="line">figure.savefig(<span class="string">&#x27;18011.png&#x27;</span>,dpi=<span class="number">50</span>)</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/weixin_42042680/article/details/80738699">https://blog.csdn.net/weixin_42042680/article/details/80738699</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>机器学习李宏毅课程_作业</title>
      <link href="2021/04/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B-%E4%BD%9C%E4%B8%9A/"/>
      <url>2021/04/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B-%E4%BD%9C%E4%B8%9A/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/av96698631/">https://www.bilibili.com/video/av96698631/</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python_基本教程</title>
      <link href="2021/04/13/pythonLearning/python-basicIntroduction/"/>
      <url>2021/04/13/pythonLearning/python-basicIntroduction/</url>
      
        <content type="html"><![CDATA[<blockquote><p>目的简单快速的将python的基本知识做个浏览，并且就记录下自己觉得有用的关键信息。</p><p>更为进阶学习适合结合实例进行更深一步的了解掌握。</p></blockquote><p>你可以在以下链接中下载 Python 的文档，你可以下载 HTML、PDF 和 PostScript 等格式的文档。</p><p>Python文档下载地址：<a href="https://www.python.org/doc/">https://www.python.org/doc/</a></p><h1 id="python-前言"><a href="#python-前言" class="headerlink" title="python 前言"></a>python 前言</h1><p>Python 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言。</p><p>Python 的设计具有很强的可读性，相比其他语言经常使用英文关键字，其他语言的一些标点符号，它具有比其他语言更有特色语法结构。</p><ul><li><p><strong>Python 是一种解释型语言：</strong> 这意味着开发过程中没有了编译这个环节。类似于PHP和Perl语言。</p><blockquote><p>关于编译的简单理解：<a href="https://www.cnblogs.com/fisherss/p/13905395.html">编译原理入门篇</a></p></blockquote></li><li><p><strong>Python 是交互式语言：</strong> 这意味着，您可以在一个 Python 提示符 <strong>&gt;&gt;&gt;</strong> 后直接执行代码。</p></li><li><p><strong>Python 是面向对象语言:</strong> 这意味着Python支持面向对象的风格或代码封装在对象的编程技术。</p></li><li><p><strong>Python 是初学者的语言：</strong>Python 对初级程序员而言，是一种伟大的语言，它支持广泛的应用程序开发，从简单的文字处理到 WWW 浏览器再到游戏。</p></li></ul><h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>程序和可执行文件可以在许多目录，而这些路径很可能不在操作系统提供可执行文件的搜索路径中。path(路径)存储在环境变量中，这是由操作系统维护的一个命名的字符串。这些变量包含可用的命令行解释器和其他程序的信息。</p><p>Unix或Windows中路径变量为PATH（UNIX区分大小写，Windows不区分大小写）。</p><p>在环境变量中添加Python目录， <strong>在命令提示框中(cmd) :</strong> 输入如下后，按下 <strong>Enter</strong>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path&#x3D;%path%;C:\Python </span><br></pre></td></tr></table></figure><p><strong>注意:</strong> C:\Python 是Python的安装目录</p><blockquote><p>实际尝试之后发现这个无法永久添加？？？</p></blockquote><h2 id="运行python"><a href="#运行python" class="headerlink" title="运行python"></a>运行python</h2><p>你可以通过命令行窗口进入 Python，并在交互式解释器中开始编写 Python 代码。你可以在 Unix、DOS 或任何其他提供了命令行或者 shell 的系统进行 Python 编码工作。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:&gt;python # Windows/DOS</span><br><span class="line"><span class="meta">#</span><span class="bash"> -v 为输出python版本号</span></span><br></pre></td></tr></table></figure><p>在你的应用程序中通过引入解释器可以在命令行中执行Python脚本，如下所示：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python script.py <span class="comment"># Unix/Linux</span></span></span><br></pre></td></tr></table></figure><h2 id="中文编码问题"><a href="#中文编码问题" class="headerlink" title="中文编码问题"></a>中文编码问题</h2><p>Python中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。<br>解决方法为只要在文件开头加入如下代码即可</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br></pre></td></tr></table></figure><blockquote><p><em>Python3.X 源码文件默认使用utf-8编码，所以可以正常解析中文，无需指定 UTF-8 编码。</em></p></blockquote><h1 id="python-基础语法"><a href="#python-基础语法" class="headerlink" title="python 基础语法"></a>python 基础语法</h1><p>==交互式编程==</p><p>windows上你只需要在命令行中输入 Python 命令即可启动交互式编程,提示窗口如下：</p><p>==脚本式编程==</p><p>通过脚本参数调用解释器开始执行脚本，直到脚本执行完毕。当脚本执行完成后，解释器不再有效。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt; python test.py</span></span><br></pre></td></tr></table></figure><blockquote><p>前提式python已经在环境变量之中。此外还有另外一种执行方式，可以将脚本写成这样子</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line">print (&quot;Hello, Python!&quot;)</span><br></pre></td></tr></table></figure><p>这里，假定您的Python解释器在/usr/bin目录中，使用以下命令执行脚本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod +x test.py     <span class="comment"># 脚本文件添加可执行权限</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./test.py</span></span><br></pre></td></tr></table></figure><p>额外说明：<a href="https://zhuanlan.zhihu.com/p/262456371"> #!/usr/bin/env python 有什么用？</a></p><blockquote><p>无法在我的window系统上做到这项操作，不明白为啥…<br>参考上面文献，使用#!/usr/bin/env python成功，但是要在sh的环境中</p><p><strong>#!/usr/bin/env python</strong>(推荐）: 这种用法是为了防止操作系统用户没有将 python 装在默认的 /usr/bin 路径里。当系统看到这一行的时候，首先会到 env 设置里查找 python 的安装路径，再调用对应路径下的解释器程序完成操作。</p></blockquote><h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p>在 Python 中，所有标识符可以包括英文、数字以及下划线(_)，但不能以数字开头。</p><p>以下划线开头的标识符是有特殊意义的。以单下划线开头 <strong>_foo</strong> 的代表不能直接访问的类属性，需通过类提供的接口进行访问，不能用 <strong>from xxx import *</strong> 而导入。</p><p>以双下划线开头的 <strong>__foo</strong> 代表类的私有成员，以双下划线开头和结尾的 <strong><strong>foo</strong></strong> 代表 Python 里特殊方法专用的标识，如 <strong><strong>init</strong>()</strong> 代表类的构造函数</p><h2 id="行和缩进"><a href="#行和缩进" class="headerlink" title="行和缩进"></a>行和缩进</h2><p>学习 Python 与其他语言最大的区别就是，Python 的代码块不使用大括号 <strong>{}</strong> 来控制类，函数以及其他逻辑判断。python 最具特色的就是用缩进来写模块。</p><p>缩进的空白数量是可变的，但是所有代码块语句必须包含相同的缩进空白数量，==这个必须严格执行==。</p><blockquote><p>建议你在每个缩进层次使用 <strong>单个制表符</strong> 或 <strong>两个空格</strong> 或 <strong>四个空格</strong> , 切记不能混用</p></blockquote><h2 id="其他知识"><a href="#其他知识" class="headerlink" title="其他知识"></a>其他知识</h2><h3 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h3><p>可以使用斜杠（ \）将一行的语句分为多行显示。\n表示换行显示。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">total = item_one + \</span><br><span class="line">        item_two + \</span><br><span class="line">        item_three</span><br><span class="line"><span class="comment"># 但是包含[],&#123;&#125;或者()的就不需要连接符了</span></span><br><span class="line">days = [<span class="string">&#x27;Monday&#x27;</span>, <span class="string">&#x27;Tuesday&#x27;</span>, <span class="string">&#x27;Wednesday&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Thursday&#x27;</span>, <span class="string">&#x27;Friday&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="引号"><a href="#引号" class="headerlink" title="引号"></a>引号</h3><p>Python 可以使用引号( <strong>‘</strong> )、双引号( <strong>“</strong> )、三引号( <strong>‘’’</strong> 或 <strong>“””</strong> ) 来表示字符串，引号的开始与结束必须是相同类型的。</p><p>其中三引号可以由多行组成，编写多行文本的快捷语法，常用于文档字符串，在文件的特定地点，被当做注释。</p><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>python中单行注释采用 # 开头==（快捷键ctrl+/)==。python 中多行注释使用三个单引号(‘’’)或三个双引号(“””)。</p><h3 id="同一行显示多条语句"><a href="#同一行显示多条语句" class="headerlink" title="同一行显示多条语句"></a>同一行显示多条语句</h3><p>Python可以在同一行中使用多条语句，语句之间使用分号(;)分割。</p><h1 id="python-变量类型"><a href="#python-变量类型" class="headerlink" title="python 变量类型"></a>python 变量类型</h1><p>Python 定义了一些标准类型，用于存储各种类型的数据。</p><p>Python有五个标准的数据类型：</p><ul><li>Numbers（数字）</li><li>String（字符串）</li><li>List（列表），==[]表示==</li><li>Tuple（元组），==()表示==</li><li>Dictionary（字典）, =={} 表示==</li></ul><h2 id="变量的选取"><a href="#变量的选取" class="headerlink" title="变量的选取"></a>变量的选取</h2><img src="/2021/04/13/pythonLearning/python-basicIntroduction/python-string-slice.png" class title="img"><p>python的下标是==从 0 开始算起==，可以是正数或负数，下标可以为空表示取到头或尾。**[头下标:尾下标]** 获取的子字符串包含头下标的字符，但不包含尾下标的字符。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>[<span class="number">0</span>]        <span class="comment"># 输出字符串中的第一个字符</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>[<span class="number">2</span>:<span class="number">5</span>]      <span class="comment"># 输出字符串中第三个至第六个之间的字符串</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>[<span class="number">2</span>:]       <span class="comment"># 输出从第三个字符开始的字符串</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span> * <span class="number">2</span>       <span class="comment"># 输出字符串两次</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span> + <span class="string">&quot;TEST&quot;</span>  <span class="comment"># 输出连接的字符串</span></span><br></pre></td></tr></table></figure><h2 id="列表-list"><a href="#列表-list" class="headerlink" title="列表 list"></a>列表 list</h2><p>List（列表） 是 Python 中使用最频繁的数据类型。</p><p>列表的更新, append()；删除，del()；</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = []          <span class="comment">## 空列表</span></span><br><span class="line"><span class="built_in">list</span>.append(<span class="string">&#x27;Google&#x27;</span>)   <span class="comment">## 使用 append() 添加元素</span></span><br><span class="line"><span class="built_in">list</span>.append(<span class="string">&#x27;Runoob&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">list</span></span><br><span class="line"><span class="comment"># [&#x27;Google&#x27;, &#x27;Runoob&#x27;]</span></span><br></pre></td></tr></table></figure><p>一些相关运算，仅列出部分可能常用的，<a href="https://www.runoob.com/python/python-lists.html">更多list运算</a></p><table><thead><tr><th>[1, 2, 3] + [4, 5, 6]</th><th>[1, 2, 3, 4, 5, 6]</th><th>组合</th></tr></thead><tbody><tr><td>[‘Hi!’] * 4</td><td>[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td><td>重复</td></tr><tr><td>3 in [1, 2, 3]</td><td>True</td><td>元素是否存在于列表中</td></tr></tbody></table><table><thead><tr><th align="left">序号</th><th align="left">方法</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python/att-list-append.html">list.append(obj)</a> 在列表末尾添加新的对象</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python/att-list-extend.html">list.extend(seq)</a> 在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表）</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python/att-list-index.html">list.index(obj)</a> 从列表中找出某个值第一个匹配项的索引位置</td></tr><tr><td align="left">5</td><td align="left"><a href="https://www.runoob.com/python/att-list-insert.html">list.insert(index, obj)</a> 将对象插入列表</td></tr><tr><td align="left">7</td><td align="left"><a href="https://www.runoob.com/python/att-list-remove.html">list.remove(obj)</a> 移除列表中某个值的第一个匹配项</td></tr><tr><td align="left">8</td><td align="left"><a href="https://www.runoob.com/python/att-list-reverse.html">list.reverse()</a> 反向列表中元素</td></tr></tbody></table><h2 id="元组tuple"><a href="#元组tuple" class="headerlink" title="元组tuple"></a>元组tuple</h2><p>也是最常用的数据类型。元组用 () 标识。内部元素用逗号隔开。==元组不能二次赋值，相当于只读列表。==</p><blockquote><p>可以对元组进行操作，但是不能对元组的元素进行操作</p></blockquote><p>与字符串一样，元组之间可以使用 + 号和 * 号进行运算。这就意味着他们可以组合和复制，运算后会生成一个新的元组。</p><h2 id="字典-dictionary"><a href="#字典-dictionary" class="headerlink" title="字典 dictionary"></a>字典 dictionary</h2><p>字典(dictionary)是除列表以外python之中最灵活的内置数据结构类型。列表是有序的对象集合，字典是无序的对象集合。</p><p>两者之间的区别在于：字典当中的元素是通过键key来存取的，而不是通过偏移存取。</p><p>字典用”{ }”标识。字典由==索引(key)==和它对应的==值value==组成。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span> = &#123;&#125;</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&#x27;one&#x27;</span>] = <span class="string">&quot;This is one&quot;</span></span><br><span class="line"><span class="built_in">dict</span>[<span class="number">2</span>] = <span class="string">&quot;This is two&quot;</span></span><br><span class="line"> </span><br><span class="line">tinydict = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;runoob&#x27;</span>,<span class="string">&#x27;code&#x27;</span>:<span class="number">6734</span>, <span class="string">&#x27;dept&#x27;</span>: <span class="string">&#x27;sales&#x27;</span>&#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span> <span class="built_in">dict</span>[<span class="string">&#x27;one&#x27;</span>]          <span class="comment"># 输出键为&#x27;one&#x27; 的值</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">dict</span>[<span class="number">2</span>]              <span class="comment"># 输出键为 2 的值</span></span><br><span class="line"><span class="built_in">print</span> tinydict.keys()      <span class="comment"># 输出所有键</span></span><br><span class="line"><span class="built_in">print</span> tinydict.values()    <span class="comment"># 输出所有值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> <span class="built_in">dict</span>[<span class="string">&#x27;name&#x27;</span>]  <span class="comment"># 删除键是&#x27;name&#x27;的条目</span></span><br><span class="line"><span class="built_in">dict</span>.clear()      <span class="comment"># 清空字典所有条目</span></span><br></pre></td></tr></table></figure><blockquote><p>键必须不可变，所以可以用数字，字符串或元组充当，所以用列表就不行</p></blockquote><h1 id="python-运算符"><a href="#python-运算符" class="headerlink" title="python 运算符"></a>python 运算符</h1><blockquote><p>比较特殊的几个运算</p></blockquote><table><thead><tr><th>%</th><th>取模 - 返回除法的余数</th><th>b % a 输出结果 0</th></tr></thead><tbody><tr><td>**</td><td>幂 - 返回x的y次幂</td><td>a**b 为10的20次方， 输出结果 100000000000000000000</td></tr><tr><td>//</td><td>取整除 - 返回商的整数部分（<strong>向下取整</strong>）</td><td><code>&gt;&gt;&gt; 9//2 4 &gt;&gt;&gt; -9//2 -5</code></td></tr></tbody></table><blockquote><p>一些写法</p></blockquote><table><thead><tr><th>+=</th><th>加法赋值运算符</th><th>c += a 等效于 c = c + a</th></tr></thead><tbody><tr><td>-=</td><td>减法赋值运算符</td><td>c -= a 等效于 c = c - a</td></tr><tr><td>*=</td><td>乘法赋值运算符</td><td>c *= a 等效于 c = c * a</td></tr><tr><td>/=</td><td>除法赋值运算符</td><td>c /= a 等效于 c = c / a</td></tr><tr><td>%=</td><td>取模赋值运算符</td><td>c %= a 等效于 c = c % a</td></tr><tr><td>**=</td><td>幂赋值运算符</td><td>c **= a 等效于 c = c ** a</td></tr><tr><td>//=</td><td>取整除赋值运算符</td><td>c //= a 等效于 c = c // a</td></tr></tbody></table><blockquote><p>注意 &amp;(和)，|(或)，~(取反)等运算符是位运算符(把数字看作二进制来进行计算的)。想起我python考试的时候老师还问过我&amp;和and的区别….<a href="https://www.runoob.com/python/python-operators.html">更多关于位运算符</a></p></blockquote><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><blockquote><p> 这个是我常用的</p></blockquote><p>and (和)， or (或)，not (非)</p><h2 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h2><blockquote><p>又是个有用但是我不熟悉的</p></blockquote><table><thead><tr><th align="left"></th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">in</td><td align="left">如果在指定的序列中找到值返回 True，否则返回 False。</td><td align="left">x 在 y 序列中 , 如果 x 在 y 序列中返回 True。</td></tr><tr><td align="left">not in</td><td align="left">如果在指定的序列中没有找到值返回 True，否则返回 False。</td><td align="left">x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = 10</span><br><span class="line">b = 20</span><br><span class="line">list = [1, 2, 3, 4, 5 ];</span><br><span class="line"> </span><br><span class="line">if ( a in list ):</span><br><span class="line">   print &quot;1 - 变量 a 在给定的列表中 list 中&quot;</span><br><span class="line"> </span><br><span class="line">if ( b not in list ):</span><br><span class="line">   print &quot;2 - 变量 b 不在给定的列表中 list 中&quot;</span><br><span class="line">else:</span><br><span class="line">   print &quot;2 - 变量 b 在给定的列表中 list 中&quot;</span><br></pre></td></tr></table></figure><h2 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h2><table><thead><tr><th align="left"></th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">is</td><td align="left">is 是判断两个标识符是不是引用自一个对象</td><td align="left"><strong>x is y</strong>, 类似 <strong>id(x) == id(y)</strong> , 如果引用的是同一个对象则返回 True，否则返回 False</td></tr><tr><td align="left">is not</td><td align="left">is not 是判断两个标识符是不是引用自不同对象</td><td align="left"><strong>x is not y</strong> ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># is 与 == 区别：</span></span><br><span class="line"><span class="comment"># is 用于判断两个变量引用对象是否为同一个(同一块内存空间)， == 用于判断引用变量的值是否相等。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b <span class="keyword">is</span> a </span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b == a</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a[:]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b <span class="keyword">is</span> a</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b == a</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><h1 id="python-条件-循环语句"><a href="#python-条件-循环语句" class="headerlink" title="python 条件/循环语句"></a>python 条件/循环语句</h1><h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><p>当if有多个条件时可使用括号来区分判断的先后顺序，括号中的判断优先执行，此外 and 和 or 的优先级低于&gt;（大于）、&lt;（小于）等判断符号，即<code>大于和小于</code>在没有括号的情况下会比<code>与或</code>要优先判断。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 判断条件<span class="number">1</span>:</span><br><span class="line">    执行语句<span class="number">1</span>……</span><br><span class="line"><span class="keyword">elif</span> 判断条件<span class="number">2</span>:</span><br><span class="line">    执行语句<span class="number">2</span>……</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    执行语句<span class="number">4</span>……</span><br></pre></td></tr></table></figure><h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><table><thead><tr><th align="left">循环类型</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/python/python-while-loop.html">while 循环</a></td><td align="left">在给定的判断条件为 true 时执行循环体，否则退出循环体。</td></tr><tr><td align="left"><a href="https://www.runoob.com/python/python-for-loop.html">for 循环</a></td><td align="left">重复执行语句</td></tr><tr><td align="left"><a href="https://www.runoob.com/python/python-nested-loops.html">嵌套循环</a></td><td align="left">你可以在while循环体中嵌套for循环</td></tr></tbody></table><p>循环控制语句可以更改语句执行的顺序。Python支持以下循环控制语句：</p><table><thead><tr><th align="left">控制语句</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/python/python-break-statement.html">break 语句</a></td><td align="left">在语句块执行过程中终止循环，并且跳出整个循环</td></tr><tr><td align="left"><a href="https://www.runoob.com/python/python-continue-statement.html">continue 语句</a></td><td align="left">在语句块执行过程中终止当前循环，跳出该次循环，执行下一次循环。</td></tr><tr><td align="left"><a href="https://www.runoob.com/python/python-pass-statement.html">pass 语句</a></td><td align="left">pass是空语句，是为了保持程序结构的完整性。</td></tr></tbody></table><blockquote><p>for和while都可以使用else语句</p></blockquote><h1 id="python-日期和时间"><a href="#python-日期和时间" class="headerlink" title="python 日期和时间"></a>python 日期和时间</h1><p>每个时间戳都以自从1970年1月1日午夜（历元）经过了多长时间来表示。</p><blockquote><p>1970年之前的日期就无法以此表示了。太遥远的日期也不行，UNIX和Windows只支持到2038年</p></blockquote><h1 id="python函数"><a href="#python函数" class="headerlink" title="python函数"></a>python函数</h1><ul><li>函数代码块以 <strong>def</strong> 关键词开头，后接函数标识符名称和圆括号**()**。</li><li>任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数。</li><li>函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。</li><li>函数内容以冒号起始，并且缩进。</li><li><strong>return [表达式]</strong> 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None</li></ul><p>基本写法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">functionname</span>(<span class="params"> parameters </span>):</span></span><br><span class="line">   <span class="string">&quot;函数_文档字符串&quot;</span></span><br><span class="line">   function_suite</span><br><span class="line">   <span class="keyword">return</span> [expression]</span><br></pre></td></tr></table></figure><h4 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a>关键字参数</h4><p>关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。</p><p>使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可写函数说明</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printinfo</span>(<span class="params"> name, age </span>):</span></span><br><span class="line">   <span class="string">&quot;打印任何传入的字符串&quot;</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;Name: &quot;</span>, name</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;Age &quot;</span>, age</span><br><span class="line">   <span class="keyword">return</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#调用printinfo函数</span></span><br><span class="line">printinfo( age=<span class="number">50</span>, name=<span class="string">&quot;miki&quot;</span> )</span><br></pre></td></tr></table></figure><h4 id="不定长参数"><a href="#不定长参数" class="headerlink" title="不定长参数"></a>不定长参数</h4><p>你可能需要一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数，和上述2种参数不同，声明时不会命名。基本语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基本写法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">functionname</span>(<span class="params">[formal_args,] *var_args_tuple </span>):</span></span><br><span class="line">   <span class="string">&quot;函数_文档字符串&quot;</span></span><br><span class="line">   function_suite</span><br><span class="line">   <span class="keyword">return</span> [expression]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可写函数说明</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printinfo</span>(<span class="params"> arg1, *vartuple </span>):</span></span><br><span class="line">   <span class="string">&quot;打印任何传入的参数&quot;</span></span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;输出: &quot;</span></span><br><span class="line">   <span class="built_in">print</span> arg1</span><br><span class="line">   <span class="keyword">for</span> var <span class="keyword">in</span> vartuple:</span><br><span class="line">      <span class="built_in">print</span> var</span><br><span class="line">   <span class="keyword">return</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 调用printinfo 函数</span></span><br><span class="line">printinfo( <span class="number">10</span> )</span><br><span class="line">printinfo( <span class="number">70</span>, <span class="number">60</span>, <span class="number">50</span> )</span><br></pre></td></tr></table></figure><blockquote><p>这个应该很有用！！！</p><p>加了星号的参数会以元组的形式导入</p></blockquote><h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>python 使用 lambda 来创建匿名函数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可写函数说明</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="keyword">lambda</span> arg1, arg2: arg1 + arg2</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;相加后的值为 : &quot;</span>, <span class="built_in">sum</span>( <span class="number">10</span>, <span class="number">20</span> ) <span class="comment"># 30</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;相加后的值为 : &quot;</span>, <span class="built_in">sum</span>( <span class="number">20</span>, <span class="number">20</span> ) <span class="comment"># 40</span></span><br></pre></td></tr></table></figure><h1 id="python-模块"><a href="#python-模块" class="headerlink" title="python 模块"></a>python 模块</h1><p>Python 模块(Module)，是一个 Python 文件，以 .py 结尾，包含了 Python 对象定义和Python语句。</p><p>模块让你能够有逻辑地组织你的 Python 代码段。</p><p>把相关的代码分配到一个模块里能让你的代码更好用，更易懂。</p><p>模块能定义函数，类和变量，模块里也能包含可执行的代码。</p><h1 id="python-文件I-O"><a href="#python-文件I-O" class="headerlink" title="python 文件I/O"></a>python 文件I/O</h1><h2 id="input"><a href="#input" class="headerlink" title="input"></a>input</h2><p><strong>input([prompt])</strong> 函数可以接收一个Python表达式作为输入，并将运算结果返回。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: UTF-8 -*- </span><br><span class="line"> </span><br><span class="line">str &#x3D; input(&quot;请输入：&quot;)</span><br><span class="line">print &quot;你输入的内容是: &quot;, str</span><br></pre></td></tr></table></figure><h2 id="read-方法"><a href="#read-方法" class="headerlink" title="read()方法"></a>read()方法</h2><p>read（）方法从一个打开的文件中读取一个字符串。需要重点注意的是，Python字符串可以是二进制数据，而不是仅仅是文字。</p><h2 id="OS模块"><a href="#OS模块" class="headerlink" title="OS模块"></a>OS模块</h2><p>Python的os模块提供了帮你执行文件处理操作的方法，可以重命名和删除文件，创建，删除和更改目录</p><p>要使用这个模块，你必须先导入它，然后才可以调用相关的各种功能。</p><h1 id="python的内置函数"><a href="#python的内置函数" class="headerlink" title="python的内置函数"></a>python的内置函数</h1><p>更多看链接：<a href="https://www.runoob.com/python/python-built-in-functions.html">https://www.runoob.com/python/python-built-in-functions.html</a></p><p><strong>map()</strong> 会根据提供的函数对指定序列做映射。</p><p>第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。</p><p>Python3.x 中 input() 函数接受一个标准输入数据，返回为 string 类型。</p><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul><li><a href="https://www.runoob.com/python/python-tutorial.html">Python 基础教程</a></li><li><a href="http://c.biancheng.net/view/2210.html">python进阶</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>机器学习入门概率</title>
      <link href="2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%E6%A6%82%E8%BF%B0/"/>
      <url>2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<p>j</p><p>j机器学习的课程：</p><p>2020年李宏毅的机器学习课程（bili官网）</p><blockquote><p>带有数据和ppt</p></blockquote><p>课程视频： <a href="https://www.bilibili.com/video/av94519857">https://www.bilibili.com/video/av94519857</a></p><p>作业ppt及答案： <a href="https://github.com/Iallen520/lhy_DL_Hw">https://github.com/Iallen520/lhy_DL_Hw</a></p><p><a href="http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML20.html">http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML20.html</a></p><h2 id="Carnegie-Mellon-University-Tom-Mitchell"><a href="#Carnegie-Mellon-University-Tom-Mitchell" class="headerlink" title="Carnegie Mellon University Tom Mitchell"></a>Carnegie Mellon University <a href="http://www.cs.cmu.edu/~tom">Tom Mitchell</a></h2><p><a href="http://www.cs.cmu.edu/~tom/10701_sp11/lectures.shtml">http://www.cs.cmu.edu/~tom/10701_sp11/lectures.shtml</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>机器学习李宏毅课程</title>
      <link href="2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/"/>
      <url>2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>机器学习就是找函数。用机器取找函数来解决问题</p><h1 id="课程的学习图"><a href="#课程的学习图" class="headerlink" title="课程的学习图"></a>课程的学习图</h1><img src="/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/image-20210412082711048.png" alt="image-20210412082711048" style="zoom:67%;"><p>Explainable AI: 为什么AI会知道猫是猫</p><p>Adversarial Attack</p><p>network compression: 将模型缩小，易于移植</p><p>Transfer Learning: 训练资料和测试资料不一样的时候，怎么办</p><p>meta learning: 机器自己学习如何学习，机器学习的效率并不是很有效率（由于人类找到的方法并不是很有效率）</p><p>Kaggle是一个数据分析的竞赛平台，网址：<a href="https://www.kaggle.com/">https://www.kaggle.com/</a></p><img src="/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/image-20210412084659971.png" class title="image-20210412084659971"><p>上传kaggle，5次结果</p><h1 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h1><p>将不同的python安装在不同的虚拟环境，能维持原生python不受函数包安装移除污染。例如将pytorch安装在虚拟环境中。</p><h2 id="回归regression"><a href="#回归regression" class="headerlink" title="回归regression"></a>回归regression</h2><h2 id><a href="#" class="headerlink" title></a></h2><p>线性回归，加上一个regulation项，可以加强对模型的构建</p><p>目的是为了是model对input的noise噪声不是很敏感</p><p>error的来源</p><p>bias和variance，相当于测样中的accuracy (bias) 和precise </p><p>利用train data训练集来训练模型，然后利用test data来测试模型</p><p>多个简单的模型，他们的variance比较小。（受到输入数据的影响小）</p><p>多个复杂的模型，variance大，bias小</p><p>logistic regression </p><p>聚类分析，通俗点讲，就是概率，属于哪一类的概率最大。</p><p>bernuli的交叉熵(cross entropy)</p><p>square error 和 cross entropy的结果（如图），square error 的训练速度会非常慢，出现甚至卡机的现象。</p><img src="/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/image-20210425081351421.png" alt="image-20210425081351421" style="zoom:50%;"><p>generative 模型，受数据量的影响少，有先验假设(类似于脑补)，</p><p>discriminative 模型，有先验假设，受数据量</p><p>模型的评估与选择</p><p>错误率： 在m 个样本中有a 个样本分类错误，则错误率E=a/m；</p><p>精度：1-E，即1-错误率。</p><p><strong>过拟合和欠拟合</strong></p><img src="/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/image-20210425082157444.png" class title="image-20210425082157444"><p>欠拟合比较容易克服，例如在决策树学习中扩展分支、在神经网络学习中增加训练轮数等。</p><p>而过拟合则很麻烦．在后面的学习中我们将看到，过拟合是机器学习面临的关键障碍，各类学习算法都必然带有一些针对过拟合的措施；然而必须认识到，过拟合是无法彻底避免的，我们所能做的只是“缓解”，或者说减小其风险．</p><h1 id="评估方法"><a href="#评估方法" class="headerlink" title="评估方法"></a>评估方法</h1><p>需使用一个“测试集”(testing set) 来测试学习器对新样本的判别能力、可解释性等方面的因素，然后以测试集上的＂测试误差”(testing error) 作为泛化误差的近似。测试集（testing set ）和训练集（training set ）</p><blockquote><p>但是，我们希望评估的是全部样本训练出来的模型。</p></blockquote><h4 id="留出法-hold-out"><a href="#留出法-hold-out" class="headerlink" title="留出法(hold-out)"></a>留出法(hold-out)</h4><p>因此，单次使用留出法得到的估计结果往往不够稳定可靠，在使用留出法时，一般要采用若干次随机划分、重复进行实验评估后取平均值作为留出法的评估结果。==常见做法是将大约2/3 ~4/5 的样本用于训练，剩余样本用千测试。==</p><h4 id="交叉验证法-cross-validation"><a href="#交叉验证法-cross-validation" class="headerlink" title="交叉验证法(cross validation)"></a>交叉验证法(cross validation)</h4><p>将数据分为k份，k-1份作为训练集，最后一份作为测试集，这样可以做k次验算（k折交叉交叉验算）；同样重复n次，则为n次k折交叉验算。==常见做法：10次10折交叉验证。==</p><h4 id="自助法-bootstrap"><a href="#自助法-bootstrap" class="headerlink" title="自助法( bootstrap)"></a>自助法( bootstrap)</h4><p>给定包含m 个样本的数据集D ，我们对它进行采样产生数据集D’ ：每次随机从D 中挑选一个样本，将其拷贝放入D’ ，然后再将该样本放回初始数据集D 中，使得该样本在下次采样时仍有可能被采到；这个过程重复执行m 次后，我们就得到了包含m个样本的数据集D’ ，这就是自助采样的结果。</p><p>自助法在数据集较小、难以有效划分训练／测试集时很有用；此外，自助法能从初始数据集中产生多个不同的训练集，这对集成学习等方法有很大的好处．然而，自助法产生的数据集改变了初始数据集的分布，这会引入估计偏差。在初始数据足够的情况下，留出法和交叉验证法更有效。</p><h4 id="调参和最终模型"><a href="#调参和最终模型" class="headerlink" title="调参和最终模型"></a>调参和最终模型</h4><p>现实中常用的做法是对每个参数选定一个范围和变化步长，例如在[0,0.2] 范围内以0.05 为步长，则实际要评估的候选参<br>数值有5 个，最终是从这5 个候选值中产生选定值。</p><p>这样选定的参数值往往不是“最佳”值，但这是在计算开销和性能估计之间进行折中的结果，通过这个折中，学习过程才变得可行．</p><blockquote><p>我之前也在Be7的模型中使用这种方法。</p></blockquote><p>回归任务最常用的性能度量是“均方误差”(mean squared error)</p><p>可以用GPU来加速</p><p>语音/图像上的应用</p><p>sigmoid function </p><p>Sigmoid函数是一个在生物学中常见的S型的函数，也称为S型生长曲线。Sigmoid函数常被用作神经网络的阈值函数，将变量映射到0,1之间。</p><p>深度学习，即有很多hidden layers就是深度学习，至于有多少层算deep，因人而异，</p><img src="/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/image-20210425112621871.png" alt="image-20210425112621871" style="zoom:50%;"><p>没有激活函数，后面的权重(w)和bias都会失效</p><p>矩阵运算，GPU可以加速运动</p><blockquote><p>这在matlab中也有提及</p></blockquote><img src="/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/image-20210425151301198.png" alt="image-20210425151301198" style="zoom:50%;"><p>内部的layers，有多少层</p><p>为什么要深度学习</p><p>深度学习主要包含三个步骤</p><p>back and forward 算法</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python_PyTorch入门教程</title>
      <link href="2021/04/11/pythonLearning/python-PyTorch%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
      <url>2021/04/11/pythonLearning/python-PyTorch%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>学习如何入门PyTorch，包括基础原理知识、numpy与PyTorch的区别以及案例研究实例。</p></blockquote><h1 id="PyTorch的概述"><a href="#PyTorch的概述" class="headerlink" title="PyTorch的概述"></a>PyTorch的概述</h1><p>PyTorch是一个基于Python的库，用来提供一个具有灵活性的深度学习开发平台。PyTorch的工作流程非常接近Python的科学计算库——numpy。</p><p>现在你可能会问，为什么我们要用PyTorch来建立深度学习模型呢？主要有三点</p><ul><li><p><strong>易于使用的API</strong>—它就像Python一样简单。</p></li><li><p><strong>Python的支持</strong>—如上所述，PyTorch可以顺利地与Python数据科学栈集成。它非常类似于numpy，甚至注意不到它们的差别。</p></li><li><p><strong>动态计算图</strong>—取代了具有特定功能的预定义图形，PyTorch为我们提供了一个框架，以便可以在运行时构建计算图，甚至在运行时更改它们。在不知道创建神经网络需要多少内存的情况下这非常有价值。</p></li></ul><p>PyTorch的其他一些优点还包括：多gpu支持，自定义数据加载器和简化的预处理器。</p><p>自从2016年1月发布以来，许多研究人员将其作为一种“go-to”库，因为它可以轻松地构建新颖的甚至是极其复杂的图形。虽说如此，PyTorch仍有一段时间没有被大多数数据科学实践者采用，因为它是新的而且处于“正在建设”的状态</p><h1 id="pytorch和tensorflow的区别"><a href="#pytorch和tensorflow的区别" class="headerlink" title="pytorch和tensorflow的区别"></a>pytorch和tensorflow的区别</h1><p>TensorFlow 是谷歌的开发者创造的一款开源的深度学习框架。PyTorch 是最新的深度学习框架之一，由 Facebook 的团队开发，并于 2017 年在 GitHub 上开源。</p><p>PyTorch 和 TensorFlow 的关键差异是它们执行代码的方式。这两个框架都基于基础数据类型张量（tensor）而工作。</p><h1 id="PyTorch安装"><a href="#PyTorch安装" class="headerlink" title="PyTorch安装"></a>PyTorch安装</h1><p>Google了一下，发现大家都有给pytorch安装虚拟环境，因为有可能跟python原有的包起冲突，这样也方便使用。</p><p>创建虚拟环境代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pytorch为库的名字</span></span><br><span class="line">conda create -n pytorch python=<span class="number">3.8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 额外学习，如何看conda环境还有python的版本，输入</span></span><br><span class="line">conda info --envs</span><br><span class="line">python --version</span><br></pre></td></tr></table></figure><p><a href="https://pytorch.org/">官网下载传送门</a>，要选择合适自己的版本。</p><blockquote><p>CUDA是Compute Unified Device Architecture的缩写。中文叫统一计算架构。是为了让nvidia gpu可以完成通用计算任务的一种集成技术，可以为数据大吞吐量的工作提供很好的加速功能。简单的来讲，就是为了让GPU可以不仅仅工作与自己的一幕三分地，而是利用自身的优势，完成通用计算的任务。主要应用除了日常视频编码解码，游戏等外，可以应用于计算加速方面。</p></blockquote><img src="/2021/04/11/pythonLearning/python-PyTorch%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/image-20210411225629962.png" class title="image-20210411225629962"><p>将官网提供的命令放进去</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision torchaudio cudatoolkit=<span class="number">10.2</span> -c pytorch</span><br></pre></td></tr></table></figure><p>果然是龟速…..尝试国内镜像下载，使用清华园镜像下载，速度确实会快一点。（以下都是在pythorch的环境下进行）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加清华源的pytorch</span></span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --<span class="built_in">set</span> show_channel_urls yes</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line"></span><br><span class="line">conda install pytorch torchvision cudatoolkit=<span class="number">10.0</span>  <span class="comment"># 删除安装命令最后的 -c pytorch，才会采用清华源安装。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将镜像通道删除</span></span><br><span class="line">conda config --remove-key channels</span><br></pre></td></tr></table></figure><h2 id="安装完成后测试torch和CUD"><a href="#安装完成后测试torch和CUD" class="headerlink" title="安装完成后测试torch和CUD"></a>安装完成后测试torch和CUD</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#为了确保PyTorch安装正确，我们可以运行示例PyTorch代码来验证安装。这里我们将构造一个随机初始化的张量。</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">x = torch.rand(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line">print(x)</span><br><span class="line"><span class="comment"># The output should be something similar to:</span></span><br><span class="line"><span class="comment"># tensor([[0.2989, 0.2493, 0.2642],</span></span><br><span class="line"><span class="comment">#         [0.9508, 0.4811, 0.1085],</span></span><br><span class="line"><span class="comment">#         [0.5423, 0.3216, 0.3068],</span></span><br><span class="line"><span class="comment">#         [0.8863, 0.8385, 0.5150],</span></span><br><span class="line"><span class="comment">#         [0.8451, 0.4620, 0.6266]])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 此外，要检查GPU驱动程序和CUDA是否能够被PyTorch启用和访问，需要运行以下命令以返回CUDA驱动程序是否已启用：</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">torch.cuda.is_available()</span><br><span class="line"><span class="comment"># the output is: True</span></span><br></pre></td></tr></table></figure><p>安装成功之后就可以来学习pytorch了。</p><h1 id="pytorch-的一些基本概念"><a href="#pytorch-的一些基本概念" class="headerlink" title="pytorch 的一些基本概念"></a>pytorch 的一些基本概念</h1><p>在深入讨论细节之前，让我们先看看PyTorch的工作流程。</p><p>PyTorch使用了命令式/热切的范例。也就是说，在构建一个图形时，每一行代码都定义了改图的一个组件。我们甚至能在图形构建完成前，独立的对这些组件进行计算。这就是所谓的“逐运行”方法。</p><p><strong>PyTorch张量(tensor)</strong></p><p>张量只是多维数组。PyTorch中的张量类似于numpy的ndarrays，另外，张量也可以在GPU上使用。PyTorch支持各种类型的张量。</p><h4 id="数学运算"><a href="#数学运算" class="headerlink" title="数学运算"></a>数学运算</h4><p>与numpy一样，科学计算库非常重要的一点是能够实现高效的数学功能。而PyTorch提供了一个类似的借口，可以使用200个以上的数学运算。</p><h4 id="Autograd模块"><a href="#Autograd模块" class="headerlink" title="Autograd模块"></a>Autograd模块</h4><p>PyTorch使用了一种叫做自动微分的技术。也就是说，它会有一个记录我们所有执行操作的记录器，之后再回放记录来计算我们的梯度。这一技术在构建神经网络时尤其有效，因为我们可以通过计算前路参数的微分来节省时间。</p><h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><p>最后需通过几个实例学习，来更加了解pytorch. </p><p>我们使用<a href="https://link.zhihu.com/?target=https://www.cs.toronto.edu/~kriz/cifar.html">CIFAR-10</a>作为数据集，包含了10个类别60000张图片，每张图片的大小为32x32，其中训练图片50000张，测试图片10000张。</p><p>torchvision中已经打包好了这个数据集，我们不用自己下载，直接如下调用就可以了。</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/Boys_Wu/article/details/106623192">pytorch加速下载——清华镜像源(conda或者pip版本)</a></li><li><a href="https://www.jianshu.com/p/d66319506dd7">PyTorch入门教程</a></li><li><a href="https://zhuanlan.zhihu.com/p/80733307">TensorFlow与PyTorch之争，哪个框架最适合深度学习</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>python学习资源搜集</title>
      <link href="2021/04/11/pythonLearning/python%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E6%90%9C%E9%9B%86/"/>
      <url>2021/04/11/pythonLearning/python%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E6%90%9C%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<p>python 一些有用的教材</p><ul><li>python的主页</li></ul><p><a href="https://www.python.org/">https://www.python.org/</a></p><ul><li><p>python的tutorial，（可以查阅模块的使用方法）</p><p><a href="https://docs.python.org/3.9/py-modindex.html">https://docs.python.org/3.9/py-modindex.html</a></p></li></ul><p>python常用库</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> np  </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>type(example)，判断example的类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="literal">None</span>,(),[],]</span><br><span class="line">print(<span class="built_in">len</span>(a))</span><br><span class="line"><span class="comment"># 输出结果为6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**<span class="number">22</span> % <span class="number">3</span> 表达式输出结果为？** </span><br><span class="line"><span class="comment"># 结果为1，%为取余</span></span><br><span class="line"></span><br><span class="line"><span class="number">9</span>//<span class="number">2</span> 表达式输出结果为？</span><br><span class="line"><span class="comment"># // 用于向下取接近除数的整数。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">or</span> y <span class="keyword">and</span> z:</span><br><span class="line"><span class="comment"># and 具有优先级</span></span><br></pre></td></tr></table></figure><p>异常的处理</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>shell_捕获异常</title>
      <link href="2021/04/11/shellLearning/shell-%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8/"/>
      <url>2021/04/11/shellLearning/shell-%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>总结：</p><ul><li>主要使用$?的这个方法就能解决我的问题</li><li>还有其他捕获异常的方法（有遇到再学习）</li></ul></blockquote><p>在shell中，我们往往规定0为正常，一切非0返回值则为不正常。但往往我们在写shell脚本的时候，忽略对于返回值的判断。我们看一个很基本的shell程序</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">cd /home/xxxx/</span><br><span class="line">rm -rf *</span><br></pre></td></tr></table></figure><blockquote><p>这个脚本的意思很简单，就是cd到某一个目录下，然后将该目录下所有的内容都删除。首先，rm这种东西出现在脚本中，就是一个很危险的操作，而这个程序的关键之处还在于，并没有对第一行shell的返回值进行任何的判断，也就是说对于cd那行代码无论执行失败与否，都会去执行下面的那段rm，试想如果在某些情况下cd那段代码失败了之后，会出现多么可怕的后果。所以，我们应该对于cd的代码做返回值的判断。</p></blockquote><p>使用<code>$?</code>判断上一段shell的返回值是否有问题</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">cd /home/xxxx/</span><br><span class="line">if [ &quot;$?&quot;= &quot;0&quot; ]; then</span><br><span class="line">   rm -rf *  # 如果正确cd到xxxx文件夹下，删除所有</span><br><span class="line">else</span><br><span class="line">   echo &quot;cannot change directory&quot; 1&gt;&amp;2 # 如果没有cd到特定文件夹下，抛出信息</span><br><span class="line">   exit 1</span><br><span class="line">fi </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果没有问题，$? 为0，如果有问题，$?为其他值。</span></span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://www.cnblogs.com/clam/archive/2012/12/17/2821684.html">如何在shell中处理异常（Part 1）</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>shell_字符串的截取</title>
      <link href="2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/"/>
      <url>2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/</url>
      
        <content type="html"><![CDATA[<blockquote><p>z总结：</p><ul><li>基本格式 <code>$&#123;string: start :length&#125;</code></li><li>取右边#，取左边%，注意*的位置</li></ul></blockquote><h1 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 左边开始</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;string: start :length&#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 右边开始</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;string: 0-start :length&#125;</span></span><br></pre></td></tr></table></figure><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[Neptuneyt]$</span><span class="bash"> net=<span class="string">&quot;www.baidu.com&quot;</span></span></span><br><span class="line"><span class="meta">[Neptuneyt]$</span><span class="bash"> <span class="comment"># 从第4个字符截取到baidu</span></span></span><br><span class="line"><span class="meta">[Neptuneyt]$</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;net:4:5&#125;</span> <span class="comment">#从第4个字符.开始截取5个字符</span></span></span><br><span class="line">baidu</span><br></pre></td></tr></table></figure><h1 id="从指定的字符开始"><a href="#从指定的字符开始" class="headerlink" title="从指定的字符开始"></a>从指定的字符开始</h1><h4 id="1-使用-号截取右边字符"><a href="#1-使用-号截取右边字符" class="headerlink" title="1) 使用 # 号截取右边字符"></a>1) 使用 # 号截取右边字符</h4><p>使用<code>#</code>号可以截取指定字符（或者子字符串）右边的所有字符，具体格式如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;string<span class="comment">#*chars&#125;</span></span></span><br></pre></td></tr></table></figure><h4 id="2-使用-截取左边字符"><a href="#2-使用-截取左边字符" class="headerlink" title="2) 使用 % 截取左边字符"></a>2) 使用 % 截取左边字符</h4><p>使用<code>%</code>号可以截取指定字符（或者子字符串）左边的所有字符，具体格式如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;string%chars*&#125;</span></span><br></pre></td></tr></table></figure><h2 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">使用<span class="comment">#截取</span></span></span><br><span class="line">url=&quot;http://c.biancheng.net/index.html&quot;b</span><br><span class="line"><span class="meta">#</span><span class="bash"> 表示遇到的第一个/</span></span><br><span class="line">echo $&#123;url#*/&#125;    #结果为 /c.biancheng.net/index.html</span><br><span class="line"><span class="meta">#</span><span class="bash"> 表示遇到的最后一个/</span></span><br><span class="line">echo $&#123;url##*/&#125;   #结果为 index.html</span><br><span class="line">str=&quot;---aa+++aa@@@&quot;</span><br><span class="line">echo $&#123;str#*aa&#125;   #结果为 +++aa@@@</span><br><span class="line">echo $&#123;str##*aa&#125;  #结果为 @@@</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">使用%截取</span></span><br><span class="line">url=&quot;http://c.biancheng.net/index.html&quot;</span><br><span class="line">echo $&#123;url%/*&#125;  #结果为 http://c.biancheng.net</span><br><span class="line">echo $&#123;url%%/*&#125;  #结果为 http:</span><br><span class="line">str=&quot;---aa+++aa@@@&quot;</span><br><span class="line">echo $&#123;str%aa*&#125;  #结果为 ---aa+++</span><br><span class="line">echo $&#123;str%%aa*&#125;  #结果为 ---</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="汇总表格"><a href="#汇总表格" class="headerlink" title="汇总表格"></a>汇总表格</h1><blockquote><p>注意，这表格最后两行是错的，*应该在char的右边</p></blockquote><img src="/2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/image-20210410210100764.png" class title="image-20210410210100764"><h1 id="字符串替换-删除（利用正则）"><a href="#字符串替换-删除（利用正则）" class="headerlink" title="字符串替换/删除（利用正则）"></a>字符串替换/删除（利用正则）</h1><p>基本格式为，pattern为正则。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 原变量替换</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable//pattern/sub&#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 变量不变</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable/pattern/sub&#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&gt;&gt; 注意上面的这两个为字符匹配</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只替换开头匹配的字符串</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable/<span class="comment">#pattern/sub&#125;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只替换结尾匹配的字符串</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;variable/%pattern/sub&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net=www.baidu.com</span><br><span class="line">echo $&#123;net/baidu/google&#125; #结果为 www.google.com</span><br><span class="line">echo $net# 结果仍为www.baidu.com</span><br></pre></td></tr></table></figure><p>举一反三，删除字符的方法，只要将替换的变为空值即可，看实例</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;net/./&#125;</span><br><span class="line">wwwbaidu.com</span><br><span class="line">echo $&#123;net/.&#125;  #最后一个/可以不用写</span><br><span class="line">wwwbaidu.com</span><br></pre></td></tr></table></figure><h2 id="删除字母"><a href="#删除字母" class="headerlink" title="删除字母"></a>删除字母</h2><p>这个方法利用tr -c删除补集的功能，如有其他字符泽不能用这个方法</p><p><a href="https://blog.csdn.net/bigwood99/article/details/105227113">https://blog.csdn.net/bigwood99/article/details/105227113</a></p><p>方法1：</p><p>echo “a1b2c3d4f5” | tr -d ‘a-z’</p><p>方法2：</p><p>echo “a1b2c3d4f5” | sed ‘s/[a-z]*//g’</p><p>方法3：</p><p>echo “a1b2c3d4f5” | tr -d -c ‘[0-9]’</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/qq_42491125/article/details/101368505">shell教程（4）变量（二）：字符串变量截取、替换和删除</a> </li><li><a href="http://c.biancheng.net/view/1120.html">http://c.biancheng.net/view/1120.html</a></li><li><a href="https://www.cnblogs.com/kevingrace/p/5996133.html">https://www.cnblogs.com/kevingrace/p/5996133.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>python_jupyternotebook_修改默认路径</title>
      <link href="2021/04/10/pythonLearning/python-jupyternotebook/"/>
      <url>2021/04/10/pythonLearning/python-jupyternotebook/</url>
      
        <content type="html"><![CDATA[<p>主要包含以下内容：</p><p>[TOC]</p><h2 id="jupyter-改字体"><a href="#jupyter-改字体" class="headerlink" title="jupyter 改字体"></a>jupyter 改字体</h2><p>直接在浏览器的自定义字体里面，将字体修改即可</p><h2 id="jupyter自动补全功能"><a href="#jupyter自动补全功能" class="headerlink" title="jupyter自动补全功能"></a>jupyter自动补全功能</h2><blockquote><p>我的extension里面已经有了这些选项，所以没有进行额外安装步骤。</p></blockquote><p>Hinterland（代码自动补全）和Variable Inspector（变量检查器）。</p><ul><li>只需在Configurable nbextensions界面Hinterland✔即可，勾选此插件为代码单元格中的每次按键启用“代码自动补全”菜单，有种在pycharm中写代码的感觉了。</li><li>只需在Configurable nbextensions界面Variable Inspector✔即可，显示你在notebook中创建的所有变量的名称、类型、大小、维度、变量等。</li></ul><img src="/2021/04/10/pythonLearning/python-jupyternotebook/image-20210412111412802.png" class title="image-20210412111412802"><p>参考链接：<a href="https://blog.csdn.net/wyxxxx_/article/details/107388018">https://blog.csdn.net/wyxxxx_/article/details/107388018</a></p><h2 id="Jupyter-extension消失的问题"><a href="#Jupyter-extension消失的问题" class="headerlink" title="Jupyter extension消失的问题"></a>Jupyter extension消失的问题</h2><p>发现jupyter notebook的extension不见了，直接在anaconda的prompt窗口输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打开Anaconda Prompt窗口，执行第一个命令，用于安装nbextensions：</span></span><br><span class="line">python -m pip install jupyter_contrib_nbextensions </span><br><span class="line"><span class="meta">#</span><span class="bash"> 再执行第二个命令，用于安装 javascript and css files</span></span><br><span class="line">jupyter contrib nbextension install --user --skip-running-check  </span><br></pre></td></tr></table></figure><p>正常情况下应该就看到extension。如果看不到的话具体看参考链接</p><ul><li>参考链接： <a href="https://www.jianshu.com/p/3e38964737bc">https://www.jianshu.com/p/3e38964737bc</a></li></ul><h2 id="修改默认路径"><a href="#修改默认路径" class="headerlink" title="修改默认路径"></a>修改默认路径</h2><p>找到以下文件</p><p>Jupyter_notebook_config.py</p><p>然后打开文件，找到以下内容，改成自己想要存储的路径</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.notebook_dir = &#x27;D:\Research\Jupyter Notebook&#x27;</span><br></pre></td></tr></table></figure><p>保存关闭文件。此时，若是我们使用的Anaconda Prompt，通过命令jupyter notebook打开的话，已经可以使用了。</p><p>我们还可以通过Anaconda里自带的Jupyter Notebook打开（可以在开始菜单里找到），不过我们还需要修改一些参数。</p><img src="/2021/04/10/pythonLearning/python-jupyternotebook/20190613113019560.PNG" alt="在这里插入图片描述" style="zoom:50%;"><p>在目标中找到%USERPROFILE%，并将它删除，否则打开Jupyter Notebook会一直跳到默认的C盘路径。（提醒：不要将%USERPROFILE%改成其他路径，否则很可能导致闪退现象！而且还有很多文章只更改起始位置，亲测无效！）</p><p>然后在起始位置里，输入自己想存放文件的路径即可。</p><p>==参考文献==：<a href="https://blog.csdn.net/weixin_44799144/article/details/91823079">jupyter路径修改</a></p>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_trajectory测试1</title>
      <link href="2021/04/09/TrajectoryModel/hysplit-trajectory%E6%B5%8B%E8%AF%951/"/>
      <url>2021/04/09/TrajectoryModel/hysplit-trajectory%E6%B5%8B%E8%AF%951/</url>
      
        <content type="html"><![CDATA[<p>关注的点和考虑的问题</p><ul><li><p>是否会跑到平流层上</p></li><li><p>不同的释放高度，会有什么样的不同</p></li><li><p>backforward多久比较合适，是否有一个合理的界定</p></li></ul><p>测试1：backforward trajectory 运行（30天，是否会跑回到12km；不同高度的区别）</p><h2 id="测试1：backforward-trajectory-运行"><a href="#测试1：backforward-trajectory-运行" class="headerlink" title="测试1：backforward trajectory 运行"></a>测试1：backforward trajectory 运行</h2><p>（30天，是否会跑回到12km；不同高度的区别）</p><p>设置3个不同高度（100, 1000, 4000)，以EGRIP ice core的地点为例，从2001年1月到2002年2月份，NCEP reanalysis 数据。</p><h2 id="测试2：-每6个小时开始一个trajectory"><a href="#测试2：-每6个小时开始一个trajectory" class="headerlink" title="测试2： 每6个小时开始一个trajectory"></a>测试2： 每6个小时开始一个trajectory</h2><p>思路：</p><p>一种就是利用循环进行（不知道模型有没有自带的功能，particle有每几个小时出一次图的功能？）</p><p>先将每6个小时的时间做成一个txt文档，然后使用cat功能，每次循环结束读取下一行</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_相关背景知识</title>
      <link href="2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/"/>
      <url>2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p><a href="https://baike.baidu.com/item/%E7%A9%BA%E6%B0%94%E8%B4%A8%E9%87%8F%E6%A8%A1%E5%9E%8B/22149638#5_3">https://baike.baidu.com/item/%E7%A9%BA%E6%B0%94%E8%B4%A8%E9%87%8F%E6%A8%A1%E5%9E%8B/22149638#5_3</a></p><p>大气扩散模型 Atmospheric dispersion modeling（ADM)</p><blockquote><p>The atmospheric dispersion models are also known as atmospheric diffusion models, air dispersion models, air quality models, and air pollution dispersion models.</p></blockquote><p>跟大气模型的区别？？</p><p>大气层垂直结构大致可分为<a href="https://zh.wikipedia.ahau.cf/wiki/%E5%AF%B9%E6%B5%81%E5%B1%82">对流层 troposphere</a>、<a href="https://zh.wikipedia.ahau.cf/wiki/%E5%B9%B3%E6%B5%81%E5%B1%82">平流层 stratosphere 18-50km</a>、<a href="https://zh.wikipedia.ahau.cf/wiki/%E4%B8%AD%E6%B0%A3%E5%B1%A4">中间层 mesosphere 50-80km</a>、<a href="https://zh.wikipedia.ahau.cf/wiki/%E5%A2%9E%E6%BA%AB%E5%B1%A4">增温层</a>及<a href="https://zh.wikipedia.ahau.cf/wiki/%E5%A4%96%E6%B0%A3%E5%B1%A4">外气层</a>，</p><p>ADM一般只考虑到中间层。</p><p>对流层还有大气边界层，逆温层（1.5km-2km)和自由对流层</p><p>对流层最低一层叫做大气边界层或者行星边界层 <em><a href="https://en.wikipedia.ahau.cf/wiki/Planetary_boundary_layer">atmospheric boundary layer (ABL)</a></em> or the *<a href="https://en.wikipedia.ahau.cf/wiki/Planetary_boundary_layer">planetary boundary layer </a>*。是大气层中最接近行星表面的部分（边界层），大约占对流层的10%-20%。由于地表摩擦力，大气边界层中存在湍流，垂直混合强烈，风速、温度和湿度等物理量快速波动。大气边界层之上的部分称“自由大气”，其风速风向近似是行星自转引起的，即地转风（平行于等压线）。</p><p>大气边界层原因</p><p>大气边界层的形成主要是因为地表摩擦力 (surface resistance)的存在。一方面，近表面的空气分子受摩擦而减慢速度，类似静止，这些分子和流动的分子之间不断交换，总效果是减慢了空气流动。另一方面，更重要的是，在地表附近，空气会形成一系列不规则漩涡，变为湍流，从而对空气流动带来巨大阻力</p><p><strong>逆温</strong>（英语：<strong>temperature inversion</strong>）现象是一种<a href="https://zh.wikipedia.ahau.cf/wiki/%E6%B0%A3%E8%B1%A1%E5%AD%B8">气象学</a>的现象，指地面上的温度随着高度越高而增加，与高度越高温度下降的正常现象相反，通常因高压笼罩，不易空气对流所致。因为较高的暖空气覆盖着较低的冷空气，可能会导致空气污染物无法散出，影响当地居民和其他生物的健康，<a href="https://zh.wikipedia.ahau.cf/wiki/1952%E5%B9%B4%E5%80%AB%E6%95%A6%E7%85%99%E9%9C%A7%E4%BA%8B%E4%BB%B6">1952年伦敦烟雾事件</a>即为一著名案例。</p><p>成因</p><ol><li><a href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E8%BC%BB%E5%B0%84%E9%80%86%E6%BA%AB&action=edit&redlink=1">辐射逆温</a>：最常见于冬天晴朗无风的夜晚。因地表散热快，反而比其上层之气温更低，故形成下冷上热的现象。</li><li><a href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E5%B1%B1%E5%9C%B0%E9%80%86%E6%BA%AB&action=edit&redlink=1">山地逆温</a>：冬季冷空气重，易沉聚谷底，造成下冷上热的现象。（例子：果树、蔬菜等农作物不栽植于谷底）</li><li><a href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E6%B2%89%E9%99%8D%E9%80%86%E6%BA%AB&action=edit&redlink=1">沉降逆温</a>：<a href="https://zh.wikipedia.ahau.cf/wiki/%E5%AF%92%E6%B0%94%E6%B5%81">寒流</a>来临时，冷空气潜入暖空气下，造成干燥且多雾天气。</li><li><a href="https://zh.wikipedia.ahau.cf/w/index.php?title=%E9%8B%92%E9%9D%A2%E9%80%86%E6%BA%AB&action=edit&redlink=1">锋面逆温</a>：因为锋面而使冷空气在下、热空气在上，导致温度由低处往低高处增加，直到高过热气团后才逐渐降温。</li></ol><p>list of ADM </p><p><a href="https://en.wikipedia.ahau.cf/wiki/List_of_atmospheric_dispersion_models">https://en.wikipedia.ahau.cf/wiki/List_of_atmospheric_dispersion_models</a></p><p>sigma坐标系</p><p>This coordinate system receives its name from the independent variable sigma  used to represent a scaled pressure level.</p><p>The sigma coordinate system allows sigma-surfaces to follow model terrain; where terrain is sharply sloped, so are the sigma surfaces. </p><p>sigma</p><img src="/2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/image-20210411153009985.png" alt="image-20210411153009985" style="zoom:50%;"><p>hybrid sigma-pressure </p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://en.wikipedia.ahau.cf/wiki/Atmospheric_dispersion_modeling">https://en.wikipedia.ahau.cf/wiki/Atmospheric_dispersion_modeling</a> </li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> hysplit </tag>
            
            <tag> 大气背景知识 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_安装</title>
      <link href="2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/"/>
      <url>2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<blockquote><p>总而言之，官网上有很详细的解释，一切以官网为主。这里主要对一些信息做些记录。</p><p>源码需要给发邮件获得。</p></blockquote><h1 id="Hysplit-5-安装"><a href="#Hysplit-5-安装" class="headerlink" title="Hysplit 5 安装"></a>Hysplit 5 安装</h1><p>trial版本和register版本没什么不同，register版本可以额外使用预报功能。Hysplit 5 教程使用的是unregister (trial)版本。<a href="https://www.ready.noaa.gov/index.php">Hysplit 安装的网址</a></p><p>需要预安装两个软件：NOAA官网有提供现在的两个软件的<a href="https://www.ready.noaa.gov/HYSPLIT_util.php">下载链接</a></p><ul><li><p>Tcl/TK，打开软件的打开方式。Tk是一開放原始碼的圖形化使用者介面開發工具，提供許多常用的圖形介面元件，具有跨平台、輕量化等特色。官网下载地址：<a href="https://www.tcl.tk/software/tcltk/download.html">https://www.tcl.tk/software/tcltk/download.html</a></p><blockquote><p>官网上有个叫source file，需要自己结合电脑进行compile。</p></blockquote></li><li><p>Ghostview，成图要用的。</p></li></ul><blockquote><p>两者最好要跟Hysplit安装在同一个drive磁盘中，否则要对Hysplit中的绘图道路进行设置</p><blockquote><p>Installation to directories different from their suggested defaults may require editing the HYSPLIT GUI launch script: \guicode\hysplit.tcl. </p></blockquote></blockquote><p>安装Hysplit 5， 然后修改打开方式为tcl/bin路径下的wish86t.exe文件即可，安装好的使用界面</p><img src="/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/image-20210330103724354.png" alt="image-20210330103724354" style="zoom:50%;"><p>忘记了电脑是否安装了Ghostview和Ghostscript，先简单运行个example看看。在concentration栏目下有个quick start可以运行个样例：</p><img src="/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/image-20210330105101974.png" alt="image-20210330105101974" style="zoom:50%;"><blockquote><p>ok, 基本上电脑可以运行Hysplit。</p><p>此外还有四种看图方式（python，Google Earth View 等），之后有需要的时候在了解。</p></blockquote><p>安装的建议：</p><ul><li><p>安装路径推荐默认路径</p><blockquote><blockquote><p>Installing to the default directory will make it easier to use preconfigured input files during the Tutorial as well as running example scripts without editing the directory pointer.</p></blockquote></blockquote></li><li><p>不要打开多个Hysplit窗口</p></li><li><p>将文件打开方式设为notepad，这样比较好看结果</p></li></ul><p>更多详细安装建议：<a href="https://www.ready.noaa.gov/documents/Tutorial/html/install_win.html">https://www.ready.noaa.gov/documents/Tutorial/html/install_win.html</a></p><h2 id="Hysplit的一些资源整理"><a href="#Hysplit的一些资源整理" class="headerlink" title="Hysplit的一些资源整理"></a>Hysplit的一些资源整理</h2><p>多看看官网上面的信息，有很多现成的东西可以直接用。</p><p>安装Hysplit之后，在安装的目录下的document文件夹中，有<code>user-guide</code>（非常详细的说明）和<code>arl-224</code>(技术说明)。</p><h3 id="其他学习资源"><a href="#其他学习资源" class="headerlink" title="其他学习资源"></a>其他学习资源</h3><ul><li><p>官网上有视频教程</p></li><li><p>有个<a href="https://hysplitbbs.arl.noaa.gov/viewforum.php?f=10&sid=2a13ba958cd9c4800bada947085476c3">Hysplit论坛</a>上面可以问问题，也可以看下别人是否有相同的问题。</p><blockquote><p>注意，这个需要额外注册</p></blockquote></li><li><p>在GUI的advance setting中，也可以调用帮助文档，查看详情（其实就是user-guide）</p></li><li><p>在官网的<a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/">frequent asked question</a>里面也有些有用信息</p></li></ul><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>shell_变量</title>
      <link href="2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/"/>
      <url>2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<blockquote><p> 总结：</p><ul><li>赋值变量尽量用双引号</li><li>引用变量用$</li><li>赋值变量用$()</li></ul></blockquote><p>在 Bash shell 中，每一个变量的值都是字符串，无论你给变量赋值时有没有使用引号，值都会以字符串的形式存储。这意味着，Bash shell 在默认情况下不会区分变量类型，即使你将整数和小数赋值给变量，它们也会被视为字符串。</p><h2 id="shell变量"><a href="#shell变量" class="headerlink" title="shell变量"></a>shell变量</h2><blockquote><p>定义变量时，变量名不加美元s符号（$，PHP语言中变量需要），如：</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;runoob.com&quot;</span><br></pre></td></tr></table></figure><p>注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p><ul><li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li><li>中间不能有空格，可以使用下划线（_）。</li><li>不能使用标点符号。</li><li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li></ul><blockquote><p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br></pre></td></tr></table></figure><p>变量名外面的花括号是可选的，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for skill in Ada Coffe Action Java; do</span><br><span class="line">    echo &quot;I am good at $&#123;skill&#125;Script&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>如果不给skill变量加花括号，写成echo “I am good at $skillScript”，解释器就会把$skillScript当成一个变量（其值为空）。</p><blockquote><p> 推荐给所有变量加上花括号，这是个好的编程习惯。</p></blockquote><h2 id="单引号双引号区别"><a href="#单引号双引号区别" class="headerlink" title="单引号双引号区别"></a>单引号双引号区别</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url=&quot;http://c.biancheng.net&quot;</span><br><span class="line">website1=&#x27;C语言中文网：$&#123;url&#125;&#x27;</span><br><span class="line">website2=&quot;C语言中文网：$&#123;url&#125;&quot;</span><br><span class="line">echo $website1</span><br><span class="line">echo $website2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以单引号<span class="string">&#x27; &#x27;</span>包围变量的值时，单引号里面是什么就输出什么。以双引号<span class="string">&quot; &quot;</span>包围变量的值时，输出时会先解析里面的变量和命令。</span></span><br></pre></td></tr></table></figure><blockquote><p>建议：变量的内容是数字，可以不加引号；如果需要原样输出就加单引号；没有特别要求的字符串等最好都加上双引号，定义变量时加双引号是最常见的使用场景。</p></blockquote><h2 id="将命令结果复制给变量"><a href="#将命令结果复制给变量" class="headerlink" title="将命令结果复制给变量"></a>将命令结果复制给变量</h2><p>有两种方式。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">variable=`command`# 网上搜资料的时候能看到，但是不推荐</span><br><span class="line">variable=$(command) # 推荐这一种</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="http://c.biancheng.net/cpp/view/6999.html">Shell变量：Shell变量的定义、删除变量、只读变量、变量类型</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell_grep_sed函数</title>
      <link href="2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/"/>
      <url>2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>sed/grep/akw是 Linux 文本处理三剑客。</p><p>还额外记录两个函数find和ls。</p></blockquote><h1 id="grep函数"><a href="#grep函数" class="headerlink" title="grep函数"></a>grep函数</h1><p>grep 命令用于查找文件里符合条件的字符串。可以匹配正则来搜索文件中的信息。</p><blockquote><p>由于可以搜索文件的信息，因此最好不要单用grep在目录下搜索，速度非常慢</p><p>如果要用grep在文件夹搜索，应结合ls 使用；</p><p>egrep可以使用扩展正则，grep不行。</p></blockquote><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="基本处理"><a href="#基本处理" class="headerlink" title="基本处理"></a>基本处理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 当前文件夹找到符号条件的文件名</span></span><br><span class="line">result=$(ls | grep &quot;.md&quot;)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则的方式，md开头的文件</span></span><br><span class="line">ls | grep &quot;^md&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录中，查找后缀有 file 字样的文件, 其中包含 <span class="built_in">test</span> 字符串的文件</span></span><br><span class="line">grep test *file </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反向查找。通过<span class="string">&quot;-v&quot;</span>参数查找文件名中包含 <span class="built_in">test</span> 的文件中不包含<span class="built_in">test</span> 的行，此时，使用的命令为：</span></span><br><span class="line">grep -v test *test*</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 包含 leo 的行位于文件的第几行。</span></span><br><span class="line">grep -n leo /etc/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash">29:leo:x:503:503::/home/leo:/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> grep 在输出时，能把 leo 所在行的上面或下面的行也展示出来。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> A为after, 可替换为B(after)，C上下行都显示</span></span><br><span class="line">grep -A 1 leo passwd(文件名)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="多文件处理-正则"><a href="#多文件处理-正则" class="headerlink" title="多文件处理/正则"></a>多文件处理/正则</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 找出内容中含有first单词的txt文件都有哪些。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反向操作，把l换成L</span></span><br><span class="line">grep -l &quot;first&quot; *.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则的例子</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开头是leo的行</span></span><br><span class="line">grep &#x27;^leo&#x27; /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多条件查找，要使用扩展正则，就要使用egrep</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 用|表示或的条件</span></span><br><span class="line">egrep &#x27;^root|bash$&#x27; passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意，egrep和ls连用没有效果，也就是说不能用egrep找多条件的文件名</span></span><br></pre></td></tr></table></figure><p><a href="https://linux.cn/article-6941-1.html">https://linux.cn/article-6941-1.html</a></p><p><a href="http://c.biancheng.net/linux/grep.html">http://c.biancheng.net/linux/grep.html</a></p><p>grep的或匹配，和匹配</p><h1 id="sed-函数"><a href="#sed-函数" class="headerlink" title="sed 函数"></a>sed 函数</h1><p>==sed默认不修改源文件内容==，可以直接修改文件的内容（-i），</p><p>注意，sed 会根据脚本命令来处理文本文件中的数据，这些命令要么从命令行中输入，要么存储在一个文本文件中，此命令执行数据的顺序如下：</p><ol><li><p>每次仅读取一行内容；</p><blockquote><p>而且不会读取换行符</p></blockquote></li><li><p>根据提供的规则命令匹配并修改数据。注意，sed 默认不会直接修改源文件数据，而是会将数据复制到缓冲区中，修改也仅限于缓冲区中的数据；</p></li><li><p>将执行结果输出。</p><blockquote><p>要注意使用，因为我们不想修改重要信息</p></blockquote></li></ol><img src="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/image-20210408162947813.png" class title="image-20210408162947813"><h2 id="基本格式："><a href="#基本格式：" class="headerlink" title="基本格式："></a>基本格式：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[address]s/pattern/replacement/flags</span><br><span class="line"><span class="meta">#</span><span class="bash">其中，address 表示指定要操作的具体行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> s为替换命令（即基础指令）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> pattern 指的是需要替换的内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> replacement 指的是要替换的新内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> flags是指替换的标志位</span></span><br></pre></td></tr></table></figure><h2 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h2><p>全部基础命令：</p><table><thead><tr><th align="left">名称</th><th align="left">命令</th><th align="left">语法</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">替换</td><td align="left">s</td><td align="left">[address]s/pattern/replacement/flags</td><td align="left">替换匹配的内容</td></tr><tr><td align="left">删除</td><td align="left">d</td><td align="left">[address]d</td><td align="left">删除匹配的行</td></tr><tr><td align="left">插入</td><td align="left">i</td><td align="left">[line-address]i\  text</td><td align="left">在匹配行的前方插入文本</td></tr><tr><td align="left">追加</td><td align="left">a</td><td align="left">[line-address]a\  text</td><td align="left">在匹配行的后方插入文本</td></tr><tr><td align="left">行替换</td><td align="left">c</td><td align="left">[address]c\  text</td><td align="left">将匹配的行替换成文本text</td></tr><tr><td align="left">打印行</td><td align="left">p</td><td align="left">[address]p</td><td align="left">打印在模式空间中的行</td></tr><tr><td align="left">打印行号</td><td align="left">=</td><td align="left">[address]=</td><td align="left">打印当前行行号</td></tr><tr><td align="left">打印行</td><td align="left">l</td><td align="left">[address]l</td><td align="left">打印在模式空间中的行，同时显示控制字符</td></tr><tr><td align="left">转换字符</td><td align="left">y</td><td align="left">[address]y/SET1/SET2/</td><td align="left">将SET1中出现的字符替换成SET2中对应位置的字符</td></tr><tr><td align="left">读取下一行</td><td align="left">n</td><td align="left">[address]n</td><td align="left">将下一行的内容读取到模式空间</td></tr><tr><td align="left">读文件</td><td align="left">r</td><td align="left">[line-address]r file</td><td align="left">将指定的文件读取到匹配行之后</td></tr><tr><td align="left">写文件</td><td align="left">w</td><td align="left">[address]w file</td><td align="left">将匹配地址的所有行输出到指定的文件中</td></tr><tr><td align="left">退出</td><td align="left">q</td><td align="left">[line-address]q</td><td align="left">读取到匹配的行之后即退出</td></tr></tbody></table><h2 id="常用的flag"><a href="#常用的flag" class="headerlink" title="常用的flag"></a>常用的flag</h2><img src="/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/image-20210414102004202.png" class title="image-20210414102004202"><h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> /^categories/为正则匹配，c为替换行，c后面的语句为替换语句，<span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span>为替换的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -i 选项可以直接修改文件内容，没有-i的话，只输出，但不修改源文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> \为对特殊符号进行转义</span></span><br><span class="line">sed -i &quot;/^categories/c categories: [\&#x27;编程语言学习\&#x27;]&quot; &quot;$&#123;file&#125;&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 去除前后空格</span></span><br><span class="line">[root@linux ~]# echo &#x27; A BC &#x27; | sed -e &#x27;s/^[ ]*//g&#x27; | sed -e &#x27;s/[ ]*$//g&#x27;</span><br><span class="line">A BC</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多行匹配</span></span><br><span class="line">特殊/特定行行</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/sweeter2/article/details/50876810">https://blog.csdn.net/sweeter2/article/details/50876810</a></p><h1 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h1><h2 id="find-函数"><a href="#find-函数" class="headerlink" title="find 函数"></a>find 函数</h2><p>直接上实例学习</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 另外一种方法,</span></span><br><span class="line">x=$(find -name &#x27;shell*.md&#x27;| tr -d &quot;[\.\/]&quot;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找计算机中所有大于1MB的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -a 和的关系</span></span><br><span class="line">find   /  -size   +1M  -a  -type  f</span><br></pre></td></tr></table></figure><h4 id="额外看链接"><a href="#额外看链接" class="headerlink" title="额外看链接"></a>额外看链接</h4><p><a href="https://blog.csdn.net/Sunny_Future/article/details/80321478">Shell中find命令查找指定文件或目录</a></p><p><a href="https://blog.csdn.net/qq_xuanshuang/article/details/107453783">https://blog.csdn.net/qq_xuanshuang/article/details/107453783</a></p><h2 id="ls-匹配"><a href="#ls-匹配" class="headerlink" title="ls 匹配"></a>ls 匹配</h2><p>[ ] 匹配文件，[ … ] 匹配 [ ] 中所包含的任意一个字符。有两种匹配方式：</p><ul><li>杂乱匹配：ls /etc/[wsdcr]syslog.conf；</li><li>范围匹配：ls [0-9] [a-zA-Z].txt</li></ul><p>[ !… ] 匹配 [ ] 中非感叹号！之后的任意一个字符，它与上一条规则刚好相反。举例：ls [!0-9]*.txt。此条是匹配非数字开头的后缀名为 txt 的所有文件。</p><blockquote><p>注意这里的<code>*</code>和正则里面不一样，我一开始记混了。</p></blockquote><h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 不含p开头的md</span></span><br><span class="line">ls [!p]*.md</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 暂时没找到多条件的</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以结合sed和grep使用，然后用管道</span></span><br><span class="line"></span><br><span class="line">遍历目录下的文件名</span><br><span class="line">for file in `ls /bin`; do                                                                           </span><br><span class="line">    echo $&#123;file&#125;                                                                                     </span><br><span class="line">done  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>额外看链接：</p><p><a href="https://www.cnblogs.com/zhaochi/p/12846696.html">https://www.cnblogs.com/zhaochi/p/12846696.html</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="http://c.biancheng.net/view/4028.html">Linux sed命令完全攻略</a></li><li><a href="https://kodango.com/sed-and-awk-notes-part-6">https://kodango.com/sed-and-awk-notes-part-6</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_正则表达式</title>
      <link href="2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h1><p>正则是字符串匹配。</p><p>开头导入re模块：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure><p>总结</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># ^ 匹配字符串的开始。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># $ 匹配字符串的结尾。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \b 匹配一个单词的边界。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \d 匹配任意数字。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># \D 匹配任意非数字字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x? 匹配一个可选的 x 字符 (换言之，它匹配 1 次或者 0 次 x 字符)。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x* 匹配0次或者多次 x 字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x+ 匹配1次或者多次 x 字符。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># x&#123;n,m&#125; 匹配 x 字符，至少 n 次，至多 m 次。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># (a|b|c) 要么匹配 a，要么匹配 b，要么匹配 c。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># (x) 一般情况下表示一个记忆组 (remembered group)。你可以利用 re.search 函数返回对象的 groups() 函数获取它的值。</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 正则表达式中的点号通常意味着 “匹配任意单字符”</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="部分实例：-注意举一反三"><a href="#部分实例：-注意举一反三" class="headerlink" title="部分实例：(注意举一反三)"></a>部分实例：(注意举一反三)</h2><ul><li>提取小数：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;A1.45，b5，6.45，8.82&quot;</span><br><span class="line">print re.findall(r&quot;\d+\.?\d*&quot;,string)</span><br><span class="line"><span class="meta">#</span><span class="bash"> [<span class="string">&#x27;1.45&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6.45&#x27;</span>, <span class="string">&#x27;8.82&#x27;</span>]</span></span><br></pre></td></tr></table></figure><ul><li>匹配包含指定字符串开头的，例如提取loss开头的字符串：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tensorflow:Final best valid 0 loss=0.20478513836860657 norm_loss=0.767241849151384 roc=0.8262403011322021 pr=0.39401692152023315 calibration=0.9863265752792358 rate=0.0</span><br><span class="line"></span><br><span class="line">pattern = re.compile(r&#x27;(?:loss=)\d+\.?\d*&#x27;)</span><br><span class="line">pattern.findall(string)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> [<span class="string">&#x27;loss=0.20478513836860657&#x27;</span>, <span class="string">&#x27;loss=0.767241849151384&#x27;</span>]</span></span><br></pre></td></tr></table></figure><img src="/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/2018101517282367.png" class width="2018101517282367"><h1 id="fnmatch-模块"><a href="#fnmatch-模块" class="headerlink" title="fnmatch 模块"></a>fnmatch 模块</h1><p>提供shell-like的搜索，跟正则不大一样</p><table><thead><tr><th align="left">Pattern</th><th align="left">Meaning</th></tr></thead><tbody><tr><td align="left"><code>*</code></td><td align="left">matches everything</td></tr><tr><td align="left"><code>?</code></td><td align="left">matches any single character</td></tr><tr><td align="left"><code>[seq]</code></td><td align="left">matches any character in <em>seq</em></td></tr><tr><td align="left"><code>[!seq]</code></td><td align="left">matches any character not in <em>seq</em></td></tr></tbody></table><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/u010412858/article/details/83062200">python正则表达式从字符串中提取数字</a></li><li><a href="https://docs.python.org/3.9/library/fnmatch.html#module-fnmatch">fnmatch模块</a></li></ul><ul><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_conc测试</title>
      <link href="2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/"/>
      <url>2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/</url>
      
        <content type="html"><![CDATA[<p>项目记录</p><p>创新点：</p><ul><li>研究SPE的Be7运移</li></ul><p>已经可以进行全球的模拟，但是得使用GRAD 1°的数据，NCEP数据有问题</p><ul><li>如何实现全球范围的释放</li><li>含有Be10特性的模拟问题</li><li>实现1个月的模拟</li><li>解决NCEP的问题</li><li>Sulfate 模块运行问题（可能要看下源程序；进行修改添加）</li></ul><p>发现问题，使用GADS的时候，并不能读取source文件，提示source point 不再gird上，无输出结果。</p><blockquote><p>发现如果不在control的文件里设置emission，就不会有值。这很奇怪，因为我用NCAR的数据还好好的</p><p>一种解决方法就是：在emission里面，把时间设置为数值，就能解决。（不过仍然不知道为啥有这问题）</p></blockquote><p>(Yaqiang Wang et al 2011 ER),设置为每6小时到GEM中去，一共1600,000个particles</p><p>面积</p><h1 id="经验"><a href="#经验" class="headerlink" title="经验"></a>经验</h1><p>以后control，setup等的内部选项只增不减，并添加上简要的解释。方便于我修改参数。</p><p>每6小时的trajectory，可以在setup.cfg中设定NSTR=6。也可以多条/多时间的变化（看user-guide）。</p><p>总是要记得备份，尤其是模拟不同时段的运移模型时候</p><p>注意在运行SPE事件的时候，采样浓度要多层次level，因为高浓度的Be10并不会降下来。计算的浓度时根据设定来的</p><blockquote><p>这也是为啥有时候会出现无浓度的情况，因为设置不对。</p><p>同时也要注意，GEM和Hysplit有各自浓度的设定。</p></blockquote><p>由于source点比较稀疏，可以设置release的面积</p><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="program-exception-access-violation的问题"><a href="#program-exception-access-violation的问题" class="headerlink" title="program exception-access violation的问题"></a>program exception-access violation的问题</h2><p>运行Hysplit出现的program exception-access violation的问题。我在运行30天的back-trajectory或者大面积的forward的时候，都出现了这个<code>program exception-access violation</code>的问题。Google之后发现Fortran出现这个一般都是数组越界。因为hysplit为了增加计算时间默认了mgmin为10°，我猜测这个容易造成越界问题。</p><p>解决方法是</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MGMIN=40</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果想要全球尺度的，可以改为999。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 但是如果多点的话，不推荐这样做，因为极大增加了运算时间。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>详细的可以看看user-guide里面介绍的sub-grid size。对于长时间尺度的运移，MGMIN太小的话，有可能造成不同时间的sub-gird在空间上没有重叠。</p></blockquote><h2 id="NCEP-terrain-height的问题"><a href="#NCEP-terrain-height的问题" class="headerlink" title="NCEP terrain height的问题"></a>NCEP terrain height的问题</h2><p>我跑了NCEP的30天的back-trajectory，发现里面的地形出现了负数（一般在海洋地区）。查资料发现，原来NCEP本身是不提供地形资料的。地形资料是通过如下方法计算的:</p><blockquote><p>The terrain is estimated using the hypsometric equation. However, to calculate its trajectory model uses a sigma terrain following vertical coordinate that has been remapped internally from the vertical coordinate of the meteorological dataset. In that way we make sure that the trajectories do not go below the surface as defined in the original meteorological dataset.</p></blockquote><p>参考链接: <a href="https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068">https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068</a></p><h2 id="NCEP-height-inversion问题"><a href="#NCEP-height-inversion问题" class="headerlink" title="NCEP height inversion问题"></a>NCEP height inversion问题</h2><p>使用NCEP198401数据（1984年1月份）运行GEM模型的时候，提示在北纬83度？和73？的位置高度逆转。</p><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418124600938.png" alt="image-20210418124600938" style="zoom:50%;"><p>我重新下载了GRAD的1°数据，可以正常运行Hysplit-GEM模式。</p><p>我又重新尝试了NCEP201807的数据，发现也可以正常运行Hysplit-GEM模式。</p><blockquote><p>所以是之前NCEP数据的问题?</p></blockquote><p>我重新运行了下NCEP198401数据，提示了不同的错误点</p><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418131422441.png" alt="image-20210418131422441" style="zoom:50%;"><p>测试了198107数据，提示了不同的错误点</p><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418164440182.png" alt="image-20210418164440182" style="zoom:50%;"><blockquote><p>我大概明白了，有可能因为model通过pressure height计算这个高度，导致的问题。</p><p>虽然NCEP没提供地形数据，但不可能是地形的问题，因为两个高度都是在一个点上。</p></blockquote><p>有时候还会又其他的提示，比如如下的提示，???</p><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418151037390.png" alt="image-20210418151037390" style="zoom:50%;"><p>这个时候看message文件，发现数据成这样子了</p><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210418162026572.png" alt="image-20210418162026572" style="zoom:50%;"><blockquote><p>这个应该是程序运行的问题，导致数据出错了</p></blockquote><h2 id="particle-模式"><a href="#particle-模式" class="headerlink" title="particle 模式"></a>particle 模式</h2><p>particle模式跑到后面会越来越慢，因为</p><ul><li><p>测试1 批量进行气象数据缩小 （完成）</p></li><li><p>测试2 在stratosphere的粒子运动（最高30km）</p><blockquote><p>气象数据的最高高度为30km，如果直接设置30km会报错，可以设置为29.9km</p></blockquote></li><li><p>测试3 时间连接问题（完成）</p></li><li><p>问题4 粒子问题？（貌似有粒子的上限，以及如何对粒子释放做出修改）</p></li></ul><h2 id="测试1-批量进行气象数据缩小"><a href="#测试1-批量进行气象数据缩小" class="headerlink" title="测试1  批量进行气象数据缩小"></a>测试1  批量进行气象数据缩小</h2><p>根据教程中的介绍，貌似气象数据可以裁剪，为局部区域进行运行。因为这只是运移模型？</p><p>在下载的文件中，有个现成的软件可以进行气象数据的裁剪</p><blockquote><p>搜索 “xtrct_grid.exe，注意，文件夹的输入是C:\Users\zmjhh\Desktop\NCEP197611\，不要忘记最后要有个斜线<code>\</code>。</p></blockquote><blockquote><p># 思路 (使用shell文件完成)</p><p># &gt; 每次创建一个新的txt文件，将信息存入其中</p><p># &gt; 然后重定向输入到exe的应用程序中去 （重定行功能）</p><p># &gt; 最后将输出进行重命名 (mv函数)</p></blockquote><h2 id="测试2-在stratosphere的粒子运动（最高30km）"><a href="#测试2-在stratosphere的粒子运动（最高30km）" class="headerlink" title="测试2 在stratosphere的粒子运动（最高30km）"></a>测试2 在stratosphere的粒子运动（最高30km）</h2><p>运行基本ok，气象数据的最高高度为30km，如果直接设置30km有可能会报错，可以设置为29.9km。</p><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210409152543732.png" alt="image-20210409152543732" style="zoom: 50%;"><h2 id="测试3-时间连接问题"><a href="#测试3-时间连接问题" class="headerlink" title="测试3 时间连接问题"></a>测试3 时间连接问题</h2><p>由于运行是一个cycle一个cycle进行的，所以有两种方法</p><ul><li>可以运行到每月的月底，然后重开一个cycle</li><li>或者更简单的，直接把所有的气象数据放进去运行（推荐）</li></ul><p>测试后发现只要如下设置即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">这些气象数据信息最好一起</span><br><span class="line">  echo &quot;2                      &quot;&gt;&gt;CONTROL #数量</span><br><span class="line">  echo &quot;$DATA/                  &quot;&gt;&gt;CONTROL #文件位置1</span><br><span class="line">  echo &quot;$&#123;data&#125;                  &quot;&gt;&gt;CONTROL # 数据1</span><br><span class="line">  echo &quot;$DATA/                  &quot;&gt;&gt;CONTROL #文件位置2</span><br><span class="line">  echo &quot;$&#123;data2&#125;                  &quot;&gt;&gt;CONTROL # 数据2</span><br></pre></td></tr></table></figure><h2 id="高度问题"><a href="#高度问题" class="headerlink" title="高度问题"></a>高度问题</h2><p>这是一个三十天的back-trajectory的模拟。我选择的高度是500米，从这个图上可以看出几个问题，trajectory几乎是沿着地面的运动的，收到地形的影响挺大的。</p><ul><li>这个高度的运移说明不确定性很大。</li><li>三十天的结果并不一定是可靠的，有可能是模型硬算的一个结果。</li></ul><img src="/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/image-20210411093407709.png" alt="image-20210411093407709" style="zoom:50%;"><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_常问的问题</title>
      <link href="2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/">https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/</a></p><p>快速过了一遍常问的问题，将对项目有用的信息做个摘录，直接点感叹号就可以到原网址</p><p>该网址可以多看看</p><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/">https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/</a></p><p>重要！</p><blockquote><p>对于很小的气象数据改动，trajectory的结果出现很大的不确定性时，需要注意解释</p><p>精度（precision）和准度（accuracy)，Hysplit model 的精度为1%/天，会随着时间的推移而叠加。hysplit的准度问题很大随着时间推移而改变，10天的准度问题会达到15°左右。</p></blockquote><h1 id="气象数据类"><a href="#气象数据类" class="headerlink" title="气象数据类"></a>气象数据类</h1><ul><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/what-archived-data-are-available-on-the-web-to-run-hysplit-with/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>What archived data are available on the web to run HYSPLIT with?</p></li><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/what-data-is-used-to-calculate-the-hysplit-trajectories-and-what-is-the-the-vertical-resolution-of-the-data/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>What data is used to calculate the trajectories and what is the the vertical resolution of the data? </p><blockquote><p>这主要取决于气象数据</p></blockquote></li><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-6/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> However, in one case when I calculated 120-hour backward trajectories from Potsdam, NY at 1800 on April 8, 1999 using both the EDAS and FNL data bases, I found that the EDAS data suggested the air was in the upper midwest 5 days prior, but the FNL put it into northern Quebec. Why the difference?</p></li></ul><blockquote><p>结果不同一般是由于气象数据的精度不同。</p><p>关于trajectory的通常步骤，运行一个点相近的不同高度的trajectory（e.g.300m 400m, 500m)，如果结果相似，那么结果比较可靠，如果发散，说明不确定大（not precide）</p></blockquote><ul><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/i-will-be-converting-ecmwf-grib-files/"><img src="https://www.arl.noaa.gov/wp_arl/wp-content/uploads/2017/10/info2.gif" alt="Click for answer."></a>I will be converting ECMWF grib files into ARL-packed format for use in calculating backward trajectories in Europe using your HYSPLIT model. What fields do I need to have for HYSPLIT to properly calculate my trajectories?</p><blockquote><p>不推荐自己进行数据的转换，需要一定的工作量，否则看介绍</p></blockquote></li></ul><p>When I set up a matrix run and have the heights specified at a certain altitude (using MSL), why do the results show the starting points at different heights instead of at a constant one?</p><p>有些时候Mean Sea Level(MSL) 会低于地面，所以Hysplit会自动校对高度等于地面。<a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc26/">link</a></p><ul><li><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/backward-trajectories-starting-at-a-rural-east-coast-site/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>When I get backward trajectories starting at a rural East Coast site in NJ, which starting height(s) do you suggest is (are) appropriate? The terrain of the site is flat and near sea level. I am also wondering how long of a trajectory duration is recommended.</li></ul><blockquote><p>如果是想知道地面的空气来源，则是贴近地面，如果想知道水汽，则是高于云层的高度。一般选取两到三个高度进行测试，一般来讲对于48小时内的trajectory精度还是OK的，对于更长时间尺度的问题，主要是用于聚类分析来分析这个情况</p></blockquote><h1 id="模型设置"><a href="#模型设置" class="headerlink" title="模型设置"></a>模型设置</h1><ul><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/if-i-choose-agl/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> If I choose AGL for the start height, does that mean that for the entire model run the computed heights are relative to the ground? I’m concerned about this because of the terrain in the mountains. I don’t want values to be “underground.”</p><blockquote><p>AGL的设定，仅用于最开始模型的运行。气体的垂直运动不会造成气体低于地面</p></blockquote></li><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/which-value-should-i-input-as-the-start-height/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>Which value should I input as the start height (MAGL)? What does “above model ground level” mean?</p><blockquote><p>地形（terrain）取决于输入的气象数据。如果气象数据精度高，地形的精度也就很高。低精度的数据会平滑掉一些地貌（高山和谷底）。</p><blockquote><p>The best we can do is to look at the surface pressure and the mean sea-level pressure at the starting location and estimate the height above sea level of the model terrain at your location.</p></blockquote><p>根据mean sea-level pressure (MSLP) 和采样点的the surface pressure (PRSS)的差别，估算地形高度。一个简单的近似，1mb=10m。比如：</p><blockquote><p>35.66N, -82.38W; 1030mb MSLP and 939 mb PRSS taking the difference gives 91mb. A quick estimate is to assume a hydrostatic atmosphere, or approximately 10 meters per mb. This gives 910 MASL, which is what the model sees as the terrain height. </p></blockquote></blockquote></li></ul><h1 id="结果分析"><a href="#结果分析" class="headerlink" title="结果分析"></a>结果分析</h1><h2 id="TRAJECTORY"><a href="#TRAJECTORY" class="headerlink" title="TRAJECTORY"></a>TRAJECTORY</h2><ul><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg13/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>How does HYSPLIT consider the vertical coordinate. If a trajectory meets the surface how does HYSPLIT work? Does it reflect, or use another method to solve it?</p><blockquote><p>如果到了boundary，继续运行。（很显然这不是我们想要看到的结果）在dispersion 模式下，particle会反弹。</p></blockquote></li><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg25/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>Is the effect of the boundary layer considered when the model computes the trajectory?</p><blockquote><p>并没有考虑到热力运动，只有在dispersion的模式下才有考虑。</p></blockquote></li><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg5/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>When I ran a forward trajectory from a location on a previously computed backward trajectory, I did not return to the starting location of my backward trajectory. Why?</p><blockquote><p>误差问题，开始0.1°的偏差，10天后的偏差回达到15°。</p></blockquote></li><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg39/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a> Why are there small differences in my trajectories when I run more than one at a time versus running just one trajectory?</p><blockquote><p>模型并没有使用全部的气象数据，而是使用部分的气象数据sub-grid data，根据开始的地点设定数据的中心。当trajectory运行到气象数据的边界时，模型会重新定义中心，并重新计算。因此，使用多个开始的点和一个开始的点时，所用的气象数据会有所不同的。垂直运动的计算考虑了这一因素。因此结果会有些许不同。</p></blockquote></li></ul><h2 id="CONCENTRATION"><a href="#CONCENTRATION" class="headerlink" title="CONCENTRATION"></a>CONCENTRATION</h2><ul><li><p><a href="https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-hg4/"><img src="/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/info2.gif" alt="Click for answer."></a>How is concentration defined in HYSPLIT and how does it relate to the radiation units of Bacquerel?</p><blockquote><p>输入的单位时mass/每小时，这个mass由用户自己决定，最后的结果是mass/m3，如果定义是Bq/小时，那最后的结果就是Bq/m3。</p></blockquote></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>各种数据库链接</title>
      <link href="2021/04/08/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5/"/>
      <url>2021/04/08/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>使用数据库的数据时，要注意对这些数据进行致谢。</p></blockquote><p>这篇文章介绍了一些有用的库</p><p>E. Brattich et al 2020. Advection pathways at the Mt. Cimone WMO-GAW station: Seasonality,<br>trends, and influence on atmospheric composition.</p><ul><li>Atmospheric aerosol 和gass 监测</li></ul><p><a href="http://ebas.nilu.no/Pages/DataSetList.aspx?key=C0A8801E103546FB9E164ECB4420432C">http://ebas.nilu.no/Pages/DataSetList.aspx?key=C0A8801E103546FB9E164ECB4420432C</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 科研相关记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据来源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hysplit_conc测试1</title>
      <link href="2021/04/07/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%951/"/>
      <url>2021/04/07/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%951/</url>
      
        <content type="html"><![CDATA[<blockquote><p>w我的目标就是能使用hysplit模拟Be10/Be7，结合python的包使用</p><p>有个pysplit的python包 </p></blockquote><h1 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h1><ul><li><p>测试1: 区域的release 但是释放速率不变 （完成）</p></li><li><p>测试2：区域的release 但释放速率改变  （完成）</p></li><li><p>测试3：区域的release但释放速率改变，且包含不同的时间</p></li></ul><h2 id="测试1-区域的release-但释放速率不变"><a href="#测试1-区域的release-但释放速率不变" class="headerlink" title="测试1 区域的release 但释放速率不变"></a>测试1 区域的release 但释放速率不变</h2><p>黑点表示释放的点，浓度值表示采样的区域。</p><img src="/2021/04/07/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%951/image-20210407185811783.png" alt="image-20210407185811783" style="zoom:50%;"><blockquote><p>注意浓度的采样和污染物的释放是不同的设置（详情见test-1的脚本）</p><p>两者都是通过同一个程序进行计算的，因此不同的区域设置大小并不会减少运算时间。</p><ul><li>由此来看，浓度值的面积应该跟释放点的面积一致</li></ul><p><strong><em>注意</em></strong>：</p><ul><li>区域面积的release。对control文件进行如下修改，可以将（经纬度和高度放到text文件中进行读取），注意trajectory的数量要和经纬度等数量要一致</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;1184                   &quot;&gt;&gt;CONTROL # trajectory数量</span><br><span class="line">cat &quot;$DATA/traj.txt&quot;         &gt;&gt;CONTROL  # (e.g.,  39.90  -84.22 10.0) </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 也可以使用三个trajectory定义区域</span></span><br><span class="line">echo &quot;3                   &quot; &gt;&gt;CONTROL</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个是区域的释放</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 前两行代表左下和右上</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第三行代表间隔</span></span><br><span class="line">echo &quot;38.00 -84.00 600.0  &quot; &gt;&gt;CONTROL</span><br><span class="line">echo &quot;44.00 -74.00 600.0  &quot; &gt;&gt;CONTROL</span><br><span class="line">echo &quot;39.00 -83.00 600.0  &quot; &gt;&gt;CONTROL</span><br></pre></td></tr></table></figure><ul><li><p>同一纬度，不同高度代表release 的方位，这个方法就可以解决release的高度问题，注意这样子算两个trajectory （control file），比如写成以下形式，release的范围就是这个点的[100 5000]之间。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">60-42.50100</span><br><span class="line">60-42.505000</span><br></pre></td></tr></table></figure></li><li><p>注意北纬90°以及东西经180°，0°等这种边界值问题 </p></li></ul></blockquote><h2 id="测试2-区域的release-但释放速率改变"><a href="#测试2-区域的release-但释放速率改变" class="headerlink" title="测试2 区域的release 但释放速率改变"></a>测试2 区域的release 但释放速率改变</h2><p>下图是教程16.5中的示例，有四行是因为教程中设置了4个污染物。rate 表示释放速率 （可以大于1）。Area 如果为0表示点释放。Heat表明释放时的热量产生（这里为0）。这里面表示一个cycle是12个小时，每个cycle release 的particle是固定，但是cycle的时间长短（duration）是可以改变的。</p><img src="/2021/04/07/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%951/etime000.png" alt="img" style="zoom:50%;"><p>所有的source必须要有相同的时间间隔。</p><h2 id="测试3：区域的release但释放速率改变，且包含不同的时间-（多个文件的测试）"><a href="#测试3：区域的release但释放速率改变，且包含不同的时间-（多个文件的测试）" class="headerlink" title="测试3：区域的release但释放速率改变，且包含不同的时间 （多个文件的测试）"></a>测试3：区域的release但释放速率改变，且包含不同的时间 （多个文件的测试）</h2><p>思路：</p><ul><li><p>天气的数据是每个月存储的，那么一个月的最后几天怎么办？多个天气数据的输入？</p></li><li><p>每个事件段模拟的结果，会作为下个事件段的边界条件进行</p></li></ul><blockquote><p>根据我的需求，直接按照cycle来进行，particle dump feature来连贯进行。</p><p>使用EFILE 文件。如果这个文件存在，他就会替换在control的设置。</p></blockquote><p>如果一个文件的relasing时间过去了，会自动读取下一个releasing</p><blockquote><p>One way to incorporate a time varying emission rate into the existing model structure is to use the particle dump feature to restart the model each time with a new emission rate. Another option is to assign the name of a temporal emission input file to the “EFILE” variable in the setup.cfg namelist file. </p><p>If the EFILE is present, the first emission record’s values replace the emission values set in the control file. Once the model computation time has passed the emission period defined on the first emission record, the emission data from the second record are loaded and the calculation continues with the new emission data. The format of the emission file is given below: </p></blockquote><ul><li></li></ul><p>粒子释放的问题，</p><p>使用particle release计算concentration distribution，需要释放非常多的粒子，否则无法真是反应浓度</p><p>这个时候可以考虑Puff Releases </p><p>在GUI的help中，输入C:/hysplit/html/S441.htm</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> TrajectoryModel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hysplit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscode设置</title>
      <link href="2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/"/>
      <url>2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/</url>
      
        <content type="html"><![CDATA[<p>VScode是一个相当优秀的IDE，具备开源、跨平台、模块化、插件丰富、启动时间快、颜值高、可高度定制等等优秀的特质。</p><p>打开VSCODE的设置界面（在左下角或者快捷键<code>ctrl + ,</code>）,在右上角打开 <code>settings.json</code>，见图第一个按钮。<br><img src="/2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/20201217134709421.png" alt="在这里插入图片描述" style="zoom:50%;"></p><p>如何进行选中颜色变更</p><blockquote><p>注意如果前后有选项的话，要加逗号</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;workbench.colorCustomizations&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;editor.selectionBackground&quot;</span>: <span class="string">&quot;#d1d1c6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;editor.selectionHighlightBackground&quot;</span>: <span class="string">&quot;#c5293e&quot;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_jupyter常用快捷键</title>
      <link href="2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>在jupyter里面具有help选项卡，里面有快捷键的完整信息</p></blockquote><h2 id="1、运行模式"><a href="#1、运行模式" class="headerlink" title="1、运行模式"></a>1、运行模式</h2><p>Jupyter notebook有两种模式：运行模式和编辑模式。<strong>Enter和Esc</strong></p><p>命令模式：单元格边框为蓝色（快捷键需要在命令模式使用）</p><img src="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/v2-5f8b2667f08bf4057a199199af028161_1440w.jpg" class title="v2-5f8b2667f08bf4057a199199af028161_1440w"><p>编辑模式：Enter进入单元格 边框为绿色（可以写代码或者markdown文本）</p><img src="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/v2-049f148e7193e30baf9967d91e2b4449_1440w.jpg" class title="v2-049f148e7193e30baf9967d91e2b4449_1440w"><p>从编辑模式回到命令模式 按esc 返回。</p><h3 id="命令模式-按键-Esc-开启"><a href="#命令模式-按键-Esc-开启" class="headerlink" title="命令模式 (按键 Esc 开启)"></a>命令模式 (按键 Esc 开启)</h3><ul><li><strong>Enter</strong> : 转入编辑模式</li><li><strong>Shift-Enter</strong> : 运行本单元，选中下个单元</li><li><strong>Ctrl-Enter</strong> : 运行本单元</li><li><strong>Alt-Enter</strong> : 运行本单元，在其下插入新单元</li><li><strong>C</strong>: 单元转入代码状态</li><li><strong>M</strong> :单元转入markdown状态</li></ul><p>单元格（cell）</p><ul><li><strong>A</strong> : 在上方插入新单元</li><li><strong>B</strong> : 在下方插入新单元</li><li><strong>D,D</strong> : 删除选中的单元</li></ul><p>Ctrl + /    行注释（可选中多行）。</p><blockquote><p>替代操作可以使用三个单引号’’’</p><p>这个快捷键操作也可用于vscode的其他语言。</p></blockquote><h2 id="将ipynb文件转换为py文件"><a href="#将ipynb文件转换为py文件" class="headerlink" title="将ipynb文件转换为py文件"></a>将ipynb文件转换为py文件</h2><ul><li><ul><li>在xxx.ipynb所在目录下，打开终端，并输入命令：</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　　　　　　　 jupyter nbconvert --to script xxx.ipynb</span><br><span class="line">　　　　　　　　其中xxx.ipynb是要转换文件的名字，转换后在该目录下出现xxx.py文件。</span><br></pre></td></tr></table></figure><p>高效使用jupyter notebook (重建新的)</p><h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">实例</span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用numpy.random模块来生成随机数组</span></span><br><span class="line">import numpy as np</span><br><span class="line">np.random.rand(10)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>一些常用的魔术命令：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">％pwd ＃打印当前工作目录</span><br><span class="line">％cd ＃更改工作目录</span><br><span class="line">％ls ＃显示当前目录中的内容</span><br><span class="line">％load [在此处插入Python文件名] ＃将代码加载到Jupyter Notebook</span><br><span class="line">％store [在此处插入变量]  ＃这使您可以传递Jupyter Notebooks之间的变量</span><br><span class="line">％who  ＃使用它列出所有变量</span><br></pre></td></tr></table></figure><p>查看魔术命令的完整列表：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%lsmagic</span><br></pre></td></tr></table></figure><h2 id="10-显示函数文档"><a href="#10-显示函数文档" class="headerlink" title="10. 显示函数文档"></a>10. 显示函数文档</h2><p>如果您忘记了特定方法/函数的参数，使用Shift + Tab获取方法的文档。单击右上角的+箭头以展开文档。</p><p>使用Python Matplotlib创建图表时，可能会在图表的正上方（下面突出显示的黄色）看到此文本“&lt;matplotlib.collections.PathCollection at 0x9fae910&gt;”。</p><p>我个人觉得很烦，可以在代码末尾添加分号隐藏文本。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加在开头，隐藏显示文本</span></span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure><img src="/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/v2-e80564e2c815434d833c6028f4215e36_1440w.jpg" alt="img" style="zoom: 67%;"><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://www.cnblogs.com/sui776265233/p/9759303.html">jupyter notebook常用快捷键</a></li></ul><p><a href="https://zhuanlan.zhihu.com/p/245897435">高效使用Jupyter Notebook的15个技巧</a></p>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell_一些有用的学习网址</title>
      <link href="2021/04/05/shellLearning/shell-%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80/"/>
      <url>2021/04/05/shellLearning/shell-%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80/</url>
      
        <content type="html"><![CDATA[<p><a href="http://masikkk.com/article/Linux-Shell/">小马的笔记_shell</a></p><blockquote><p>小马的笔记做的很好</p></blockquote><p><a href="http://c.biancheng.net/view/2991.html">http://c.biancheng.net/view/2991.html</a></p><blockquote><p>非常详细的shell教程,里面有很多实例</p></blockquote><p><a href="https://www.liaoxuefeng.com/">https://www.liaoxuefeng.com/</a></p><p><a href="http://c.biancheng.net/cpp/view/6999.html">http://c.biancheng.net/cpp/view/6999.html</a></p><p><a href="https://kodango.com/category/tryandshare">https://kodango.com/category/tryandshare</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell_正则表达式</title>
      <link href="2021/04/04/shellLearning/shell-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>2021/04/04/shellLearning/shell-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<blockquote><p>z总结：</p><ul><li>要记得区分字符串和字符的正则</li><li>有些函数只能用基本正则(e.g., grep)，有些则可以用扩展正则（e.g. egrep)</li></ul><p>这里也有个体会，要自己尝试和整理学习资料，网上的资料都是结合每个人的特点写的，不一定适合自己。</p><p>比如第一个参考文献根本没有将正则和grep讲清楚，让我非常混乱。</p></blockquote><h2 id="我的实例"><a href="#我的实例" class="headerlink" title="我的实例"></a>我的实例</h2><blockquote><p>我在实际应用上发现自己对正则的理解还是不够</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在文件中找到matlab/Matlab开头的文件</span></span><br><span class="line">ls | grep &#x27;^[mM]&#x27;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果不要m/M开头的。注意这个折腾了好久才搞清楚。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [^]这种形式只是表示字符罢了，要结合字符串的形式来弄</span></span><br><span class="line">ls | grep &#x27;^[^mM]&#x27;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 更进一步的例子</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 匹配一个由一个小写字母和一位数字组成的字符串，比如<span class="string">&quot;z2&quot;</span>、<span class="string">&quot;t6&quot;</span>或<span class="string">&quot;g7&quot;</span>，但不是<span class="string">&quot;ab2&quot;</span>、<span class="string">&quot;r2d3&quot;</span> 或<span class="string">&quot;b52&quot;</span>的话，用这个模式：</span></span><br><span class="line">^[a-z][0-9]$</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="基本正则表达式和扩展正则表达式"><a href="#基本正则表达式和扩展正则表达式" class="headerlink" title="基本正则表达式和扩展正则表达式"></a>基本正则表达式和扩展正则表达式</h2><p>两者的区别，更多的是元字符的区别。</p><ul><li>基础正则中==<code>^$.*[]</code>==是元字符</li><li>扩展正则中: ==<code> ^$.*[]+()&#123;&#125;?|</code>==都是元字符，比基础正则多出了<code>+()&#123;&#125;?|</code></li></ul><blockquote><p>最后要注意的一点，只有在用反斜杠进行转义的情况下，字符“（”、“）”、“{”和“}”才会在扩展正则表达式中被当作元字符处理，而在基本正则表达式中，任何元字符前面加上反斜杠反而会使其被当作普通字符来处理。</p></blockquote><h1 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h1><h2 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h2><blockquote><p>跟单个字符有关</p></blockquote><img src="/2021/04/04/shellLearning/shell-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/20171108104843816.png" class title="这里写图片描述"><h2 id="数量限定符"><a href="#数量限定符" class="headerlink" title="数量限定符"></a>数量限定符</h2><img src="/2021/04/04/shellLearning/shell-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/20171108105209231.png" class title="这里写图片描述"><h2 id="位置限定符"><a href="#位置限定符" class="headerlink" title="位置限定符"></a>位置限定符</h2><blockquote><p>跟字符串有关</p></blockquote><img src="/2021/04/04/shellLearning/shell-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/20171108105543523.png" class title="这里写图片描述"><h2 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h2><p>其他一些稍微复杂的字符，如标点符号和白字符（空格、制表符等）都用反斜杠()打头。制表符的转义序列是 <strong>\t</strong>。所以如果我们要检测一个字符串是否以制表符开头，可以用这个模式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^\t </span><br></pre></td></tr></table></figure><p>类似的，用\n表示”新行”，\r表示回车。其他的特殊符号，可以用在前面加上反斜杠，如反斜杠本身用\表示，句号.用.表示，以此类推。</p><h2 id="初级实例"><a href="#初级实例" class="headerlink" title="初级实例"></a>初级实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 符号 &#123;n,m&#125; 和 +</span></span><br><span class="line">grep &quot;ro\&#123;1,\&#125;t&quot; user    //找1次以及1次以上的o</span><br><span class="line">egrep &quot;ro&#123;1,&#125;t&quot; user   //效果同上，扩展正则，网友提议，官方修改添加的</span><br><span class="line">egrep &quot;ro+t&quot; user     //效果同上，最精简</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">符号 ？ 和 &#123;n，m&#125; 和 &#123;n&#125;</span></span><br><span class="line">grep &quot;roo\&#123;0,1\&#125;t&quot; user   //第二个o要出现0~1次</span><br><span class="line">egrep &quot;roo&#123;0,1&#125;t&quot; user  //效果同上</span><br><span class="line">egrep &quot;roo?t&quot; user   //效果同上，最精简</span><br><span class="line">grep &quot;ro\&#123;2\&#125;t&quot; user    //找o出现2次的</span><br><span class="line">egrep &quot;ro&#123;2&#125;t&quot; user    //效果同上</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 符号 | 和 （） 和 \b</span></span><br><span class="line"> egrep &quot; ^ root | ^ bin&quot; user   //找root或者以bin开头的行</span><br><span class="line"> egrep &quot;^(root|bin)&quot; user   //效果同上</span><br><span class="line"> egrep &quot;\bthe\b&quot; abc    //找the，\b:前后不允许出现数字，字母，下划线</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 在正则表达式中，我们通常用尖括号表示一个“词”，通过使用`\&lt;`和`\&gt;`来准确匹配到这个词。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如下面，可以精确匹配到bin，而不是sbin这种</span></span><br><span class="line">grep &#x27;\&lt;bin\&gt;&#x27; /etc/passwd --color</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="高级实例"><a href="#高级实例" class="headerlink" title="高级实例"></a>高级实例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 替换使用 | 字符来允许在两个或多个替换选项之间进行选择。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 该表达式匹配Chapter和Section+数字</span></span><br><span class="line">/^Chapter|Section [1-9][0-9]&#123;0,1&#125;$/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">如果要匹配chaper数字和section数字这种</span></span><br><span class="line">/^(Chapter|Section) [1-9][0-9]&#123;0,1&#125;$/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://blog.csdn.net/m0_38121874/article/details/78476492">https://blog.csdn.net/m0_38121874/article/details/78476492</a></li><li><a href="https://blog.csdn.net/abcnull/article/details/103951287">https://blog.csdn.net/abcnull/article/details/103951287</a></li><li><a href="https://www.runoob.com/regexp/regexp-rule.html">https://www.runoob.com/regexp/regexp-rule.html</a></li><li><a href="http://c.runoob.com/front-end/854">正则表达式生产式</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hysplit_设置文件</title>
      <link href="2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
      <url>2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul><li>Hysplit有几个关键文件Ascadata，control和setup.cfg，跟模型运行有关。</li><li>message 文件，看diagnostic message file，看concentration simulation的具体信息，也会有一些诊断信息如果模型没有正常运行</li><li>emission 文件，针对特定的输入，如时间/空间变化的发散</li><li>有些.exe可以看操作，直接在prompt里面输入exe相关文件名</li><li>还有对一些安装的画图程序的介绍</li></ul><blockquote><p>以下信息都可以在user_guide里面找到。多看看guide会有意想不到的的收获。</p></blockquote><p>==重要== ：强制暂停一个程序后，立即执行会出错。不懂为啥…..，过一会在执行就好了。会提示viloation的错误。</p><p>还有可能提示</p><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210418163927207.png" alt="image-20210418163927207" style="zoom:50%;"><p>经验：</p><p>日期尽量都是双位数，统一格式，这样子shell脚本等后期处理方便些ji，</p><p>虽然加载的气象数据允许最大12个，但是实际操作后发现，全部12个加载有可能会造成模型运行问题，模型运行一半强制终止（此时仍有输出）。使用6个气象数据，结果正常。</p><h1 id="运行文件的设定"><a href="#运行文件的设定" class="headerlink" title="运行文件的设定"></a>运行文件的设定</h1><p>主要是Ascdata.data，Control.cfg文件。Set.cfg有默认设置，也可以根据需要进行设定。</p><h2 id="ASCDATA-DATA"><a href="#ASCDATA-DATA" class="headerlink" title="ASCDATA.DATA"></a>ASCDATA.DATA</h2><p>有关地形，土地使用的详情，<a href="https://www.ready.noaa.gov/hysplitusersguide/S444.htm">https://www.ready.noaa.gov/hysplitusersguide/S444.htm</a></p><blockquote><p><em>bdyfiles</em> - This directory contains an ASCII version of gridded land use, roughness length, and terrain data. </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-90.0   -180.0  lat/lon of lower left corner   </span><br><span class="line">1.0     1.0     lat/lon spacing in degrees    </span><br><span class="line">180     360     lat/lon number of data points  (e.g., 如果spacing是0.5 0.5的话，则number为[360 720])</span><br><span class="line">2               default land use category  陆地使用情况   </span><br><span class="line">0.2             default roughness length (m)   </span><br><span class="line">&#x27;c:\hysplit\bdyfiles\&#x27;  directory of files     </span><br></pre></td></tr></table></figure><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 先check文件是否存在，一般都在</span></span><br><span class="line">if [ ! -f ASCDATA.CFG ]; then</span><br><span class="line">   echo &quot;-90.0  -180.0&quot;     &gt;ASCDATA.CFG </span><br><span class="line">   echo &quot;1.0     1.0&quot;      &gt;&gt;ASCDATA.CFG</span><br><span class="line">   echo &quot;180     360&quot;      &gt;&gt;ASCDATA.CFG</span><br><span class="line">   echo &quot;2&quot;                &gt;&gt;ASCDATA.CFG</span><br><span class="line">   echo &quot;0.2&quot;              &gt;&gt;ASCDATA.CFG</span><br><span class="line">   echo &quot;&#x27;$MDL/bdyfiles/&#x27;&quot; &gt;&gt;ASCDATA.CFG</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个<span class="built_in">echo</span>表示在prompt中显示运行的文件名</span></span><br><span class="line">echo &quot;### $0 ###&quot;</span><br></pre></td></tr></table></figure><h2 id="Control-文件"><a href="#Control-文件" class="headerlink" title="Control 文件"></a>Control 文件</h2><h3 id="trajectory-设定"><a href="#trajectory-设定" class="headerlink" title="trajectory 设定"></a>trajectory 设定</h3><p>属于设定文件，一定要按照参数顺序来。以下是关于trajectory计算的control设定</p><blockquote><p>详情见hysplit_user_guide.pdf的Initial CONTROL File Section。</p><p>注意开始的地点数量和相关信息对应，气象数据数量和相关信息对应</p><p>再创建control文件，可以创建的control.base或者control.head，然后再之后进行赋予到运行的Control文件中</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">83 9 28 13  # 开始时间 yr,month,day,hour,(min,optional)</span><br><span class="line">1                      # number of the starting points</span><br><span class="line">38.665 -71.370 216.4 [速率(/h) 面积(m2)]# 开始地点1 (可以输入多个,可选项为发散的速率和面积）</span><br><span class="line">....   # 开始地点2 (可以输入多个，跟starting number 对应）</span><br><span class="line">-68                  # 运行时间，负数表示backforwar</span><br><span class="line">0                       # 垂直运移选项(0,默认使用气象数据中的垂直速度)</span><br><span class="line"><span class="meta">#</span><span class="bash"> (0:data 1:isob 2:isen 3:dens 4:sigma 5:diverg 6:msl2agl 7:average 8:damped)</span></span><br><span class="line">10000.0 [internal coordinates m-agl]    # 默认最高大气高度(10km)。这样做的目的是为了限制使用的气象数据，从而加快计算时间。第二项是内部的坐标值。</span><br><span class="line">1                      # 输入的气象数据数量，每次time step，会check是否高精度的气象数据（如果有两个气象数据的话，会优先使用高精度的数据），理论上对多可以有12个数据。一般是精度从高到低排序。</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 补充： 可以这样设置，2 12； 这样表明2个气象grid，每个气象grid里面有12个数据。这样子就突破了12个数据的限制。</span></span></span><br><span class="line"></span><br><span class="line">c:/hysplit/Tutorial/captex/     # 气象数据所在位置(永远都是/结束)</span><br><span class="line">captex2_wrf27uw.bin             # 气象数据</span><br><span class="line">...       # 如果气象数据的数量为n个，这里也应该有n个气象数据的位置和数据，注意这里有限制12个最多</span><br><span class="line">c:/hysplit/working/             # 输出数据文件位置</span><br><span class="line">tdump_back          # 输出文件名</span><br></pre></td></tr></table></figure><blockquote><p>气象信息数据还可以有不同的精度选择</p><p>For example, an entry of 2 12 would mean that there are met files for 2 different grids (e.g., a regional and a<br>global grid), and that there are 12 files being specified for each grid.</p></blockquote><p>如果是关于particle csoncentrations的计算，还需要设定particle的相关信息。其他的是跟trajectory信息一样的，输出信息那项要增添particled的相关信息。这个可以结合Hysplit GUI了解相关输入，在concentration&gt; setup run&gt;  pollutent, depostion and grids setup&gt;点species 1 了解详情。</p><h3 id="concentration-设定"><a href="#concentration-设定" class="headerlink" title="concentration 设定"></a>concentration 设定</h3><p>计算concentration的时候，需要输入额外的关于污染物的信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;$syr $smo $sda $shr    &quot; &gt;CONTROL</span><br><span class="line">echo &quot;1                      &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;$olat $olon $lvl1      &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;$run                   &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;0                      &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;$ztop                  &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;1                      &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;$MET/                  &quot;&gt;&gt;CONTROL</span><br><span class="line">echo &quot;$data                  &quot;&gt;&gt;CONTROL</span><br><span class="line"><span class="meta">#</span><span class="bash"> 以上是trajectory的基本信息数据，到气象数据输入停止</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Definition of pollutent group</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是污染物扩散的设置</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意：时间变化的emission file在set-up里面设定, duration要一致。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 一个小tip，如果emission file设定了，将这块的扩散时间和扩散速度都设为0</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 这样子，如果emission file设定错误的话，模型会使用这块的结果就不会有output</span></span></span><br><span class="line">echo &quot;1                      &quot;&gt;&gt;CONTROL # number of group,有几个pollutent，就应该对应设置几个参数</span><br><span class="line">echo &quot;TEST                   &quot;&gt;&gt;CONTROL # identification (&lt;=4字符)</span><br><span class="line">echo &quot;1.0                    &quot;&gt;&gt;CONTROL # essmion rate 扩散的速度 (/h)，任意单位(arbitary)，结合使用的情况设定</span><br><span class="line">echo &quot;1.0                    &quot;&gt;&gt;CONTROL # hours of emission  扩散的时间 (h)</span><br><span class="line">echo &quot;00 00 00 00 00         &quot;&gt;&gt;CONTROL # 开始扩散的时间 (yy mm dd hh min)，设置为0的话，就主动提取emission file(如果无则气象数据起点）。</span><br><span class="line">... # 如果number of group 为2的话，这里应该从添加信息（第2-4行）,详情见&gt;16_4_cust_psize</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> definition of concentration grid</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是计算浓度设置</span></span><br><span class="line">echo &quot;1                      &quot;&gt;&gt;CONTROL # number of girds，不同的grid的设定，会有不同的输出</span><br><span class="line">echo &quot;0.0 0.0                &quot;&gt;&gt;CONTROL # 经纬度中心，如果设置为[0,0]，则默认为污染源位置为中心</span><br><span class="line">echo &quot;0.05 0.05              &quot;&gt;&gt;CONTROL # 经纬度的间隔，default[1,1], (这个间隔越小，则需要的release的particles就越多，否则最后计算的concentration就不准确）</span><br><span class="line">echo &quot;30.0 30.0              &quot;&gt;&gt;CONTROL # 经纬度的选择范围,中心左右各一半，default[180,360],</span><br><span class="line">echo &quot;$OUT/                  &quot;&gt;&gt;CONTROL # concentration的结果文件夹</span><br><span class="line">echo &quot;cdump                  &quot;&gt;&gt;CONTROL # concentration的文件</span><br><span class="line">echo &quot;1                      &quot;&gt;&gt;CONTROL  # 高度的分层，(e.g.,2 Boundary layer/平流层)number of vertical levels</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个计算的平均高度</span></span><br><span class="line">echo &quot;100                    &quot;&gt;&gt;CONTROL  # （m，e.g., 高度分层为2层的话，这里就写3000 10000），AGL,height of levels，平均的高度，如果设为0的话，表示deposition</span><br><span class="line">echo &quot;00 00 00 00 00         &quot;&gt;&gt;CONTROL  # 采样开始时间(yr,month,day,hour,min)</span><br><span class="line">echo &quot;00 00 00 00 00         &quot;&gt;&gt;CONTROL  # 采样停止时间(yr,month,day,hour,min)</span><br><span class="line"><span class="meta">#</span><span class="bash">这个表示每多久进行取样一次（e.g. 01 03 00, 表示每3小时进行取样一次）</span></span><br><span class="line">echo &quot;00 12 00               &quot;&gt;&gt;CONTROL  # concentration average, </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> definition of deposition grid</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是污染物运移的设定</span></span><br><span class="line">echo &quot;1                      &quot;&gt;&gt;CONTROL # 可以有多个污染物的设定</span><br><span class="line">echo &quot;0.0 0.0 0.0            &quot;&gt;&gt;CONTROL # 直径(um)，密度(g/cc)，形状（shape），三个参数有一个为0，则污染物会被设定为气体，污染物为例子的话，这三个参数一定要大于0。如果模型要计算gravitational settling 或者 resistance deposition的话，这些参数才有用，主要是dry deposition</span><br><span class="line">echo &quot;0.0 0.0 0.0 0.0 0.0    &quot;&gt;&gt;CONTROL # 沉降速度(m/s)，污染物重量（g/mol),Surface Reactivity Ratio, Diffusivity Ratio, Effective Henry&#x27;s Constant </span><br><span class="line">echo &quot;0.0 0.0 0.0            &quot;&gt;&gt;CONTROL </span><br><span class="line">echo &quot;0.0                    &quot;&gt;&gt;CONTROL # decay time 天数</span><br><span class="line">echo &quot;0.0                    &quot;&gt;&gt;CONTROL # Pollutant Resuspension, 非0的数值表示有可能从土壤re-emitted</span><br><span class="line">... # 同理，如果污染物有多个的话，这里也应该补充信息（2-6行），详情可见&gt;16_4_cust_psize</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><p>区域的释放可以这样子（多个区域貌似不行？）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;3                   &quot; &gt;&gt;CONTROL</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个是区域的释放</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 前两行代表左下和右上</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第三行代表间隔</span></span><br><span class="line">echo &quot;38.00 -84.00 600.0  &quot; &gt;&gt;CONTROL</span><br><span class="line">echo &quot;44.00 -74.00 600.0  &quot; &gt;&gt;CONTROL</span><br><span class="line">echo &quot;39.00 -83.00 600.0  &quot; &gt;&gt;CONTROL</span><br></pre></td></tr></table></figure><h2 id="Setup-cfg"><a href="#Setup-cfg" class="headerlink" title="Setup.cfg"></a>Setup.cfg</h2><p>模型的设定文件，不是必须的，如果没有设定值的话，Hysplit会导入默认的值。</p><p>==注意==：时间变化的emission file在set-up里面设定。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;efile = &#x27;$&#123;DATA&#125;/emissionfile.txt&#x27;,  &quot;&gt;&gt;SETUP.CFG</span><br></pre></td></tr></table></figure><blockquote><p>在hysplit_user_guide文件中，有个section，Advanced / Configuration Setup / Variables Not Set in the GUI，里面有关于Setup.cfg文件的具体设置。</p><p>在GUI的advance setting中，也可以调用帮助文档，查看详情，以下setup.cfg设置就是从GUI里复制出来的</p></blockquote><h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;&amp;SETUP              &quot;  &gt;SETUP.CFG</span><br><span class="line">echo &quot;kmsl=0,             &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;ninit=1,            &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;ndump=12,           &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;ncycl=12,           &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;numpar=5000,        &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;maxpar=50000,       &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;pinpf = &#x27;PARINIT&#x27;,  &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;poutf = &#x27;PARDUMP&#x27;,  &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">echo &quot;/                   &quot; &gt;&gt;SETUP.CFG</span><br></pre></td></tr></table></figure><h3 id="基本设置选项"><a href="#基本设置选项" class="headerlink" title="基本设置选项"></a>基本设置选项</h3><blockquote><p>1    CAPEMIN=-1 -1 no convection; -2 Grell convection scheme; -3 extreme convection; &gt;0 enhanced vertical mixing when CAPE exceeds this value (J/kg)<br>2    CMASS=0 compute grid concentrations (0) or grid mass (1)<br>3    CMTFN=’ ‘ center-of-mass trajectory output file name<br>4    CONAGE=24 particle to or from puff conversions at conage (hours)<br>5    CPACK=1 binary concentration packing 0:none 1:nonzero 2:points 3:polar<br>6    DELT=0.0 integration time step (0=autoset GT-0=constant LT-0=minimum)<br>7    DXF=1.0 horizontal X-grid adjustment factor for ensemble<br>8    DYF=1.0 horizontal Y-grid adjustment factor for ensemble<br>9    DZF=0.01 vertical (0.01 ~ 250m) factor for ensemble<br>10    EFILE=’ ‘ temporal emission file name   <strong>#时间/空间变化的释放点变量</strong><br>11    FRHMAX=3.0 maximum value for the horizontal rounding parameter<br>12    FRHS=1.00 standard horizontal puff rounding fraction for merge<br>13    FRME=0.10 mass rounding fraction for enhanced merging<br>14    FRMR=0.0 mass removal fraction during enhanced merging<br>15    FRTS=0.10 temporal puff rounding fraction<br>16    FRVS=0.01 vertical puff rounding fraction<br>17    GEMAGE=48 particle or puff transfer to the global model after gemage (hours)<br>18    HSCALE=10800.0 horizontal Lagrangian time scale (sec)<br>19    ICHEM=0 chemistry conversion modules 0:none 1:matrix 2:convert 3:dust … <strong>(这是化学定义模块)</strong></p><p>20    IDSP=1 particle dispersion scheme 1:HYSPLIT 2:STILT<br>21    INITD=0 initial distribution, particle, puff, or combination <strong>#设置释放的是particle(0)，puff(1,2)或者混合的</strong><br>22    IVMAX=20 number of variables written to PARTICLE_STILT.DAT. Must equal the number of variables listed for variable VARSIWANT<br>23    K10M=1 use surface 10m winds / 2m temperature (1) or skip (0)<br>24    KAGL=1 trajectory output heights are written as AGL (1) or as MSL (0)  <strong># 高度显示是米还是 pressure height</strong><br>25    KBLS=1 boundary layer stability derived from 1:fluxes 2:wind_temperature<br>26    KBLT=2 boundary layer turbulence parameterizations 1:Beljaars 2:Kanthar 3:TKE 4:Measured 5:Hanna<br>27    KDEF=0 horizontal turbulence 0=vertical 1=deformation<br>28    KHINP=0 when non-zero sets the age (h) for particles read from PINPF<br>29    KHMAX=9999 maximum duration (h) for a particle or trajectory   <strong># 最大的滞留时间，对于区域的模拟，粒子会在边界被抛弃，全球的模拟的话，会被抛弃当这些粒子不在感兴趣的区域</strong><br>30    KMIXD=0 mixed layer obtained from 0:input 1:temperature 2:TKE 3:modified Richardson #<br>31    KMIX0=150 minimum mixing depth<br>32    KMSL=0 starting heights default to AGL=0 or MSL=1  <strong>#开始高度设定，AGL(相对地面高度），MSL(绝对海平面高度）</strong><br>33    KPUFF=0 horizontal puff dispersion linear (0) or empirical (1) growth<br>34    KRAND=2 method to calculate random number  1=precalculated 2=calculated in pardsp 3=none 4=random initial seed number and calculatd in pardsp<br>35    KRND=6 enhanced merge interval (hours)<br>36    KSPL=1 standard splitting interval (hours)<br>37    KWET=0 precipitation from an external file<br>38    KZMIX=0 vertical mixing adjustments: 0=none 1=PBL-average 2=scale_TVMIX<br>39    MAXDIM=1 maximum number of pollutants to carry on one particle<br>40    MAXPAR=10000 maximum number of particles carried in simulation <strong># 允许的最多particled数量，超过这个数量，将强制把emission变为0，并且提示warning</strong><br>41    MESSG=’MESSAGE’ diagnostic message file base name<br>42    MGMIN=10 minimum meteorological subgrid size <strong># 最小的使用的气象数据grid，有时候提示cross violation的错误是因为这个grid设置的太小</strong><br>43    MHRS=9999 trajectory restart duration limit (hours) </p><p>44    NBPTYP=1 number of redistributed particle size bins per pollutant type  <strong># 给不同size的粒子标记</strong><br>45    NINIT=1 particle initialization (0-none; 1-once; 2-add; 3-replace)  <strong># 开始的particle数据，及边界条件的设定，0表示没有边界，即使设定了输入也无效；1表示仅在运行开始的时候读取边界条件，如果边界条件的时间不对的话，就不会读取；2表示每小时检查是否有符合的边界条件，如果有的话就读取。</strong></p><p>46    NCYCL=0 pardump output cycle time <strong># output的循环次数</strong><br>47    NDUMP=0 dump particles to/from file 0-none or nhrs-output interval  <strong># 每次出结果文件的时间间隔</strong></p><p><strong>#NCYCL和NDUMP结合使用。有比如需要每天的数据，则两者都设为24，这样也可以防止模型运行到一半卡壳，我们可以从上一个结果从新开始。详细实例见下面补充说明</strong></p><p><strong>一定要设定这两项才会particle的结果</strong></p><p>48    NSTR=0 trajectory restart time interval in hours <strong># 每几个小时运行一条trajectory（无语了…原来系统已经有自带的选项了）</strong><br>49    NTURB=0 Turbulence flag 0-on; 1-off<br>50    NUMPAR=2500 number of puffs or particles to released per cycle  <strong># 每个cycle释放particled的数量(默认2500)</strong><br>51    NVER=0 trajectory vertical split number<br>52    P10F=1.0 dust threshold velocity sensitivity factor<br>53    PINBC=’ ‘ particle input file name  for time-varying boundary conditions </p><p><strong>54    PINPF=’ ‘ particle input file name  for initialization or boundary conditions  # 初始/边界条件的particle文件</strong><br><strong>55    POUTF=’ ‘ particle output file name  # 结果文件</strong><br>56    QCYCLE=0.0 optional cycling of emissions (hours)<br>57    RHB=80 is the RH defining the base of a cloud<br>58    RHT=60 is the RH defining the top of a cloud<br>59    SEED=-1 set the seed for the random number generator. (v988 and higher)<br>60    SPLITF=1.0 automatic size adjustment (horizontal splitting<br>61    TKERD=0.18 unstable turbulent kinetic energy ratio = w’2/(u’2+v’2)<br>62    TKERN=0.18 stable turbulent kinetic energy ratio<br>63    TLFRAC=0.1 The fraction of the Lagrangian vertical time scale used to calculate the dispersion time step in the STILT dispersion scheme.<br>64    TM_PRES=0 trajectory diagnostic output pressure variable marker flag<br>65    TM_TPOT=0 trajectory diagnostic output potential temperature<br>66    TM_TAMB=0 trajectory diagnostic output ambient temperature<br>67    TM_RAIN=0 trajectory diagnostic output rainfall rate<br>68    TM_MIXD=0 trajectory diagnostic output mixed layer depth<br>69    TM_TERR=0 trajectory diagnostic output terrain height  <strong># 是否显示地形？（设为1显示地形）</strong><br>70    TM_DSWF=0 trajectory diagnostic output downward short-wave flux<br>71    TM_RELH=0 trajectory diagnostic output relative humidity<br>72    TOUT=60 trajectory output interval in minutes<br>73    TRATIO=0.75 advection stability ratio<br>74    TVMIX=1.0 vertical mixing scale factor<br>75    VARSIWANT=’TIME’,’INDX’,’LONG’,’LATI’,’ZAGL’,’SIGW’,’TLGR’,’ZSFC’,’TEMP’,’SAMT’,’FOOT’,’SHTF’,’DMAS’,’DENS’,’RHFR’,’SPHU’,’DSWF’,’WOUT’,’MLHT’,’PRES’ variables written to PARTICLE_STILT.DAT.<br>76    VDIST=’VMSDIST’ diagnostic file vertical mass distribution<br>77    VEGHT=0.5 Height below which particle’s time is spent is tallied to calculate footprint for PARTICLE_STILT.DAT less than or equal to 1.0: fraction of PBL height; greater than 1.0: height AGL (m)<br>78    VINIT=1 initial turbulent velocity. Draw from distribution (1) set to 0 (0)<br>79    VSCALEU=200.0 vertical Lagrangian time scale (sec) for unstable PBL<br>80    VSCALES=5.0 vertical Lagrangian time scale (sec) for stable PBL<br>81    WBWR=0.0 trajectory fixed rise velocity (m/s) required if vertical motion option = 9<br>82    WBWF=0.0 trajectory fixed fall velocity (m/s, &gt;0) required if vertical motion option = 9 or 10<br>83    WBBH=0.0 trajectory height at which vertical velocity switches from rise to fall (m) required if vertical motion option = 9<br>84    WVERT=.FALSE. Vertical interpolation scheme for WRF fields .FALSE.:HYSPLIT scheme .TRUE.:WRF scheme </p></blockquote><h2 id="额外补充说明"><a href="#额外补充说明" class="headerlink" title="额外补充说明"></a>额外补充说明</h2><h3 id="NDUMP-和NCYCL结合使用"><a href="#NDUMP-和NCYCL结合使用" class="headerlink" title="NDUMP 和NCYCL结合使用"></a>NDUMP 和NCYCL结合使用</h3><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210409124319048.png" alt="image-20210409124319048" style="zoom:50%;"><h3 id="ICHEM文件设定"><a href="#ICHEM文件设定" class="headerlink" title="ICHEM文件设定"></a>ICHEM文件设定</h3><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210416210742496.png" alt="image-20210416210742496" style="zoom:50%;"><h2 id="MESSAGE文档"><a href="#MESSAGE文档" class="headerlink" title="MESSAGE文档"></a>MESSAGE文档</h2><p>范例说明，如何看message文件</p><blockquote><p>注意的一点，这里的结果，跟在control文件中设定是相关的。例如，如果设定计算的高度为5000，那么即使release point高于5000，也不会计算其中</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 这个输入的气象数据的信息，NX,NY表示经纬度，KT表示数据编码</span></span><br><span class="line">KG   KT DATA  SIZE   NX   NY</span><br><span class="line">1    1 CDC1 278.0  144   73</span><br><span class="line">1    2 CDC1 278.0  144   73</span><br><span class="line"></span><br><span class="line"> ------------- Start computation messages -------------------</span><br><span class="line"><span class="meta"> #</span><span class="bash"><span class="comment">## 复习：Hsyplit没有用输入气象数据的所有值进行计算，而是用输入数据的sub-grid进行，提高运算速度</span></span></span><br><span class="line">  NOTICE advrng: (kg ,xyr,xy1) -  1   10   10   54   63 #气象数据的最小sub-grid，10*10，该数据的左下角位置 54 63</span><br><span class="line">  NOTICE metpos: closed unit -            1          12        1000</span><br><span class="line"><span class="meta">  #</span><span class="bash"> 这里是按照分钟数显示，显示第一次计算的时间序列</span></span><br><span class="line">  NOTICE metpos: (mtime,ftime) -     42599160           0</span><br><span class="line">  NOTICE metpos: (mtime,ftime) -     42598800           0</span><br><span class="line"><span class="meta">  #</span><span class="bash"> 气象数据的最小sub-grid，10*10,可以在setup里面设置，这个33 sigma level是模型内部的划分</span></span><br><span class="line">  NOTICE advpnt: (kg,nx,ny,nz) -     1   10   10   33</span><br><span class="line">  NOTICE sfcinp: reading ASCDATA.CFG</span><br><span class="line">  NOTICE sfcinp: record terminator = CR/LF</span><br><span class="line"><span class="meta">  #</span><span class="bash"> sub-grid数据的左下角位置 54 63</span></span><br><span class="line">  NOTICE metgrd: (kg, xyr,xy1) -     1   10   10   54   63</span><br><span class="line">  NOTICE metinp: CDC1 110811   10   10   54   63 42599160 80 12 29 18 #运行开始时间,42599160min,时间80 12 29 18</span><br><span class="line">  </span><br><span class="line"><span class="meta">  #</span><span class="bash"> input data level是气象数据的vertical level, 其他的都是模型根据气象数据生成的。</span></span><br><span class="line">  NOTICE prfprs: extrapolation from level (k,m):           31   25327.89    </span><br><span class="line">  Input data levels:           17     Internal Sigma levels:           33</span><br><span class="line">  </span><br><span class="line"><span class="meta">  #</span><span class="bash"><span class="comment">###############</span></span> </span><br><span class="line"><span class="meta">  #</span><span class="bash"> 以下内容来自第二个实例</span></span><br><span class="line"><span class="meta"> #</span><span class="bash"><span class="comment">#################################</span></span></span><br><span class="line"><span class="meta"> #</span><span class="bash"> 刚开始默认15分钟间隔(这是系统默认的),zhi</span></span><br><span class="line">   NOTICE   main: Initial time step (min)           15</span><br><span class="line"><span class="meta"> #</span><span class="bash"> 后面发现前3个小时是没有particle释放的，变为1小时，发现有relase之后，改变运行时间间隔</span></span><br><span class="line">  NOTICE   main:      1    52615815 (这是时间） 0（这是particles数量）  0.0000000E+00（这是total mass，跟设定的release rate相对应)</span><br><span class="line">  NOTICE   main:            1    52615830           0  0.0000000E+00</span><br><span class="line">  NOTICE   main:            1    52615845           0  0.0000000E+00</span><br><span class="line">  NOTICE   main:            1    52615860           0  0.0000000E+00</span><br><span class="line">  NOTICE advrng: (kg ,xyr,xy1) -  1   40   40   34   33 # 这个表示当前的sub-grid，40是因为我将最小grid改为40</span><br><span class="line">  NOTICE   main:            2    52615920           0  0.0000000E+00</span><br><span class="line">  NOTICE advrng: (kg ,xyr,xy1) -  1   40   40   34   33 </span><br><span class="line">  NOTICE   main:            3    52615980         627   53.99998    </span><br><span class="line">  NOTICE advrng: (kg ,xyr,xy1) -  1   40   40   33   33</span><br><span class="line">  NOTICE   main:            4    52615986         690   59.39995    </span><br><span class="line">  NOTICE   main:            4    52615992         753   64.79990    </span><br><span class="line">  NOTICE   main:            4    52615998         816   70.19986    </span><br><span class="line">  NOTICE   main:            4    52616004         879   75.59982  </span><br></pre></td></tr></table></figure><h1 id="图像绘制的设定"><a href="#图像绘制的设定" class="headerlink" title="图像绘制的设定"></a>图像绘制的设定</h1><h2 id="trajectory-绘制"><a href="#trajectory-绘制" class="headerlink" title="trajectory 绘制"></a>trajectory 绘制</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> $</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/trajplot -itdump -z80 -j<span class="variable">$&#123;MDL&#125;</span>/graphics/arlmap -v0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -v, 表示高度的显示方式，0hpa, 1agl, 2theta, 3meteo, 4none; -i表示输入文件；</span></span><br><span class="line"></span><br><span class="line">ls fdump???????? &gt;INFILE</span><br><span class="line"><span class="meta">#</span><span class="bash"> 多个trajectory 模拟，将名字都存入一个file中</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将output name放到一个traj_files.txt文件中进行</span></span><br><span class="line">echo &quot;tdump_divg&quot;       &gt;&gt;traj_files.txt</span><br><span class="line">echo &quot;tdump_fwrd&quot;       &gt;&gt;traj_files.txt</span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/trajplot -z30 -i+traj_files.txt -j<span class="variable">$&#123;MDL&#125;</span>/graphics/arlmap -v0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="频率绘制frequency-plot"><a href="#频率绘制frequency-plot" class="headerlink" title="频率绘制frequency plot"></a>频率绘制frequency plot</h3><blockquote><p>注意，只能是一个点，不能多点，不能多高度</p></blockquote><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210409132259734.png" alt="image-20210409132259734" style="zoom: 50%;"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 实例 6_1_traj_freq</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 先利用trajfreq计算频率，再利用concplot绘制结果</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/trajfreq -ftfreq.bin -g1.0 -iINFILE -r0 -s0:99999</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> -f 绘图结果(tfreq.bin为输出结果)；-i INFILE为input file name合集；-r 表示滞留时间；-s表示计算的高度范围</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/concplot -m0 -k1 -z80 -j<span class="variable">$&#123;MDL&#125;</span>/graphics/arlmap -itfreq.bin</span></span><br></pre></td></tr></table></figure><h2 id="concplot绘制"><a href="#concplot绘制" class="headerlink" title="concplot绘制"></a>concplot绘制</h2><p>浓度分布图。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> #</span><span class="bash"> 实例1</span></span><br><span class="line"><span class="meta"> $</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/concplot -ivolcano.bin -j<span class="variable">$&#123;MDL&#125;</span>/graphics/arlmap -s0 -z80 \</span></span><br><span class="line"><span class="bash">                       -c4 -uug -v100+50+20+10 -f1</span></span><br><span class="line"><span class="meta"> #</span><span class="bash"> -i, 表示输入的数据volcano.bin；-s 表示种类(0为叠加)，-z表示缩放大小(80); -c表示等值线图的绘制(4)，-u表示单位(ug)，-v表示colorbar的类别(100+50+20+10)</span></span><br><span class="line"><span class="meta"> #</span><span class="bash"> -j表示加载地理坐标; -f0表示all frame one file, f1表示one frame one file</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#### 15_1的范例</span></span></span><br><span class="line"><span class="meta">  $</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/concplot -ic137.bin -j<span class="variable">$&#123;MDL&#125;</span>/graphics/arlmap -z80 \</span></span><br><span class="line"><span class="bash">                       -odoseyear -x1.0E-10 -y9.6E-9 -b0 -t100 -r3</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -o output,doseyear是输出的名字；-x浓度转换系数(对于显示转换的时候特别有用)；-y沉积的浓度转换系数；</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -b bottom display level；-t top display level; -r removal,沉降？</span></span><br></pre></td></tr></table></figure><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210407104610575.png" alt="image-20210407104610575" style="zoom:50%;"><h2 id="parxplot绘制"><a href="#parxplot绘制" class="headerlink" title="parxplot绘制"></a>parxplot绘制</h2><p>显示例子的运动。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> #</span><span class="bash"> 实例1</span></span><br><span class="line"><span class="meta"> $</span><span class="bash">&#123;MDL&#125;/<span class="built_in">exec</span>/parxplot -iPARDUMP -k1 -z80 -j<span class="variable">$&#123;MDL&#125;</span>/graphics/arlmap</span></span><br><span class="line"><span class="meta"> #</span><span class="bash"> PADRUMP是particle的输出，如果要看particle的条件的话，需要额外的在setup中设置particle的输出。例如</span></span><br><span class="line">  echo &quot;pinpf = &#x27;PARINIT&#x27;,  &quot; &gt;&gt;SETUP.CFG</span><br><span class="line">  echo &quot;poutf = &#x27;PARDUMP&#x27;,  &quot; &gt;&gt;SETUP.CFG</span><br><span class="line"><span class="meta"> #</span><span class="bash"> -k表示颜色(0为黑白1为彩色)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 有par2con的软件，将particle转换为concentration</span></span><br></pre></td></tr></table></figure><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210405163647013.png" alt="image-20210405163647013" style="zoom: 50%;"><h1 id="结果文件阅读"><a href="#结果文件阅读" class="headerlink" title="结果文件阅读"></a>结果文件阅读</h1><h2 id="如何看Trajectory的结果"><a href="#如何看Trajectory的结果" class="headerlink" title="如何看Trajectory的结果"></a>如何看Trajectory的结果</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> loading的气象数据实际上只用了两个</span></span><br><span class="line">3     1</span><br><span class="line">CDC1    80     8     1     0     0</span><br><span class="line">CDC1    80     9     1     0     0</span><br><span class="line">CDC1    80    10     1     0     0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开始的两个点，</span></span><br><span class="line">2 BACKWARD OMEGA   </span><br><span class="line">1981     1     1     0   75.500  -36.000   500.0</span><br><span class="line">1981     1     1     0   75.500  -36.000  1500.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 最后6列是时间，纬度，经度，相对地面高度（AGL),平均压强？？地面高度（一般不显示，在setup中设置了TM_TERR=1后就会显示）</span></span><br><span class="line">2 PRESSURE TERR_MSL</span><br><span class="line">1     1    81     1     1     0     0     0     0.0   75.500  -36.000    500.0    649.6   2765.5</span><br><span class="line">2     1    81     1     1     0     0     0     0.0   75.500  -36.000   1500.0    563.0   2765.5</span><br><span class="line">1     1    80    12    31    23     0     0    -1.0   75.553  -35.934    500.7    650.4   2753.5</span><br><span class="line">2     1    80    12    31    23     0     0    -1.0   75.478  -35.617   1502.8    564.4   2741.3</span><br></pre></td></tr></table></figure><p>额外的有用代码设定</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 多个输出，linux接受这种写法，<span class="variable">$&#123;num&#125;</span></span></span><br><span class="line">ps2pdf concplot.ps 7_5_conc_part_$&#123;num&#125;.pdf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 逗号表示换行的意思, <span class="built_in">read</span> 表示读取输入</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个可以做到暂停的效果,然后看下输入</span></span><br><span class="line">echo &quot;Enter to continue ...&quot;; read x</span><br></pre></td></tr></table></figure><h1 id="高级设置"><a href="#高级设置" class="headerlink" title="高级设置"></a>高级设置</h1><h2 id="particle的问题"><a href="#particle的问题" class="headerlink" title="particle的问题"></a>particle的问题</h2><p>如何根据粒子计算浓度</p><h2 id="不同高度的emission设定-重要"><a href="#不同高度的emission设定-重要" class="headerlink" title="不同高度的emission设定(重要)"></a>不同高度的emission设定(重要)</h2><blockquote><p>脚本记录：Be10_conc_test2Height</p></blockquote><p>hysplit在高度设定，如果两个高度的值([40 50])，就默认是在40-50米这个范围内进行释放。</p><p>下面是一个不同高度不同散发点的例子。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">YYYY MM DD HH    DURATION(hhhh) #RECORDS </span><br><span class="line">YYYY MM DD HH MM DURATION(hhmm) LAT LON HGT(m) RATE(/h) AREA(m2) HEAT(w) </span><br><span class="line">2000 1 15 20 24 4 </span><br><span class="line">2000 1 15 20 0 2400 60 -50 100 7 0 0</span><br><span class="line">2000 1 15 20 0 2400 60 -50 500 11 0 0</span><br><span class="line">2000 1 15 20 0 2400 60 -50 3000 36 0 0</span><br><span class="line">2000 1 15 20 0 2400 60 -50 5000 56 0 0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 100-500,释放rate为 7/h</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 500-3000,释放rate为 11/h</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3000-5000,释放rate为 36/h</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 最后一项被忽略，因此如果看MESSAGE文件，第一个小时的mass只有54，24个小时为54*24的total mass。注意，message里面的数值不会正好等于54(e.g.,53.999999),可以理解为计算误差。</span></span><br></pre></td></tr></table></figure><p>这下面是message文件，可以看到，第一个小时是54.00011，可以理解为计算误差。</p><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210416144201939.png" alt="image-20210416144201939" style="zoom:50%;"><img src="/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/image-20210416144520522.png" alt="image-20210416144520522" style="zoom:50%;"><blockquote><p>上面是parplot的结果。还有个问题就是，我设定的numpar=5000，意味着一个循环应该是5000个releasa。同时我设定了三个区间，总量应该为15000才对。这里面显示的最后结果是16356个particle。==待解决==</p></blockquote><h2 id="全球运移模式-（重点）"><a href="#全球运移模式-（重点）" class="headerlink" title="全球运移模式 （重点）"></a>全球运移模式 （重点）</h2><p>长时间的运移需要非常多的particles输入（极大的增加运算时间等）。因此可以使用hysplit-GEM混合模式，可以使得靠近源点的运移比较精确。基本设置跟hysplit是一样的，除了需要额外配置一项<em>GEMPARM.CFG</em>文件。</p><blockquote><p>The global simulation is a HYSPLIT “grid-in-plume” option, in which the Lagrangian particle mass can be transferred to a global Eulerian model after a designated number of hours. Lagrangian and Eulerian dispersion and transport can occur simultaneously. Each <em>model</em> has its own output grid. The advantage of this approach is that at times very long-range calculations may require too many particles to properly represent the pollutant distribution. ==In this way it is possible to take advantage of the the more precise Lagrangian approach near the source and the more computationally efficient Eulerian computation at the hemispheric and global scales==. </p></blockquote><p>运行<code>hycs_gem.exe</code>，如果没有设定<em>GEMPARM.CFG</em>文件，程序会自动生成默认的<em>GEMPARM.CFG</em>文件，并显示提醒。</p><p>GEM和hysplit都会产生自身的浓度，如果要一个全部的浓度，需要两者叠加。可以使用concadd。</p><p>有两个exe文件可以使用，一个是==concadd==，将hysplit/gem模型运行结果浓度相加的程序，一个是==gridplot==进行全球绘制。</p><p>The only requirement is that at one pressure-level global meteorological grid (2.5 degree reanalysis or 1 degree GFS) needs to be defined for the HYSPLIT calculation.</p><p>需要使用全球的数据进行运行（NCEP/GADS).</p><p>在SETUP.CFG文件中需要进行一个设置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GEMAGE=48 #(默认为48小时),表示多长时间后粒子可以运移到GEM模型中</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 注意，这个时候看message file, total mass是确定的，因为particle被传到了GEM里面去了</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 补充：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 感觉自己理解的还不是很对，多看看message的文件，然后可以在hysplit那边问问题</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>还需注意的是，QCYCLE不起作用了。</p><blockquote><p>When using an <em>EMITIMES</em> file, QCYCLE is not used for emission cycling. </p><p>Also if the <em>EMITIMES</em> file has fewer sources than defined in the <em>CONTROL</em> file, the emissions specified in the <em>CONTROL</em> file need to be set correctly and match the first value in <em>EMITIMES</em>.</p></blockquote><h3 id="GEMPARM-CFG文件文件设置"><a href="#GEMPARM-CFG文件文件设置" class="headerlink" title="GEMPARM.CFG文件文件设置"></a><em>GEMPARM.CFG</em>文件文件设置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">HMIX=200000.0 - horizontal mixing (m2/s) at the equator</span><br><span class="line">VMIX=50.0 - maximum vertical mixing (m2/s)</span><br><span class="line">KMASS=2- flag set to conserve mass (0:skip 1:show 2:yes) # 保留mass</span><br><span class="line">KINIT=0 - concentration initialization (&lt;0:no_run 0:zero 1:lat_bands 2:dew-point 3:last_dump 4:global_v37) #边界初始条件</span><br><span class="line">CKON=0.0 - value of initial concentration field if kinit&gt;4</span><br><span class="line">CMIN=0.0 - minimum value when using regression initialization (kinit=1|2)</span><br><span class="line">CMAX=1.0E+25 - regression fit maximum value</span><br><span class="line">WFACT=1.0 - sensitivity of advection to vertical velocity</span><br><span class="line">KDIVG=0 - flag to compute vertical velocity from the divergence field (kdivg=1)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 以下三个，<span class="string">&#x27;.bin&#x27;</span>不是必须的</span></span><br><span class="line">GEMDUMP=&#x27;gemdump.bin&#x27; - daily 3-dimensional dump of concentration field (for initialization kinit=3) # 这个设定是每次的concentration结果，跟输出频率和第一个输入的时间有关</span><br><span class="line">GEMCONC=&#x27;gemconc.bin&#x27; - HYSPLIT formatted concentration output file</span><br><span class="line">GEMZINT=&#x27;gemzint.bin&#x27; - HYSPLIT formatted vertically integrated concentration</span><br><span class="line">CFACT=1.0 - internal (model) concentration to external (output) concentration units conversion factor #浓度转换系数</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这个layer是跟气象数据的layer是相关的</span></span><br><span class="line">KZBOT=1 - grid cell index for the bottom output (or integration/averaging) level # 底部应该是level 1</span><br><span class="line">KZTOP=1 - grid cell index for the top output (or integration/averaging) level</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这表示如何进行浓度的选取</span></span><br><span class="line">KZAVG=0 - flag for vertical averaging (0:none 1:average&#123;bot-top&#125; 2:integral&#123;bot-top&#125; 3:&#123;2+0&#125; 4:&#123;2+1&#125;)</span><br><span class="line">WFREQ=3 - output frequency in hours # 输出的频率</span><br><span class="line">IHOUR=0 - initial UTC output hour  # 第一张图输出的时间</span><br></pre></td></tr></table></figure><p>通过阅读结果的message file进一步理解</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 开头多了一些信息，</span></span><br><span class="line">NOTICE gemset: allocated array space (x,y,z) -   360  181   23</span><br><span class="line">NOTICE geminp: loaded new data (mo,da,hr) -    1   1  18</span><br><span class="line">NOTICE gemstb: minimum H,V time steps (s) -   363  100  Final (min):  1</span><br><span class="line">NOTICE gemini: all zero initialization for concentration # 因为没有初值条件，所以设为0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这估计是跟成图输出频率有关</span></span><br><span class="line">NOTICE geminp: skip    6232452   # 运行到第二个小时出现这个，</span><br><span class="line">....</span><br><span class="line">NOTICE geminp: loaded new data (mo,da,hr) -    7   2   0   # 之后又出现了load</span><br><span class="line">NOTICE geminp: skip    62324580</span><br><span class="line">NOTICE gemout: (da,hr,mass) -            1          23   109709.3    </span><br><span class="line">NOTICE gemday: gemdump.bin</span><br></pre></td></tr></table></figure><h2 id="边界条件（长时间尺度模拟）"><a href="#边界条件（长时间尺度模拟）" class="headerlink" title="边界条件（长时间尺度模拟）"></a>边界条件（长时间尺度模拟）</h2><p>利用GEMDUM</p><blockquote><p>开始时间应该严格按照要求，e.g., 07 01 01 00，我一开始使用(2007 01 01 00)，这导致在使用GEMDUMP的时候日期格式对应不上。</p><p>保留mass， kmass=2，如果设置成其他值，则无法继承GEMDUMP运行。</p></blockquote><p>当<strong>KINIT=0</strong>时，每次都会产生一个gemdump（根据WFREQ设定多久出结果），这个就是可以作为边界条件。</p><p>写个代码每次开始时，寻找开始时间的gemdump是否存在，存在的话就变为gemdump为边界条件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rm -f gemdump</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="variable">$&#123;a:4:4&#125;</span>为特定时间的gemdump</span></span><br><span class="line">if [ -f gemdump$&#123;a:4:4&#125; ]; then</span><br><span class="line">  echo &quot;initial boundary is gemdump$&#123;a:4:4&#125;&quot;</span><br><span class="line">  cp gemdump$&#123;a:4:4&#125; gemdump</span><br><span class="line">else</span><br><span class="line">  echo &quot;initial boundary is 0&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>注意，高度最好设为MSE(KMSL)</p><h2 id><a href="#" class="headerlink" title></a></h2><p>16.2 Restarting the Model from PARDUMP</p><p>Therefore, go to the <em>\hysplit\working</em> directory and first make a copy of <em>PARDUMP</em> (to <em>PARDUMP1412</em>) that was created at the end of the last simulation to avoid having to rerun the example in case you make a mistake and then rename the file <em>PARDUMP</em> to <strong><em>PARINIT\</em></strong>. Then save the changes and run the model.</p>]]></content>
      
      
      <categories>
          
          <category> TrajectoryModel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hysplit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_快捷键</title>
      <link href="2021/03/30/pythonLearning/python_%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>2021/03/30/pythonLearning/python_%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<p>python 我使用的是anacoda的jupyter notebook。</p><blockquote><p>因为anacoda更新出了问题，我卸载了重新安装，结果发现之前装的包都不见了。这里对anaconda的安装做个记录</p></blockquote><h2 id="python-列表，数组，矩阵"><a href="#python-列表，数组，矩阵" class="headerlink" title="python 列表，数组，矩阵"></a>python 列表，数组，矩阵</h2><p>列表可以写成方括号之间的逗号分隔值(项目)列表。 </p><p>列表中的项目不必是相同的类型。一个列表中的项目(元素)可以是数字，字符串，数组，字典等甚至是列表类型。</p><p>Python 的index 是从0开始的</p><p>python 里面的slicing是取头不取尾。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>:<span class="number">6</span>:<span class="number">2</span>] （表示为<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>）</span><br></pre></td></tr></table></figure><p>一、写入浮点数到txt文件：</p><p>   假设每次有两个浮点数需要写入txt文件，这里提供用with关键字打开文件的方法，使用with打开文件是一个很好的习惯，因为with结束，它就会自动close file，不用手动再去flie.close()。</p><h1 id="Jupyter-运行py文件"><a href="#Jupyter-运行py文件" class="headerlink" title="Jupyter 运行py文件"></a>Jupyter 运行py文件</h1><p>方法1：直接运行得出结果。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%run xx.py </span><br></pre></td></tr></table></figure><p>方法2：(载入代码再点击Run运行，这种方法的好处是可以方便修改代码。)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">%load xx.py </span><br><span class="line"><span class="comment"># 然后将更新信息覆盖文件</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># python文件夹的位置，建议保存为一个新的版本，做好备份</span></span><br><span class="line">mypath =<span class="string">&quot;C:/Users/zmjhh/Desktop/HYSPLIT/test.txt&quot;</span> </span><br><span class="line"><span class="comment"># 这里将新的内容覆盖到原来</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(mypath,<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> x</span><br><span class="line">  x.write(<span class="string">&quot;This is a boy&quot;</span>)</span><br></pre></td></tr></table></figure><p>说明：Jupyter Notebook中以%开头的代码为魔法函数。其中：</p><ul><li>%run 调用外部python脚本</li><li>%load 加载本地文件</li></ul><h2 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h2><blockquote><p>注意，要是路径上有空格，则加双引号，如下</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%run <span class="string">&quot;D:/OneDrive_LU/OneDrive - Lund University/ChromeTest.py&quot;</span></span><br><span class="line"><span class="comment">#或者也可以这么写</span></span><br><span class="line">path1=<span class="string">&quot;D:/OneDrive_LU/OneDrive - Lund University/ChromeTest.py&quot;</span></span><br><span class="line">%run <span class="string">&quot;$path1&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p> 注意，这里跟Shell文件一个区别，就是shell文件中推荐加<code>&#123;&#125;</code>，但是在python中，加了<code>&#123;&#125;</code>就不能正确读取路劲了。</p></blockquote><h1 id="Permission-denied-问题"><a href="#Permission-denied-问题" class="headerlink" title="Permission denied 问题"></a>Permission denied 问题</h1><p>如下代码会出现permission denied的情况</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">filename=<span class="string">&#x27;C:/Users/zmjhh/Desktop/HYSPLIT&#x27;</span></span><br><span class="line">urllib.request.urlretrieve(link, filename)</span><br></pre></td></tr></table></figure><p>应该确定文件类型，如test.zip等，正确如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">filename=<span class="string">&#x27;C:/Users/zmjhh/Desktop/HYSPLIT/test.zip&#x27;</span></span><br><span class="line">urllib.request.urlretrieve(link, filename)</span><br></pre></td></tr></table></figure><p>python 的路径含空格等特殊符号</p><p>基本跟shell一致，使用告诉系统’&#39;不是转义字符，’\‘就起这种作用，现给出一个示例。</p><h2 id="并集问题"><a href="#并集问题" class="headerlink" title="并集问题"></a>并集问题</h2><p>&amp; 和 and 都能表示并集，但是两者又不一样</p><p>首先 &amp; 是位运算符，and 是逻辑运算符</p><p>首先 &amp; 是位运算符，and 是逻辑运算符</p><p>举例1: 设a和b是两个整数，a=1，b=2</p><p>a&amp;b     分析：a以二进制表示就是01，b以二进制表示就是10，故&amp;的运算结果就是00，即十进制的0</p><p>a and b    分析：1是真，2也是真，故a and b是真</p><p>又如：2&amp;3     即10&amp;11，结果就是10 即十进制的2</p><pre><code>        0 and 2   即0是假，2是真，结果就是假</code></pre><p>a,b分别是整数1和2，以二进制表示分别为：01，10。&amp;运算结果的二进制为：00，即十进制的 0（按位逻辑运算）。再如 ：2&amp;3，二进制表示为 10&amp;11，所以结果是 10，即十进制的 2。1 是真，2是真（整数0是否），所以 1 and 2 是真， 0 and 2 是否。</p><h2 id="的格式理解"><a href="#的格式理解" class="headerlink" title="%的格式理解"></a>%的格式理解</h2><blockquote><p> 在看别人代码的时候看到这种用法，学习下</p></blockquote><p><a href="https://blog.csdn.net/weixin_34199405/article/details/93068576">https://blog.csdn.net/weixin_34199405/article/details/93068576</a></p><p>直接看代码理解</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">a &#x3D; &quot;wry&quot;</span><br><span class="line">b &#x3D; &quot;zjl&quot;</span><br><span class="line">c &#x3D; &quot;xxx&quot;</span><br><span class="line">print &quot;a&#x3D;%s, b&#x3D;%s, c &#x3D; %s&quot; %(a,b,c) # %s 字符串 (采用str()的显示)</span><br></pre></td></tr></table></figure><p>输出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a&#x3D;wry, b&#x3D;zjl, c &#x3D; xxx</span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_爬虫批量下载</title>
      <link href="2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/"/>
      <url>2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<blockquote><p>要是遇到更复杂的情况可以先看看以下一些资料</p><p>（<a href="https://selenium-python-zh.readthedocs.io/en/latest/waits.html">selenium官网教程，非常有用</a>）</p><p><a href="https://www.cnblogs.com/luozx207/p/9003214.html">https://www.cnblogs.com/luozx207/p/9003214.html</a></p></blockquote><p>详细：<a href="https://www.jb51.net/article/178283.htm">https://www.jb51.net/article/178283.htm</a></p><h1 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h1><blockquote><p>包括<code>selenium</code>，<code>urllib</code>和chromedriver。</p></blockquote><p><code>urllib</code>是Python自带的标准库，无需安装，直接可以用。</p><p>selenium包需要安装，直接prompt输入（<a href="https://selenium-python-zh.readthedocs.io/en/latest/waits.html">selenium官网教程，非常有用</a>）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><p>同时下载chromedriver，结合自己的chrome的版本，版本序号不一定要一致的，找不到一致的就找相近的，使用mirror的链接下载：<a href="http://npm.taobao.org/mirrors/chromedriver">http://npm.taobao.org/mirrors/chromedriver</a></p><p>下载完成后，直接解压到anaconda下面的文件夹中</p><img src="/2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/image-20210402215942210.png" alt="image-20210402215942210" style="zoom:50%;"><p>然后在anaconda的prompt窗口输入<code>chromedriver</code>，出现这样子的界面表明安装成功。</p><img src="/2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/image-20210402220243916.png" alt="image-20210402220243916" style="zoom:50%;"><h1 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h1><p>网上找到的自动下载的基本思路</p><ol><li>要利用headers拉动请求，模拟成浏览器去访问网站，跳过最简单的反爬虫机制。(我这步跳过)</li><li>获取网页内容，保存在一个字符串content中。</li><li>构造正则表达式，从content中匹配关键词pattern获取下载链接。需要注意的是，网页中的关键词出现了两遍（如下图），所以我们要利用set()函数清除重复元素。</li><li>第三步是遍历set之后的结果，下载链接。</li><li>设置time.sleep(t)，无sleep间隔的话，网站认定这种行为是攻击，所以我们隔一段时间下载一个，反反爬虫。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取网页内容</span></span><br><span class="line">url=driver.current_url</span><br><span class="line">opener = urllib.request.build_opener()</span><br><span class="line">content = opener.<span class="built_in">open</span>(url).read().decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="下拉选项"><a href="#下拉选项" class="headerlink" title="下拉选项"></a>下拉选项</h3><img src="/2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/image-20210417141906139.png" alt="image-20210417141906139" style="zoom:50%;"><p>如果要下拉选择某一个值，使用select功能,示例</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> Select</span><br><span class="line"><span class="comment"># 法一：使用xpath进行选择</span></span><br><span class="line">s1=Select(driver.find_element_by_xpath(<span class="string">&#x27;//form[@action=&quot;/ready2-in/extract/extractfile.pl&quot;]/select&#x27;</span>))</span><br><span class="line"><span class="comment"># 法二：直接使用属性name的值</span></span><br><span class="line">s1=Select(driver.find_element_by_name(<span class="string">&#x27;metdata&#x27;</span>))  </span><br><span class="line"></span><br><span class="line">s1.select_by_value(<span class="string">&#x27;GDAS1&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="点的选项"><a href="#点的选项" class="headerlink" title="点的选项"></a>点的选项</h3><img src="/2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/image-20210417142441422.png" alt="image-20210417142441422" style="zoom:50%;"><p>选择不同的标识，其实只要定位到那个表示，然后click()就可以了。</p><img src="/2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/image-20210417151616577.png" class title="image-20210417151616577"><p>我需要选择time，只能通过value值来确定，可以这么做</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s2=driver.find_element_by_css_selector(<span class="string">&quot;input[value=&#x27;2&#x27;&quot;</span>)</span><br><span class="line">s2.click()</span><br></pre></td></tr></table></figure><h2 id="填空的选择"><a href="#填空的选择" class="headerlink" title="填空的选择"></a>填空的选择</h2><p>定位到位置，然后send_keys就可以达到目的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_name(<span class="string">&quot;latL&quot;</span>).clear()</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;latL&quot;</span>).send_keys(<span class="string">&quot;-90&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="按钮的操作"><a href="#按钮的操作" class="headerlink" title="按钮的操作"></a>按钮的操作</h2><p>碰到按钮的网页，只要定位到要按的按钮，然后使用click()功能，例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s2.click()</span><br></pre></td></tr></table></figure><h2 id="超链接下载"><a href="#超链接下载" class="headerlink" title="超链接下载"></a>超链接下载</h2><p>获取超链接元素后，通过<code>download_link.get_attribute(&#39;href&#39;)</code>来获得其下载元素</p><h1 id="扩展功能"><a href="#扩展功能" class="headerlink" title="扩展功能"></a>扩展功能</h1><p>##下载速度和时间的扩展</p><blockquote><p>我想大概知道一个下载速度和时间，代码参考如下，亲测可用，保存为.py文件，然后调用即可。</p></blockquote><p><a href="https://blog.csdn.net/weixin_30362083/article/details/95301602">https://blog.csdn.net/weixin_30362083/article/details/95301602</a></p><h2 id="等待时间"><a href="#等待时间" class="headerlink" title="等待时间"></a>等待时间</h2><p>使用的是WebDriverWait</p><p>看<a href="https://selenium-python-zh.readthedocs.io/en/latest/waits.html%E5%BE%97%E5%88%B0%E6%9B%B4%E5%A4%9A%E7%9A%84%E4%BF%A1%E6%81%AF">https://selenium-python-zh.readthedocs.io/en/latest/waits.html得到更多的信息</a></p><p>进阶；<a href="https://www.cnblogs.com/fcc-123/p/10942883.html">https://www.cnblogs.com/fcc-123/p/10942883.html</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取网页内容</span></span><br><span class="line">url=driver.current_url</span><br><span class="line">opener = urllib.request.build_opener()</span><br><span class="line">content = opener.<span class="built_in">open</span>(url).read().decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br></pre></td></tr></table></figure><p>自动刷新</p><p><a href="https://blog.csdn.net/weixin_43858148/article/details/84727756?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control">https://blog.csdn.net/weixin_43858148/article/details/84727756?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 应该确定文件类型，如test.zip等</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果只给个文件，会出现permission denied的情况</span></span><br><span class="line">urllib.request.urlretrieve(link, path1+ filename+&#x27;.zip&#x27;)</span><br><span class="line">print(&#x27;downloading finished for &#x27;+ filename)</span><br></pre></td></tr></table></figure><h2 id="调用迅雷下载"><a href="#调用迅雷下载" class="headerlink" title="调用迅雷下载"></a>调用迅雷下载</h2><blockquote><p>调用request下载，速度太慢了，因此修改代码，可以调用迅雷下载。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> win32com.client <span class="keyword">import</span> Dispatch</span><br><span class="line"></span><br><span class="line">thunder = Dispatch(<span class="string">&#x27;ThunderAgent.Agent.1&#x27;</span>)</span><br><span class="line">url = <span class="string">&quot;ftp://ygdy8:ygdy8@yg39.dydytt.net:3010&quot;</span> \</span><br><span class="line">      <span class="string">&quot;/阳光电影www.ygdy8.com.追龙番外之十亿探长&quot;</span> \</span><br><span class="line">      <span class="string">&quot;.HD.1080p.国语中字.mkv&quot;</span></span><br><span class="line">filename = <span class="string">&quot;追龙番外之十亿探长.mkv&quot;</span></span><br><span class="line">thunder.AddTask(url, filename, <span class="string">r&quot;C:\迅雷下载&quot;</span>)</span><br><span class="line">thunder.CommitTasks()</span><br><span class="line">print(<span class="string">&quot;任务已建立，开始下载：&#123;&#125;....&quot;</span>.<span class="built_in">format</span>(filename))</span><br></pre></td></tr></table></figure><p>参考链接：<a href="https://www.jb51.net/article/178283.htm">https://www.jb51.net/article/178283.htm</a></p><h1 id="补充知识"><a href="#补充知识" class="headerlink" title="补充知识"></a>补充知识</h1><h3 id="python字符串前缀的知识："><a href="#python字符串前缀的知识：" class="headerlink" title="python字符串前缀的知识："></a>python字符串前缀的知识：</h3><p>1、在字符串前加上r或R表示该字符串是非转义的原始字符串。</p><blockquote><p>这个对路径这种斜杆比较有用</p></blockquote><p>2、在字符串前加上u或U表示该字符串是unicode字符串</p><p>如果遇到提取中文的问题，可以加上 <code>encoding=&#39;utf-8&#39;</code>来解决。</p><h2 id="补充阅读"><a href="#补充阅读" class="headerlink" title="补充阅读"></a>补充阅读</h2><ul><li><a href="https://www.jianshu.com/p/cfbdacbeac6e">基础篇-Python的urllib库</a></li></ul><p>beautiful soup ()</p><blockquote><p>官网介绍： <strong>Beautiful Soup</strong> 是一个可以从 <strong>HTML</strong> 或 <strong>XML</strong> 文件中提取数据的 <strong>Python</strong> 库.它能够通过你喜欢的转换器实现惯用的文档导航,查找,修改文档的方式.<strong>Beautiful Soup</strong> 会帮你节省数小时甚至数天的工作时间.</p></blockquote><p><a href="https://www.jianshu.com/p/2b783f7914c6">https://www.jianshu.com/p/2b783f7914c6</a></p><p>获取当前网页的链接</p><p><a href="https://www.jb51.net/article/162915.htm">https://www.jb51.net/article/162915.htm</a></p><p>找到填空项，填写</p><p><a href="https://my.oschina.net/u/3314358/blog/1834873">https://my.oschina.net/u/3314358/blog/1834873</a></p><p>下拉项</p><p><a href="https://blog.csdn.net/Claire_chen_jia/article/details/106523131">https://blog.csdn.net/Claire_chen_jia/article/details/106523131</a></p><p>定位的几种方式</p><p><a href="https://www.cnblogs.com/minieye/p/5803640.html">https://www.cnblogs.com/minieye/p/5803640.html</a></p><p><a href="https://www.jianshu.com/p/81ce4bf0d0c0">https://www.jianshu.com/p/81ce4bf0d0c0</a></p><p><a href="https://www.cnblogs.com/c-x-a/p/9195644.html">https://www.cnblogs.com/c-x-a/p/9195644.html</a></p><p>xpath定位（webdriver定位方式是遍历，所以速度没有xpath的快）</p><p><a href="https://blog.csdn.net/sss650216/article/details/88946305">https://blog.csdn.net/sss650216/article/details/88946305</a></p><p>有用的xpath的例子</p><p><a href="https://blog.csdn.net/u014663232/article/details/103462652">https://blog.csdn.net/u014663232/article/details/103462652</a></p><p>python 爬虫的几种方法：</p><p><a href="https://zhuanlan.zhihu.com/p/47035491">https://zhuanlan.zhihu.com/p/47035491</a></p><p>自动下载文件</p><p><a href="https://zhuanlan.zhihu.com/p/62876301">https://zhuanlan.zhihu.com/p/62876301</a></p><p><a href="https://blog.csdn.net/qq_19408603/article/details/77413914">https://blog.csdn.net/qq_19408603/article/details/77413914</a></p><p><a href="https://zhuanlan.zhihu.com/p/65474873">https://zhuanlan.zhihu.com/p/65474873</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://zhuanlan.zhihu.com/p/65474873">https://zhuanlan.zhihu.com/p/65474873</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HSPLIT_教程</title>
      <link href="2021/03/30/TrajectoryModel/hysplit-%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/"/>
      <url>2021/03/30/TrajectoryModel/hysplit-%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<img src="/2021/03/30/TrajectoryModel/hysplit-%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/image-20210417201426732.png" alt="image-20210417201426732" style="zoom:50%;"><blockquote><p>没想到这个批量下载的操作捣鼓了半天，这里做个记录</p></blockquote><h1 id="RDA网址气象数据下载"><a href="#RDA网址气象数据下载" class="headerlink" title="RDA网址气象数据下载"></a>RDA网址气象数据下载</h1><h2 id="wget-批量下载"><a href="#wget-批量下载" class="headerlink" title="wget 批量下载"></a>wget 批量下载</h2><p>我使用的是wget的windows脚本</p><img src="/2021/03/30/TrajectoryModel/hysplit-%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/image-20210330192358221.png" class title="image-20210330192358221"><p>wget 是Linux常用的下载工具，可以通过HTTP和FTP协议（两种最广泛的互联网协议）从因特网中检索并获取文件。windows下载见项目主页：<a href="https://link.zhihu.com/?target=https://eternallybored.org/misc/wget/">Windows binaries of GNU Wget</a></p><blockquote><p>注意要将wget文件添加到系统环境，之后还要重启cmd。</p></blockquote><p>最后在cmd中运行RDA网址提供的脚本即可，不需要做改动（除了把密码填上去之外）</p><h3 id="python批量下载"><a href="#python批量下载" class="headerlink" title="python批量下载"></a>python批量下载</h3><p>关于python的代码下载，需要注意的是RDA网址给的是python2的版本，需要结合python3进行适当调整。 </p><blockquote><p>修改后貌似还是不能下载数据，日后有时间再研究，目前发现的问题是抬头需要如下修改: </p></blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import urllib.request</span><br><span class="line">import http.cookiejar</span><br></pre></td></tr></table></figure><p>另一个气象数据下载地址<a href="https://cds.climate.copernicus.eu/toolbox/doc/api.html"><strong>Climate Data Store</strong>(CDS)</a></p><blockquote><p>我使用API下载</p><p>The <strong>Climate Data Store Application Program Interface</strong> (CDS API) is a service providing programmatic access to CDS data. </p></blockquote><p>先根据教程安装CDS API (<a href="https://cds.climate.copernicus.eu/api-how-to">https://cds.climate.copernicus.eu/api-how-to</a>)</p><blockquote><p>每次下载都要同意<strong>Terms of Use</strong>后才能成功下载。使用anaconda/cmd调用python文件，要先加python</p></blockquote><blockquote><p> PC版本hysplit的GUI里面虽然有显示气象格式转换的选项，但是并不能使用(官网教程也有说明：<a href="https://www.bilibili.com/video/BV1ct411J7vE?p=3">https://www.bilibili.com/video/BV1ct411J7vE?p=3</a>)</p></blockquote><p>Hysplit官方推荐不要自己</p><p>hysplit 提供了fortran的脚本进行气象数据的转换。</p><blockquote><p>使用vs code 对Fortran脚本进行调试</p></blockquote><p>如何使用vs code 进行Fortran开发，这里不做赘述，直接贴我参考的链接：</p><p><a href="https://www.jianshu.com/p/98e16631c852">https://www.jianshu.com/p/98e16631c852</a></p><blockquote><p>注意launch.json，tasks.json 是启动调试的关键，调试时是用GDB执行*.exe文件。所以需要先编译，才能调试。</p></blockquote><p>Google发现了一个参考样例（ERA5 reanalysis)，详情见<a href="https://github.com/amcz/hysplit_metdata">amcz Github 页面</a>。</p><p>需要先设定API （见另一博客：NCL_气象数据下载）</p><p>先运行example文档，看下是否能用。试着先运行下example_small_area的脚本，下载的数据会小点。（速度比较ok，基本保持在1M/s左右）</p><blockquote><p> 注意，<code>.sh</code>后缀是shell的脚本（一般为linux)。windows上cmd是不能运行的，须使用Git进行运行。</p></blockquote><blockquote><p>并不很好的运行</p></blockquote><blockquote><p>Originally,  other conversion programs, that rely upon the subroutines in the<br>hysplit library, were in the source directory, however these have been<br>moved to the legacy subdirectory, including the sample program<br>dat2arl.f.  </p></blockquote><p>这里有一个最后的办法下载数据</p><p><a href="https://www.ready.noaa.gov/ready2-bin/extract/results.pl?proc=28270">https://www.ready.noaa.gov/ready2-bin/extract/results.pl?proc=28270</a></p><h2 id="气象数据"><a href="#气象数据" class="headerlink" title="气象数据"></a>气象数据</h2><h3 id="下载资源"><a href="#下载资源" class="headerlink" title="下载资源"></a>下载资源</h3><blockquote><p>由于网速（？）问题，GUI和bash中的FTP下载都不能成功</p></blockquote><p>必须包含的几个变量</p><blockquote><p>Data may be obtained from any source, however there are certain minimum data requirements to run the model: surface pressure or terrain height, u-v wind components, temperature, and moisture (RELH or SPHU). In addition, precipitation is required for wet removal calculations. Not required, but certainly necessary to improve vertical mixing calculations, would be some measure of low-level stability. This may take the form of a near-surface wind and temperature or the fluxes of heat and momentum. </p></blockquote><h3 id="气象数据的转换"><a href="#气象数据的转换" class="headerlink" title="气象数据的转换"></a>气象数据的转换</h3><p>需要对下载的气象数据做一个转换。</p><blockquote><p>相当麻烦</p></blockquote><p>Hysplit官网上有个ready网页，可以从那里提取需要的数据。但是需要每次人为的按钮选择。可以写个python的爬虫脚本进行自动下载。</p><blockquote><p>我是通过Python脚本自动下载。网速可能会受限。（国内早上貌似下载速度快）</p><p>主要注意的一点是，这里的空间范围是[-180 180]。但是由于NCEP的数据范围是[0 357.5]，实际对应的应该是[-180 177.5]。要注意空间范围的取值，否则最后下载的数据不正确。</p><p>可以根据最后的下载页面进行check，提取的面积是否是正确的。</p></blockquote><img src="/2021/03/30/TrajectoryModel/hysplit-%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/image-20210403142729475.png" alt="image-20210403142729475" style="zoom:50%;"><h1 id="Hysplit气象数据介绍"><a href="#Hysplit气象数据介绍" class="headerlink" title="Hysplit气象数据介绍"></a>Hysplit气象数据介绍</h1><p>The first digit indicates if it is a surface (or single) level variable (S) or an upper level variable (U). The second digit indicates the order in which that variable appears in the file.</p><p>NCEP是2.5x2.5的数据，</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> Pressure Level Data</span><br><span class="line">2.5 degree latitude-longitude global grid</span><br><span class="line">144x73 points from 90N-90S, 0E-357.5E </span><br><span class="line">1/1/1948 - present with output every 6 hours </span><br><span class="line">Levels (hPa): 1000,925,850,700,600,500,400,300,250,200,</span><br><span class="line">                     150,100,70,50,30,20,10 </span><br><span class="line">Surface or near the surface (.995 sigma level) winds and temperature </span><br><span class="line">Sfc Variables:         5 PRSS T02M U10M V10M TPP6</span><br><span class="line">Upper Levels:          6 HGTS TEMP UWND VWND WWND RELH</span><br></pre></td></tr></table></figure><p>下面是Hysplit GUI check file中显示的1971年1月份的NCEP的数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">METEOROLOGICAL DATA LISTING ...</span><br><span class="line"> Enter meteorological directory ...</span><br><span class="line"> Enter meteorological file name ...</span><br><span class="line"> </span><br><span class="line">    File start time:   <span class="number">71</span>    <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">   File ending time:   <span class="number">71</span>    <span class="number">1</span>   <span class="number">31</span>   <span class="number">18</span>    <span class="number">0</span> <span class="comment"># 结束时间是18，因为是6小时一个数据</span></span><br><span class="line"> </span><br><span class="line">Last record number :<span class="number">11656</span></span><br><span class="line">Record length <span class="built_in">bytes</span>:   <span class="number">10562</span></span><br><span class="line">Meteo data model   : CDC1</span><br><span class="line"> Grid size x,y,z   :  <span class="number">144</span>   <span class="number">73</span>   <span class="number">18</span></span><br><span class="line">Vertical coordinate:    <span class="number">2</span></span><br><span class="line">First forecast hour:    <span class="number">0</span></span><br><span class="line">Last forecast hour :    <span class="number">0</span></span><br><span class="line">Records per time   :   <span class="number">94</span></span><br><span class="line">Minutes between    :  <span class="number">360</span> <span class="comment"># 每6个小时</span></span><br><span class="line"> </span><br><span class="line">  Pole pnt lat/lon :   <span class="number">90.0000</span>  <span class="number">537.5000</span></span><br><span class="line">  Reference lat/lon:    <span class="number">2.5000</span>    <span class="number">2.5000</span></span><br><span class="line"> Grid size (km)    :  <span class="number">277.9961</span> <span class="comment"># 平均长度</span></span><br><span class="line"> Orientation       :    <span class="number">0.0000</span></span><br><span class="line"> Tang Lat / Cone   :    <span class="number">0.0000</span></span><br><span class="line">  Synch pnt x,y    :    <span class="number">1.0000</span>    <span class="number">1.0000</span></span><br><span class="line">  Synch pnt lat/lon:  -<span class="number">90.0000</span>  <span class="number">180.0000</span></span><br><span class="line"> </span><br><span class="line">Global meteorology grid</span><br><span class="line"> </span><br><span class="line"> <span class="comment"># 第三列表示有几个变量，HGTS，</span></span><br><span class="line">  <span class="number">18</span>    <span class="number">10.0000</span>  <span class="number">4</span>   HGTS <span class="number">158</span>  TEMP <span class="number">226</span>  UWND  <span class="number">96</span>  VWND <span class="number">122</span></span><br><span class="line">  <span class="number">17</span>    <span class="number">20.0000</span>  <span class="number">4</span>   HGTS  <span class="number">76</span>  TEMP <span class="number">169</span>  UWND <span class="number">101</span>  VWND <span class="number">196</span></span><br><span class="line">  <span class="number">16</span>    <span class="number">30.0000</span>  <span class="number">4</span>   HGTS  <span class="number">52</span>  TEMP  <span class="number">98</span>  UWND  <span class="number">92</span>  VWND  <span class="number">47</span></span><br><span class="line">  <span class="number">15</span>    <span class="number">50.0000</span>  <span class="number">4</span>   HGTS <span class="number">125</span>  TEMP <span class="number">234</span>  UWND <span class="number">187</span>  VWND  <span class="number">38</span></span><br><span class="line">  <span class="number">14</span>    <span class="number">70.0000</span>  <span class="number">4</span>   HGTS <span class="number">187</span>  TEMP <span class="number">111</span>  UWND <span class="number">126</span>  VWND  <span class="number">96</span></span><br><span class="line">  <span class="number">13</span>   <span class="number">100.0000</span>  <span class="number">5</span>   HGTS   <span class="number">4</span>  TEMP <span class="number">159</span>  UWND <span class="number">166</span>  VWND  <span class="number">23</span>  WWND <span class="number">109</span></span><br><span class="line">  <span class="number">12</span>   <span class="number">150.0000</span>  <span class="number">5</span>   HGTS <span class="number">127</span>  TEMP <span class="number">235</span>  UWND <span class="number">250</span>  VWND <span class="number">206</span>  WWND <span class="number">238</span></span><br><span class="line">  <span class="number">11</span>   <span class="number">200.0000</span>  <span class="number">5</span>   HGTS <span class="number">139</span>  TEMP  <span class="number">70</span>  UWND <span class="number">241</span>  VWND <span class="number">211</span>  WWND  <span class="number">92</span></span><br><span class="line">  <span class="number">10</span>   <span class="number">250.0000</span>  <span class="number">5</span>   HGTS <span class="number">203</span>  TEMP  <span class="number">38</span>  UWND <span class="number">186</span>  VWND  <span class="number">52</span>  WWND <span class="number">195</span></span><br><span class="line">   <span class="number">9</span>   <span class="number">300.0000</span>  <span class="number">6</span>   HGTS <span class="number">211</span>  TEMP <span class="number">108</span>  UWND <span class="number">244</span>  VWND  <span class="number">36</span>  WWND <span class="number">109</span>  RELH <span class="number">102</span></span><br><span class="line">   <span class="number">8</span>   <span class="number">400.0000</span>  <span class="number">6</span>   HGTS <span class="number">111</span>  TEMP  <span class="number">89</span>  UWND  <span class="number">72</span>  VWND <span class="number">121</span>  WWND  <span class="number">64</span>  RELH <span class="number">145</span></span><br><span class="line">   <span class="number">7</span>   <span class="number">500.0000</span>  <span class="number">6</span>   HGTS  <span class="number">39</span>  TEMP  <span class="number">58</span>  UWND <span class="number">105</span>  VWND <span class="number">163</span>  WWND <span class="number">210</span>  RELH  <span class="number">71</span></span><br><span class="line">   <span class="number">6</span>   <span class="number">600.0000</span>  <span class="number">6</span>   HGTS  <span class="number">12</span>  TEMP <span class="number">239</span>  UWND <span class="number">165</span>  VWND  <span class="number">93</span>  WWND <span class="number">237</span>  RELH  <span class="number">73</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">700.0000</span>  <span class="number">6</span>   HGTS <span class="number">246</span>  TEMP <span class="number">126</span>  UWND  <span class="number">86</span>  VWND <span class="number">102</span>  WWND <span class="number">190</span>  RELH <span class="number">105</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">850.0000</span>  <span class="number">6</span>   HGTS  <span class="number">30</span>  TEMP <span class="number">206</span>  UWND <span class="number">201</span>  VWND   <span class="number">2</span>  WWND  <span class="number">25</span>  RELH <span class="number">152</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">925.0000</span>  <span class="number">6</span>   HGTS <span class="number">178</span>  TEMP <span class="number">102</span>  UWND   <span class="number">4</span>  VWND <span class="number">252</span>  WWND <span class="number">165</span>  RELH   <span class="number">2</span></span><br><span class="line">   <span class="number">2</span>  <span class="number">1000.0000</span>  <span class="number">6</span>   HGTS <span class="number">198</span>  TEMP <span class="number">209</span>  UWND <span class="number">235</span>  VWND  <span class="number">35</span>  WWND <span class="number">223</span>  RELH  <span class="number">44</span></span><br><span class="line">   <span class="number">1</span>     <span class="number">0.0000</span>  <span class="number">5</span>   PRSS <span class="number">229</span>  T02M  <span class="number">88</span>  U10M <span class="number">113</span>  V10M  <span class="number">58</span>  TPP6  <span class="number">19</span></span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="GDAS-ARCHIVE-OVERVIEW"><a href="#GDAS-ARCHIVE-OVERVIEW" class="headerlink" title="GDAS ARCHIVE OVERVIEW"></a>GDAS ARCHIVE OVERVIEW</h3><p>GDAS简称是Global Data Assimilation System，是NCEP预报模型的产物，每7天一个数据集，一个月包含5个数据集。注意二月份只有4个数据集，除了闰年的2月份以外。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#=1 - days 1-7</span><br><span class="line">#=2 - days 8-14</span><br><span class="line">#=3 - days 15-21</span><br><span class="line">#=4 - days 22-28</span><br><span class="line">#=5 - days 29 - rest of the month</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">METEOROLOGICAL DATA LISTING ...</span><br><span class="line"> Enter meteorological directory ...</span><br><span class="line"> Enter meteorological file name ...</span><br><span class="line"> </span><br><span class="line">    File start time:    <span class="number">7</span>    <span class="number">3</span>   <span class="number">22</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">   File ending time:    <span class="number">7</span>    <span class="number">3</span>   <span class="number">28</span>   <span class="number">21</span>    <span class="number">0</span> <span class="comment"># 时间结束为21小时，因为是3小时数据</span></span><br><span class="line"> </span><br><span class="line">Last record number : <span class="number">9184</span></span><br><span class="line">Record length <span class="built_in">bytes</span>:   <span class="number">65210</span></span><br><span class="line">Meteo data model   : GDAS</span><br><span class="line"> Grid size x,y,z   :  <span class="number">360</span>  <span class="number">181</span>   <span class="number">24</span></span><br><span class="line">Vertical coordinate:    <span class="number">2</span></span><br><span class="line">First forecast hour:    <span class="number">0</span></span><br><span class="line">Last forecast hour :    <span class="number">3</span></span><br><span class="line">Records per time   :  <span class="number">164</span></span><br><span class="line">Minutes between    :  <span class="number">180</span> <span class="comment"># 确实是每3小时一个数据</span></span><br><span class="line"> </span><br><span class="line">  Pole pnt lat/lon :   <span class="number">90.0000</span>  <span class="number">359.0000</span></span><br><span class="line">  Reference lat/lon:    <span class="number">1.0000</span>    <span class="number">1.0000</span></span><br><span class="line"> Grid size (km)    :  <span class="number">111.1984</span></span><br><span class="line"> Orientation       :    <span class="number">0.0000</span></span><br><span class="line"> Tang Lat / Cone   :    <span class="number">0.0000</span></span><br><span class="line">  Synch pnt x,y    :    <span class="number">1.0000</span>    <span class="number">1.0000</span></span><br><span class="line">  Synch pnt lat/lon:  -<span class="number">90.0000</span>    <span class="number">0.0000</span></span><br><span class="line"> </span><br><span class="line">Global meteorology grid</span><br><span class="line"> </span><br><span class="line">  <span class="number">24</span>    <span class="number">20.0000</span>  <span class="number">4</span>   HGTS  <span class="number">72</span>  TEMP  <span class="number">39</span>  UWND <span class="number">175</span>  VWND <span class="number">210</span></span><br><span class="line">  <span class="number">23</span>    <span class="number">50.0000</span>  <span class="number">4</span>   HGTS <span class="number">151</span>  TEMP <span class="number">245</span>  UWND  <span class="number">13</span>  VWND <span class="number">112</span></span><br><span class="line">  <span class="number">22</span>   <span class="number">100.0000</span>  <span class="number">6</span>   HGTS  <span class="number">65</span>  TEMP <span class="number">125</span>  UWND  <span class="number">78</span>  VWND <span class="number">157</span>  WWND  <span class="number">65</span>  RELH <span class="number">202</span></span><br><span class="line">  <span class="number">21</span>   <span class="number">150.0000</span>  <span class="number">6</span>   HGTS <span class="number">119</span>  TEMP <span class="number">163</span>  UWND <span class="number">203</span>  VWND  <span class="number">20</span>  WWND  <span class="number">69</span>  RELH <span class="number">123</span></span><br><span class="line">  <span class="number">20</span>   <span class="number">200.0000</span>  <span class="number">6</span>   HGTS <span class="number">179</span>  TEMP <span class="number">106</span>  UWND  <span class="number">80</span>  VWND <span class="number">191</span>  WWND  <span class="number">48</span>  RELH  <span class="number">79</span></span><br><span class="line">  <span class="number">19</span>   <span class="number">250.0000</span>  <span class="number">6</span>   HGTS  <span class="number">34</span>  TEMP  <span class="number">31</span>  UWND <span class="number">187</span>  VWND <span class="number">238</span>  WWND  <span class="number">79</span>  RELH  <span class="number">77</span></span><br><span class="line">  <span class="number">18</span>   <span class="number">300.0000</span>  <span class="number">6</span>   HGTS  <span class="number">15</span>  TEMP  <span class="number">17</span>  UWND <span class="number">107</span>  VWND  <span class="number">18</span>  WWND <span class="number">104</span>  RELH <span class="number">146</span></span><br><span class="line">  <span class="number">17</span>   <span class="number">350.0000</span>  <span class="number">6</span>   HGTS <span class="number">144</span>  TEMP <span class="number">130</span>  UWND  <span class="number">76</span>  VWND <span class="number">221</span>  WWND <span class="number">125</span>  RELH <span class="number">216</span></span><br><span class="line">  <span class="number">16</span>   <span class="number">400.0000</span>  <span class="number">6</span>   HGTS <span class="number">252</span>  TEMP <span class="number">149</span>  UWND   <span class="number">5</span>  VWND <span class="number">196</span>  WWND <span class="number">171</span>  RELH <span class="number">172</span></span><br><span class="line">  <span class="number">15</span>   <span class="number">450.0000</span>  <span class="number">6</span>   HGTS <span class="number">122</span>  TEMP <span class="number">160</span>  UWND <span class="number">118</span>  VWND <span class="number">138</span>  WWND <span class="number">175</span>  RELH <span class="number">195</span></span><br><span class="line">  <span class="number">14</span>   <span class="number">500.0000</span>  <span class="number">6</span>   HGTS <span class="number">176</span>  TEMP <span class="number">195</span>  UWND  <span class="number">24</span>  VWND  <span class="number">89</span>  WWND <span class="number">195</span>  RELH <span class="number">129</span></span><br><span class="line">  <span class="number">13</span>   <span class="number">550.0000</span>  <span class="number">6</span>   HGTS <span class="number">238</span>  TEMP <span class="number">211</span>  UWND <span class="number">237</span>  VWND  <span class="number">65</span>  WWND <span class="number">169</span>  RELH  <span class="number">42</span></span><br><span class="line">  <span class="number">12</span>   <span class="number">600.0000</span>  <span class="number">6</span>   HGTS <span class="number">135</span>  TEMP  <span class="number">16</span>  UWND <span class="number">226</span>  VWND <span class="number">164</span>  WWND <span class="number">102</span>  RELH  <span class="number">79</span></span><br><span class="line">  <span class="number">11</span>   <span class="number">650.0000</span>  <span class="number">6</span>   HGTS  <span class="number">52</span>  TEMP <span class="number">179</span>  UWND <span class="number">182</span>  VWND  <span class="number">36</span>  WWND  <span class="number">51</span>  RELH <span class="number">116</span></span><br><span class="line">  <span class="number">10</span>   <span class="number">700.0000</span>  <span class="number">6</span>   HGTS   <span class="number">8</span>  TEMP <span class="number">119</span>  UWND <span class="number">157</span>  VWND <span class="number">215</span>  WWND  <span class="number">17</span>  RELH <span class="number">216</span></span><br><span class="line">   <span class="number">9</span>   <span class="number">750.0000</span>  <span class="number">6</span>   HGTS  <span class="number">52</span>  TEMP <span class="number">112</span>  UWND <span class="number">125</span>  VWND  <span class="number">89</span>  WWND  <span class="number">22</span>  RELH <span class="number">174</span></span><br><span class="line">   <span class="number">8</span>   <span class="number">800.0000</span>  <span class="number">6</span>   HGTS  <span class="number">12</span>  TEMP  <span class="number">59</span>  UWND  <span class="number">17</span>  VWND <span class="number">238</span>  WWND <span class="number">244</span>  RELH  <span class="number">86</span></span><br><span class="line">   <span class="number">7</span>   <span class="number">850.0000</span>  <span class="number">6</span>   HGTS  <span class="number">26</span>  TEMP  <span class="number">47</span>  UWND  <span class="number">41</span>  VWND <span class="number">129</span>  WWND <span class="number">251</span>  RELH <span class="number">134</span></span><br><span class="line">   <span class="number">6</span>   <span class="number">900.0000</span>  <span class="number">6</span>   HGTS  <span class="number">27</span>  TEMP <span class="number">193</span>  UWND <span class="number">111</span>  VWND <span class="number">142</span>  WWND  <span class="number">17</span>  RELH <span class="number">131</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">925.0000</span>  <span class="number">6</span>   HGTS  <span class="number">56</span>  TEMP  <span class="number">86</span>  UWND <span class="number">147</span>  VWND <span class="number">201</span>  WWND <span class="number">169</span>  RELH <span class="number">148</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">950.0000</span>  <span class="number">6</span>   HGTS  <span class="number">66</span>  TEMP <span class="number">253</span>  UWND <span class="number">100</span>  VWND <span class="number">188</span>  WWND  <span class="number">45</span>  RELH <span class="number">180</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">975.0000</span>  <span class="number">6</span>   HGTS <span class="number">108</span>  TEMP <span class="number">253</span>  UWND <span class="number">245</span>  VWND <span class="number">189</span>  WWND  <span class="number">43</span>  RELH <span class="number">146</span></span><br><span class="line">   <span class="number">2</span>  <span class="number">1000.0000</span>  <span class="number">6</span>   HGTS <span class="number">120</span>  TEMP <span class="number">160</span>  UWND <span class="number">202</span>  VWND <span class="number">153</span>  WWND <span class="number">217</span>  RELH <span class="number">164</span></span><br><span class="line">   <span class="number">1</span>     <span class="number">0.0000</span> <span class="number">29</span>   PRSS <span class="number">113</span>  MSLP  <span class="number">83</span>  TPP6   <span class="number">0</span>  UMOF   <span class="number">0</span>  VMOF   <span class="number">0</span>  SHTF   <span class="number">0</span></span><br></pre></td></tr></table></figure><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> TrajectoryModel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HSPLIT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab_读取不同的文件</title>
      <link href="2021/03/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E8%AF%BB%E5%8F%96%E4%B8%8D%E5%90%8C%E7%9A%84%E6%96%87%E4%BB%B6/"/>
      <url>2021/03/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E8%AF%BB%E5%8F%96%E4%B8%8D%E5%90%8C%E7%9A%84%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/qq_42272539/article/details/93714169?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-7.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-7.control">https://blog.csdn.net/qq_42272539/article/details/93714169?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-7.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-7.control</a></p><h1 id="Matlab文件夹、文件、读取操作（汇总）"><a href="#Matlab文件夹、文件、读取操作（汇总）" class="headerlink" title="Matlab文件夹、文件、读取操作（汇总）"></a>Matlab文件夹、文件、读取操作（汇总）</h1><p><a href="https://www.jianshu.com/p/a56de74054e2">https://www.jianshu.com/p/a56de74054e2</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>气旋及反气旋</title>
      <link href="2021/03/27/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/"/>
      <url>2021/03/27/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<p>q气旋反气旋</p><p>气旋统一</p><img src="/2021/03/27/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/shutterstock-392275552.jpg" alt="A diagram showing the difference between a cyclone and an anticyclone. " style="zoom:50%;"><p>在近地面，反气旋在北半球作顺时针旋转（clockwise)，在南半球做逆时针旋转(anti-clockwise)。</p><p>反气旋对应的是高压（空气下降），无云少降水（下沉气流不容易形成水汽）；气旋对应的是低压（空气上升），多云多降水（上升气流，遇冷形成雨滴）</p><p>年代际变化(decadal variations)，指的是十年以上的尺度。<br>年际变化 (inter-annual variations)，准两年振荡（2-3年周期）、5-8年周期都是很常用的。提问者熟悉的那个ENSO就是2-8年的年际变化。<br>年内变化 （seasonal variations)，如干湿季、四季都属于这个范畴。<br>更低的还有季节内变化，月变化，准两周，等等等等，天气预报常用的尺度。</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 气象学基础 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>个人研究介绍</title>
      <link href="2021/03/25/%E4%B8%AA%E4%BA%BA%E7%A0%94%E7%A9%B6%E4%BB%8B%E7%BB%8D/"/>
      <url>2021/03/25/%E4%B8%AA%E4%BA%BA%E7%A0%94%E7%A9%B6%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Matlab_微分方程</title>
      <link href="2021/03/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3/"/>
      <url>2021/03/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>Matlab 中计算的函数</p><p>l 一般使用ode45来求解</p><p>结合我的项目，是带有时变参数的公式，即</p><p>​           <img src="/2021/03/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3/image-20210325155320616.png" class title="image-20210325155320616">                    </p><h2 id="求解微分方程"><a href="#求解微分方程" class="headerlink" title="求解微分方程"></a>求解微分方程</h2><blockquote><p>包括解析解和数值解</p></blockquote><p>##微分方程的数值解</p><p>需要设定初值条件和边界值</p><h2 id="微分方程的解析解"><a href="#微分方程的解析解" class="headerlink" title="微分方程的解析解"></a>微分方程的解析解</h2><p>使用dsolve函数，例如</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">syms F(t) S <span class="comment">% 确定变量</span></span><br><span class="line">eqn=diff(F,t)==S-F/<span class="number">4</span>; <span class="comment">% 微分方程</span></span><br><span class="line">dsolve(eqn) <span class="comment">% 解析解</span></span><br></pre></td></tr></table></figure><p>实例分析：</p><p>这里以Be7论文中的Box-model进行实例分析</p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
            <tag> 微分方程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第四纪环境重构_笔记_第一章</title>
      <link href="2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0_%E7%AC%AC%E4%B8%80%E7%AB%A0/"/>
      <url>2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0_%E7%AC%AC%E4%B8%80%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>每天花费1小时，快速的将《第四纪环境重构》这本书再过一遍。</p></blockquote><p>阅读至43页</p><blockquote><p>正常来讲，MIS单数是间冰期，偶数是冰期；但是也有例外，比如说MIS3，并不被认为是间冰期</p></blockquote><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://c14.arch.ox.ac.uk/dating.html">https://c14.arch.ox.ac.uk/dating.html</a></li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> 文献阅读笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 第四纪环境 </tag>
            
            <tag> 书籍笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第四纪环境重构_笔记第五章_定年方法</title>
      <link href="2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/"/>
      <url>2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>总结：</p><p>C14 定年的软件（softwar): <a href="https://c14.arch.ox.ac.uk/oxcal.html">https://c14.arch.ox.ac.uk/oxcal.html</a></p></blockquote><blockquote><p>C14的步骤</p><ul><li>显示利用半衰期计算C14的年龄</li><li>由于C14年份和实际年份具有差异性，因此需要根据calibrated curve进行校对</li><li>将同一地区不同时间段的C14数据进行整合（利用波动匹配wiggle match或者Bayesian-based statistical method)</li></ul><p>wiggle-match/Bayesian mehtod （待补充学习）</p></blockquote><h2 id="下图整理了所有的第四纪定年方法"><a href="#下图整理了所有的第四纪定年方法" class="headerlink" title="下图整理了所有的第四纪定年方法"></a>下图整理了所有的第四纪定年方法</h2><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210324194500673.png" alt="image-20210324194500673" style="zoom:67%;"><h2 id="正确度（accurate）和精确度（precise）的区别"><a href="#正确度（accurate）和精确度（precise）的区别" class="headerlink" title="正确度（accurate）和精确度（precise）的区别"></a>正确度（accurate）和精确度（precise）的区别</h2><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210324194843449.png" alt="image-20210324194843449" style="zoom:50%;"><h2 id="半衰期和衰变常数的关系"><a href="#半衰期和衰变常数的关系" class="headerlink" title="半衰期和衰变常数的关系"></a>半衰期和衰变常数的关系</h2><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210324195131246.png" class title="image-20210324195131246"><h1 id="C14-定年"><a href="#C14-定年" class="headerlink" title="C14 定年"></a>C14 定年</h1><h2 id="C14定年原理"><a href="#C14定年原理" class="headerlink" title="C14定年原理"></a>C14定年原理</h2><p>生物死去之后，稳定碳（C12）和放射性碳（C14)会成比例递减，递减规律符合放射性衰变定律：</p><blockquote><p>Once an organism dies the carbon is no longer replaced. Because the radiocarbon is radioactive, it will slowly decay away. Obviously there will usually be a loss of stable carbon too but the proportion of radiocarbon to stable carbon will reduce according to the exponential decay law:<br>    R = A exp(-T/8033)</p><p>where R is 14C/12C ratio in the sample, A is the original 14C/12C ratio of the living organism and T is the amount of time that has passed since the death of the organism. 1/8033是衰减常数（ln(2)/半衰期）<br>By measuring the ratio, R, in a sample we can then calculate the age of the sample:<br>    T = -8033 ln(R/A)</p></blockquote><p>定年的不确定性</p><ul><li><p>半衰期问题</p></li><li><p>大气C14浓度的变化（IntCal curve)</p></li><li><p>污染问题：采样地点周边的污染，预处理有可能引入污染</p></li></ul><p>因为14C的<a href="https://zh.wikipedia.iwiki.eu.org/wiki/%E5%8D%8A%E8%A1%B0%E6%9C%9F">半衰期</a>（一个样本的一半衰变的时间周期）大约是5730年，所以这种方法可以可靠地测量的最古老的样本大约是五万年左右，不过特殊的制备方法有时可以准确分析更古老的样本。</p><h2 id="半衰期问题"><a href="#半衰期问题" class="headerlink" title="半衰期问题"></a>半衰期问题</h2><p>刚开始C14的半衰期为5568年左右，后面研究发现C14的半衰期应为5730年左右。</p><p>但是由于之前已经有大量发表数据使用就的半衰期（5568年）进行计算，因此为了保持一致，现在根据C14计算年份还是使用5568年，BP还是表示before1950 AD。</p><p>注意，C14年龄并不是监测得出的，而是通过衰变定律计算得到的。根据衰变曲线，C14浓度中相同的标准差有可能变为不同的年龄误差（如下图）。</p><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210324200351491.png" class title="image-20210324200351491"><h2 id="C14年龄的校对（IntCal-calibration-curve"><a href="#C14年龄的校对（IntCal-calibration-curve" class="headerlink" title="C14年龄的校对（IntCal calibration curve)"></a>C14年龄的校对（IntCal calibration curve)</h2><p>大气中C14浓度的变化，导致计算得出的C14年份跟实际年份有偏差，见图5.8。</p><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210324215238987.png" alt="image-20210324215238987" style="zoom: 50%;"><p>因此需要根据calibration曲线进行校对。根据calibration curve, 曲线越陡，calibrated得到年份误差越小，反之越大（见图5.10）</p><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210324220636023.png" alt="image-20210324220636023" style="zoom: 67%;"><p>两个online program可以用来计算</p><blockquote><p>(IntCal: <a href="http://calib.qub.ac.uk/calib/">http://calib.qub.ac.uk/calib/</a>; Stuiver et al., 2013) and OxCal (Oxford Radiocarbon Accelerator Unit:<br><a href="http://c14.arch.ox.ac.uk/">http://c14.arch.ox.ac.uk/</a>)</p></blockquote><h2 id="Wiggle-match-及Bayesian-based-statistical-method"><a href="#Wiggle-match-及Bayesian-based-statistical-method" class="headerlink" title="Wiggle match 及Bayesian-based statistical method"></a>Wiggle match 及Bayesian-based statistical method</h2><p>如果多个样本的时间间隔如果已知，人们会用这些时间间隔和校准曲线互相比较，以此精准匹配样本的诞生年代。这一过程也被称作“波动匹配”（wiggle-matching），其准确度比对样本单独测算的准确度要高。</p><img src="/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/image-20210326083433744.png" alt="image-20210326083433744" style="zoom:67%;"><h2 id="为啥C14定年可以追溯到6-7万年以前"><a href="#为啥C14定年可以追溯到6-7万年以前" class="headerlink" title="为啥C14定年可以追溯到6-7万年以前"></a>为啥C14定年可以追溯到6-7万年以前</h2><blockquote><p>即使是最老的树也只有几千年 (such as the <a href="https://en.wikipedia.org/wiki/Bristlecone_pine">Bristlecone Pines</a> in the western U.S.A.)。可是发表的C14数据可以追述到几万年？理论上根据C14的半衰期5730年左右，可以定年尺度为半衰期的10倍，即5-6万年左右。</p></blockquote><ul><li>树轮的宽度每年都是不一样的，根据树轮的宽度信息，可以见一个地区死去的树木和或者的数目进行对比，从而拼凑出更长的C14数据。Intcal 曲线的前1.4万年左右是依据这种方法得到的</li></ul><blockquote><p>To extend this method further we must use the fact that tree ring widths vary from year to year with changing weather patterns. By using these widths, it is possible to compare the tree rings in a dead tree to those in a tree that is still growing in the same region. By using dead trees of different but overlapping ages, you can build up a library of tree rings of different calendar ages. This has now been done for <a href="https://en.wikipedia.org/wiki/Bristlecone_pine">Bristlecone Pines</a> in the U.S.A and waterlogged Oaks in Ireland and Germany, and Kauri in New Zealand to provide records extending back over the last 14,000 years.</p></blockquote><p>此后的时间，不一定是根据树轮，而是各种各种沉积物中的C14含量进行，然后根据不同C14和独立的定年样品对比，从而沿伸到过去5-6万年之后。</p><blockquote><p>Beyond the limit of continuous dendrochronological series, calibrations have been based on matched<br>uranium-series (U-series: section 5.3.4) and radiocarbon dates on fossil corals (Fairbanks et al., 2005), radiocarbondated organic material from laminated (i.e. annually accum ulating) marine sediments, and synchronized palaeo - climatic signatures in ice cores and U-series dated cave speleothems (Hughen et al., 2006; Weninger &amp; Jöris, 2008).</p></blockquote><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://c14.arch.ox.ac.uk/dating.html">https://c14.arch.ox.ac.uk/dating.html</a></li><li>Book: Reconstructing Quaternary Environments 5.2-5.3章节</li></ul>]]></content>
      
      
      <categories>
          
          <category> 文献阅读笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 第四纪环境 </tag>
            
            <tag> 书籍笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab_个人经验</title>
      <link href="2021/03/23/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E4%B8%AA%E4%BA%BA%E7%BB%8F%E9%AA%8C1/"/>
      <url>2021/03/23/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E4%B8%AA%E4%BA%BA%E7%BB%8F%E9%AA%8C1/</url>
      
        <content type="html"><![CDATA[<p>图片绘制</p><p>上方留一定空间，保存出图的位置和</p><p>paper中的一些数字，可单独弄个Matlab脚本来进行整合，这样子之后校验的时候比较方便</p><p>用%02d，打印时显示至少两位，前面补零</p><p>时间设定</p><p><a href="https://blog.csdn.net/zzx2016zzx/article/details/99710644">https://blog.csdn.net/zzx2016zzx/article/details/99710644</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
            <tag> 经验 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PDF表格读取问题</title>
      <link href="2021/03/22/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A1%A8%E6%A0%BC%E8%AF%BB%E5%8F%96%E9%97%AE%E9%A2%98/"/>
      <url>2021/03/22/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A1%A8%E6%A0%BC%E8%AF%BB%E5%8F%96%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<blockquote><p>经常会出现要使用到PDF文件中的表格数据的问题，每次都是复制数据然后各种调格式。</p></blockquote><p>goolge之后发现，可以直接将PDF文件保存为excel文件。如果PDF表格本身是文字形式的话，最后excel中的效果很好。</p><blockquote><p>事实证明，多花点钱买个正版Adobe可以省去一些自己折腾的时间。</p></blockquote><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 生活记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PDF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript教程</title>
      <link href="2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/JavaScript%E6%95%99%E7%A8%8B/"/>
      <url>2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/JavaScript%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>起因是想将Hexo的搜索插件的搜索功能从“或”的搜索功能变为“并”的搜索功能。</p><p>了解下Javascript语言，达到能看相关的代码，以及做一些简单的修改。</p></blockquote><p><a href="https://blog.csdn.net/yunmengying/article/details/105755050">https://blog.csdn.net/yunmengying/article/details/105755050</a></p><h1 id="什么是JavaScrit-以及为什么学习它"><a href="#什么是JavaScrit-以及为什么学习它" class="headerlink" title="什么是JavaScrit 以及为什么学习它"></a>什么是JavaScrit 以及为什么学习它</h1><p>JavaScript 是 Web 的编程语言。所有现代的 HTML 页面都使用 JavaScript。</p><p>JavaScript 是 web 开发人员必须学习的 3 门语言中的一门：</p><ol><li><strong>HTML</strong> 定义了网页的内容</li><li><strong>CSS</strong> 描述了网页的布局</li><li><strong>JavaScript</strong> 网页的行为</li></ol><h2 id="JavaScript-用法"><a href="#JavaScript-用法" class="headerlink" title="JavaScript 用法"></a>JavaScript 用法</h2><p>HTML 中的脚本必须位于 <script> 与 </script> 标签之间。</p><p>脚本可被放置在 HTML 页面的 <code>&lt;body&gt;</code> 和 <code>&lt;head&gt;</code> 部分中。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> .</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"> <span class="built_in">document</span>.write(<span class="string">&quot;&lt;h1&gt;这是一个标题&lt;/h1&gt;&quot;</span>); </span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">&quot;&lt;p&gt;这是一个段落&lt;/p&gt;&quot;</span>); </span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JavaScript-变量"><a href="#JavaScript-变量" class="headerlink" title="JavaScript 变量"></a>JavaScript 变量</h2><p>变量可以使用短名称（比如 x 和 y），也可以使用描述性更好的名称（比如 age, sum, totalvolume）。</p><ul><li>变量必须以字母开头</li><li>变量也能以 $ 和 _ 符号开头（不过我们不推荐这么做）</li><li>变量名称对大小写敏感（y 和 Y 是不同的变量）</li></ul><p>我们使用 var 关键词来声明变量：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> carname;</span><br></pre></td></tr></table></figure><p>变量声明之后，该变量是空的（它没有值）。</p><p>如需向变量赋值，请使用等号：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">carname=<span class="string">&quot;Volvo&quot;</span>;</span><br></pre></td></tr></table></figure><p>不过，您也可以在声明变量时对其赋值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> carname=<span class="string">&quot;Volvo&quot;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>如果重新声明 JavaScript 变量，该变量的值不会丢失：</p></blockquote><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://www.runoob.com/js/js-tutorial.html">https://www.runoob.com/js/js-tutorial.html</a> （主要来源）</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML教程</title>
      <link href="2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/HTML%E6%95%99%E7%A8%8B/"/>
      <url>2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/HTML%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>起因是想构建博客主页（Hexo），并做一些简单的脚本修改。</p><p>了解下HTML语言，达到能看相关的代码，以及做一些简单的修改。</p></blockquote><p>更为详细的教程：<a href="http://c.biancheng.net/view/7529.html">http://c.biancheng.net/view/7529.html</a></p><blockquote><p>HTML的语法对md类文件也有效</p></blockquote><h2 id="什么是HTML-以及为什么学习它"><a href="#什么是HTML-以及为什么学习它" class="headerlink" title="什么是HTML 以及为什么学习它"></a>什么是HTML 以及为什么学习它</h2><p>超文本标记语言（英语：HyperText Markup Language，简称：HTML）是一种用于创建网页的标准标记语言。</p><p>您可以使用 HTML 来建立自己的 WEB 站点，HTML 运行在浏览器上，由浏览器来解析。</p><p>HTML文档的后缀名包括：.html 和 .htm，以上两种后缀名没有区别，都可以使用。</p><h2 id="HTML-编辑器推荐"><a href="#HTML-编辑器推荐" class="headerlink" title="HTML 编辑器推荐"></a>HTML 编辑器推荐</h2><p>可以使用专业的 HTML 编辑器来编辑 HTML，菜鸟教程推荐几款常用的编辑器：</p><ul><li>VS Code：<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li><li>Sublime Text：<a href="http://www.sublimetext.com/">http://www.sublimetext.com/</a></li></ul><blockquote><p>我是用的是VS code工具</p></blockquote><h2 id="HTML-基础"><a href="#HTML-基础" class="headerlink" title="HTML 基础"></a>HTML 基础</h2><p>HTML 标题（Heading）是通过<code>&lt;h1&gt; - &lt;h6&gt;</code> 标签来定义的。</p><p>HTML 段落是通过标签 <code>&lt;p&gt; </code>来定义的。</p><p>HTML 链接是通过标签 <code>&lt;a&gt;</code> 来定义的。</p><p>HTML 图像是通过标签 <code>&lt;img&gt;</code> 来定义的。</p><h2 id="HTML-元素（标签）"><a href="#HTML-元素（标签）" class="headerlink" title="HTML 元素（标签）"></a>HTML 元素（标签）</h2><p>HTML 文档由 HTML 元素定义。</p><table><thead><tr><th align="left">开始标签 *</th><th align="left">元素内容</th><th align="left">结束标签 *</th></tr></thead><tbody><tr><td align="left"><code>&lt;p&gt;</code></td><td align="left">这是一个段落</td><td align="left"><code>&lt;/p&gt;</code></td></tr><tr><td align="left"><code>&lt;a href=&quot;default.htm&quot;&gt;</code></td><td align="left">这是一个链接</td><td align="left"><code>&lt;/a&gt;</code></td></tr><tr><td align="left"><code>&lt;br&gt;</code></td><td align="left">换行</td><td align="left"></td></tr></tbody></table><p>*<strong>**开始标签常被称为</strong>起始标签（opening tag）<strong>，结束标签常称为</strong>闭合标签（closing tag）**。</p><hr><h2 id="HTML-元素语法"><a href="#HTML-元素语法" class="headerlink" title="HTML 元素语法"></a>HTML 元素语法</h2><ul><li>HTML 元素以<strong>开始标签</strong>起始， HTML 元素以<strong>结束标签</strong>终止</li><li><strong>元素的内容</strong>是开始标签与结束标签之间的内容</li><li>某些 HTML 元素具有<strong>空内容（empty content）</strong>，空元素<strong>在开始标签中进行关闭</strong>（以开始标签的结束而结束）</li><li>大多数 HTML 元素可拥有<strong>属性</strong></li></ul><blockquote><p>不要忘记结束标签！即使忘记使用结束标签，大多数浏览器也会正确地显示 。但不要依赖这种做法。忘记使用结束标签会产生不可预料的结果或错误！</p><p>HTML 标签对大小写不敏感：<code>&lt;P&gt;</code> 等同于 <code>&lt;p&gt;</code>。许多网站都使用大写的 HTML 标签。但是未来趋势是使用小写！！</p></blockquote><h2 id="HTML-属性"><a href="#HTML-属性" class="headerlink" title="HTML 属性"></a>HTML 属性</h2><ul><li><p>HTML 元素可以设置<strong>属性</strong></p></li><li><p>属性可以在元素中添加<strong>附加信息</strong></p></li><li><p>属性一般描述于<strong>开始标签</strong></p></li><li><p>属性总是以名称/值对的形式出现，**比如：name=”value”**。</p></li></ul><blockquote><p>一般使用双引号，单引号也可以用。但是如果属性值本身带双引号时，只能使用单引号，例如：name=’John “ShotGun” Nelson’。</p></blockquote><p>  下面列出了适用于大多数 HTML 元素的属性：查看完整的HTML属性列表: <a href="https://www.runoob.com/tags/html-reference.html">HTML 标签参考手册</a>。</p><table><thead><tr><th align="left">属性</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">class</td><td align="left">为html元素定义一个或多个类名（classname）(类名从样式文件引入)</td></tr><tr><td align="left">id</td><td align="left">定义元素的唯一id</td></tr><tr><td align="left">style</td><td align="left">规定元素的行内样式（inline style）</td></tr><tr><td align="left">title</td><td align="left">描述了元素的额外信息 (作为工具条使用)</td></tr></tbody></table><h2 id="HTML-标题"><a href="#HTML-标题" class="headerlink" title="HTML 标题"></a>HTML 标题</h2><p>标题（Heading）是通过 <code>&lt;h1&gt; - &lt;h6&gt; </code>标签进行定义的。</p><p><code>&lt;h1&gt;</code> 定义最大的标题。 <code>&lt;h6&gt; </code>定义最小的标题。</p><blockquote><p>标题很重要！请确保将 HTML 标题 标签只用于标题。不要仅仅是为了生成粗体或大号的文本而使用标题。搜索引擎使用标题为您的网页的结构和内容编制索引。因为用户可以通过标题来快速浏览您的网页。</p></blockquote><p><code>&lt;hr&gt;</code> 标签在 HTML 页面中创建水平线。</p><h2 id="HTML-注释"><a href="#HTML-注释" class="headerlink" title="HTML 注释"></a>HTML 注释</h2><p>可以将注释插入 HTML 代码中，这样可以提高其可读性，使代码更易被人理解。浏览器会忽略注释，也不会显示它们。</p><p>注释写法如下:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这是一个注释 --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="HTML-段落"><a href="#HTML-段落" class="headerlink" title="HTML 段落"></a>HTML 段落</h2><p>段落是通过 <code>&lt;p&gt;</code> 标签定义的。</p><blockquote><p>不要忘记结束标签。忘记使用会产生意想不到的效果。</p></blockquote><h2 id="HTML-换行"><a href="#HTML-换行" class="headerlink" title="HTML 换行"></a>HTML 换行</h2><p>如果您希望在不产生一个新段落的情况下进行换行（新行），请使用 <code>&lt;br&gt;</code>标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这个<span class="tag">&lt;<span class="name">br</span>&gt;</span>段落<span class="tag">&lt;<span class="name">br</span>&gt;</span>演示了分行的效果<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果图：</p><img src="/2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/HTML%E6%95%99%E7%A8%8B/image-20210322111036846.png" alt="image-20210322111036846" style="zoom: 50%;"><blockquote><p>当显示页面时，浏览器会移除源代码中多余的空格和空行。所有连续的空格或空行都会被算作一个空格。需要注意的是，HTML 代码中的所有连续的空行（换行）也被显示为一个空格。</p><p>段落的行数依赖于浏览器窗口的大小的。</p></blockquote><h2 id="HTML-元素"><a href="#HTML-元素" class="headerlink" title="HTML  元素"></a>HTML <head> 元素</head></h2><head> 元素包含了所有的头部标签元素。在 <head>元素中你可以插入脚本（scripts）, 样式文件（CSS），及各种meta信息。<p>可以添加在头部区域的元素标签为: </p><table><thead><tr><th align="left">标签</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/tags/tag-head.html"><code>&lt;head&gt;</code></a></td><td align="left">定义了文档的信息</td></tr><tr><td align="left"><a href="https://www.runoob.com/tags/tag-title.html"><code>&lt;title&gt;</code></a></td><td align="left">定义了文档的标题</td></tr><tr><td align="left"><a href="https://www.runoob.com/tags/tag-base.html"><code>&lt;base&gt;</code></a></td><td align="left">定义了页面链接标签的默认链接地址</td></tr><tr><td align="left"><a href="https://www.runoob.com/tags/tag-link.html"><code>&lt;link&gt;</code></a></td><td align="left">定义了一个文档和外部资源之间的关系</td></tr><tr><td align="left"><a href="https://www.runoob.com/tags/tag-meta.html"><code>&lt;meta&gt;</code></a></td><td align="left">定义了HTML文档中的元数据</td></tr><tr><td align="left"><a href="https://www.runoob.com/tags/tag-script.html"><code>&lt;script&gt;</code></a></td><td align="left">定义了客户端的脚本文件</td></tr><tr><td align="left"><a href="https://www.runoob.com/tags/tag-style.html"><code>&lt;stytle&gt;</code></a></td><td align="left">定义了HTML文档的样式文件</td></tr></tbody></table><h2 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h2><ul><li><a href="https://www.runoob.com/html/html-tutorial.html%EF%BC%88%E4%B8%BB%E8%A6%81%E6%9D%A5%E6%BA%90%EF%BC%89">https://www.runoob.com/html/html-tutorial.html（主要来源）</a></li></ul></head></head>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客添加字数统计和阅读时间</title>
      <link href="2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4/"/>
      <url>2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4/</url>
      
        <content type="html"><![CDATA[<h1 id="字数统计功能"><a href="#字数统计功能" class="headerlink" title="字数统计功能"></a>字数统计功能</h1><blockquote><p>google了一下，大部分的技术贴都是过时的，使用<code>hexo-wordcount</code>, 然后next v6.3 用的插件是<code>hexo-symbols-count-time</code>，所以按老板方法设置是完全没有用的</p><p>应该参考官网的更新介绍: <a href="https://github.com/theme-next/hexo-symbols-count-time">https://github.com/theme-next/hexo-symbols-count-time</a></p><p>或者这个博主大神的帖子：<a href="https://co5.me/2018/180613-wordcount.html#comments">https://co5.me/2018/180613-wordcount.html#comments</a> （以下内容基于该帖子）</p></blockquote><p>然后安装新插件， <code>npm i hexo-symbols-count-time --save</code> (i 就是 install 的简写)</p><p>然后有两个地方需要修改：一个是你 hexo 文件夹下的配置文件<code>_config.yml</code>，另一个是你主题文件夹里的同名文件。<br>首先是你 hexo 文件夹下的配置文件，拉到最后添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">symbols: true</span><br><span class="line">time: true</span><br><span class="line">total_symbols: true</span><br><span class="line">total_time: true</span><br></pre></td></tr></table></figure><p>然后是主题文件夹里的配置文件，NexT 主题其实已经自带了相关代码，搜索<code>wordcount</code>或者插件名可以看到如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-symbols-count-time</span><br><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true   # 是否另起一行（true的话不和发表时间等同一行）</span><br><span class="line">  item_text_post: true   # 首页文章统计数量前是否显示文字描述（本文字数、阅读时长）</span><br><span class="line">  item_text_total: false  # 页面底部统计数量前是否显示文字描述（站点总字数、站点阅读时长）</span><br><span class="line">  awl: 4</span><br><span class="line">  wpm: 275</span><br></pre></td></tr></table></figure><p>　　其中<code>awl</code>（Average Word Length）的数值是设定多少字符统计为一个字（word），中文博客需要设置为 2。<br>　　<code>wpm</code>（Words Per Minute）是你的阅读速度，多少字（word）统计为阅读时长一分钟。以下是官方文档里的一些阅读速度参考数据：</p><ul><li>慢速：200</li><li>中速：275（默认）</li><li>快速：350</li></ul><p>　　然后注意<code>_config.yml</code>文件里的更改一般是不能直接作用在本地浏览里的，请先 ctrl+C 终止预览，再<code>hexo clean</code>→<code>hexo s --debug</code>重新开一遍，不出意外你的文章标题底下就会有和本站一样的字数统计了，末尾的版权信息里也会出现全站字数统计。</p><blockquote><p>这点很重要，hexo clean 主要是在重新配置根目录<code>_config.yml</code>文件时使用</p></blockquote><h2 id="如何将显示文字改为中文；"><a href="#如何将显示文字改为中文；" class="headerlink" title="如何将显示文字改为中文；"></a>如何将显示文字改为中文；</h2><blockquote><p>网络搜寻的技术贴貌似都没提到这个问题，貌似都显示中文（即最终结果），而刚开始我的博客里面，显示的是英文，非常奇怪。</p></blockquote><img src="/2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4/image-20210320130606175.png" class title="image-20210320130606175"><p>这里需要找到相关文件，对相关属性进行修改，经过Google，找到 <code>\themes\next\layout\_macro</code> 目录下的<code>post.swig</code>文件，找到以下相关内容。</p><img src="/2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4/image-20210320130207138.png" class title="image-20210320130207138"><p>将<code>symbols_count_time.count</code>改为<code>本文字数</code>，同理也是将<code>symbols_count_time.time</code>改为<code>阅读时间</code></p><blockquote><p>注意，有可能不一定对应，按照<code>symbols_count</code>来定位位置</p></blockquote><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li><a href="https://co5.me/">https://co5.me/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优秀的博客主页学习</title>
      <link href="2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E4%BC%98%E7%A7%80%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E4%BC%98%E7%A7%80%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>在构建自己的个人主页时候，也发现许多宝藏主页，这里稍微做个总结记录，也学习学习别人的经验</p></blockquote><p>优秀的博客主页</p><p><a href="https://co5.me/">https://co5.me/</a></p><p><a href="https://www.cnblogs.com/shwee/p/11421156.html">https://www.cnblogs.com/shwee/p/11421156.html</a> </p><blockquote><p>（非常详细的博客建站介绍，非常有条理，逻辑和结构非常值得学习）</p></blockquote><p><a href="http://masikkk.com/article/about/">http://masikkk.com/article/about/</a></p><blockquote><p>将博客作为个人笔记进行更新（我也是这么做的）</p></blockquote><p><a href="https://my.oschina.net/u/4335275/blog/4413854">https://my.oschina.net/u/4335275/blog/4413854</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>you-get下载</title>
      <link href="2021/03/20/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/you-get%E4%B8%8B%E8%BD%BD/"/>
      <url>2021/03/20/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/you-get%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<blockquote><p>之前在国外的时候想要批量下载YouTube的内容，因此了解到了you-get这个下载插件；</p><p>貌似还有个youtube-get这个插件，比you-get更适合批量下载YouTube视频</p></blockquote><p>直接在github上就可以安装，有多种选项。我是用的Anaconda3的powershell prompt 进行安装，注意这里执行的指令是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install you-get</span><br></pre></td></tr></table></figure><p>结果也能成功安装。之后就是使用简单的指令进行下载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get -i &#39;videoLink&#39;</span><br></pre></td></tr></table></figure><blockquote><p>注意不一定要双引号</p></blockquote><p>更为具体的操作见：</p><p><a href="https://github.com/soimort/you-get">https://github.com/soimort/you-get</a></p>]]></content>
      
      
      <categories>
          
          <category> 生活记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> you-get </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客美化_待办</title>
      <link href="2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E5%BE%85%E5%8A%9E/"/>
      <url>2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E5%BE%85%E5%8A%9E/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/senupp/article/details/103986447">https://blog.csdn.net/senupp/article/details/103986447</a></p><h2 id="如何在Hexo的博文中引用自己的文章"><a href="#如何在Hexo的博文中引用自己的文章" class="headerlink" title="如何在Hexo的博文中引用自己的文章"></a>如何在Hexo的博文中引用自己的文章</h2><p><a href="https://www.mls-tech.info/hexo/hexo-use-internal-link/">https://www.mls-tech.info/hexo/hexo-use-internal-link/</a></p><p>一些待办的事项：</p><p>博客的头像</p><p>博客的主页介绍（个人的一个主页？）</p>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> 待办 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab_常用函数_绘图1</title>
      <link href="2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-%E7%BB%98%E5%9B%BE1/"/>
      <url>2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-%E7%BB%98%E5%9B%BE1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>d 最方便的是方法3，默认figure大小为屏幕大小，然后写代码时直接保存</p></blockquote><p>全屏+保存</p><p>set(gcf,’outerposition’,get(0,’ScreenSize’));</p><p>text(-0.1,1.05,[‘script: ‘,pwd,’&#39;,mfilename],’Units’,’normalized’,’Interpreter’,’none’)</p><p>print(gcf,’-djpeg’,’-r150’,’-opengl’,[‘Fig_’,savename,’.jpg’]);</p><p>第二种方式，全屏保存</p><p>% scrsz = get(0,’ScreenSize’);</p><p>% set(gcf,’Position’,scrsz);</p><p>% % print(gcf,’-r300’,’-dpng’,’GRIPNEEM’);</p><p>方法3： </p><p>设置图片的</p><p>保存出图 (注意这种情况下，输出的仍为栅格，不是适量）</p><p>print(gcf,’-djpeg’,’-r150’,’-opengl’,[‘Fig_’,savename,’.jpg’]);</p><p>如果是横向的，事先设定为横向</p><p>orient(gcf,’landscape’) </p><p>如果想要矢量保存图片</p><p>方法1： saveas (gcf,’Fig4’,’pdf’)， 适合小图</p><p>方法2： 适合小图和大图</p><p>set(gcf,’outerposition’,get(0,’ScreenSize’),’Units’,’Inches’)</p><p>pos = get(gcf,’Position’);</p><p>set(gcf,’PaperPositionMode’,’Auto’,’PaperUnits’,’Inches’,’PaperSize’,[pos(3), pos(4)])</p><p>print(gcf,savename,’-dpdf’,’-r0’)</p><p>一些常用的属性值，<a href="https://zhuanlan.zhihu.com/p/348822567">https://zhuanlan.zhihu.com/p/348822567</a></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 定义线型、标记符号、线宽和颜色</span></span><br><span class="line">set(Line1, <span class="string">&#x27;LineStyle&#x27;</span>, <span class="string">&#x27;--&#x27;</span>,<span class="string">&#x27;Marker&#x27;</span>, <span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1</span>,  <span class="string">&#x27;Color&#x27;</span>, C1)</span><br><span class="line">set(Line2, <span class="string">&#x27;LineStyle&#x27;</span>, <span class="string">&#x27;--&#x27;</span>,<span class="string">&#x27;Marker&#x27;</span>, <span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1</span>,  <span class="string">&#x27;Color&#x27;</span>, C2)</span><br><span class="line">set(Line3, <span class="string">&#x27;LineStyle&#x27;</span>, <span class="string">&#x27;--&#x27;</span>,<span class="string">&#x27;Marker&#x27;</span>, <span class="string">&#x27;^&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1</span>,  <span class="string">&#x27;Color&#x27;</span>, C3)</span><br><span class="line">set(Line4, <span class="string">&#x27;LineStyle&#x27;</span>, <span class="string">&#x27;--&#x27;</span>,<span class="string">&#x27;Marker&#x27;</span>, <span class="string">&#x27;v&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1</span>,  <span class="string">&#x27;Color&#x27;</span>, C4)</span><br><span class="line">set(Line5, <span class="string">&#x27;LineStyle&#x27;</span>, <span class="string">&#x27;--&#x27;</span>,<span class="string">&#x27;Marker&#x27;</span>, <span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1</span>,  <span class="string">&#x27;Color&#x27;</span>, C5)</span><br><span class="line"><span class="comment">% 坐标区调整</span></span><br><span class="line">set(gca, <span class="string">&#x27;Box&#x27;</span>, <span class="string">&#x27;off&#x27;</span>, ...                                <span class="comment">% 边框</span></span><br><span class="line">         <span class="string">&#x27;XGrid&#x27;</span>, <span class="string">&#x27;off&#x27;</span>, <span class="string">&#x27;YGrid&#x27;</span>, <span class="string">&#x27;on&#x27;</span>, ...               <span class="comment">% 网格</span></span><br><span class="line">         <span class="string">&#x27;TickDir&#x27;</span>, <span class="string">&#x27;out&#x27;</span>, <span class="string">&#x27;TickLength&#x27;</span>, [<span class="number">.01</span> <span class="number">.01</span>], ...   <span class="comment">% 刻度</span></span><br><span class="line">         <span class="string">&#x27;XMinorTick&#x27;</span>, <span class="string">&#x27;off&#x27;</span>, <span class="string">&#x27;YMinorTick&#x27;</span>, <span class="string">&#x27;off&#x27;</span>, ...    <span class="comment">% 小刻度</span></span><br><span class="line">         <span class="string">&#x27;XColor&#x27;</span>, [<span class="number">.1</span> <span class="number">.1</span> <span class="number">.1</span>],  <span class="string">&#x27;YColor&#x27;</span>, [<span class="number">.1</span> <span class="number">.1</span> <span class="number">.1</span>],...  <span class="comment">% 坐标轴颜色</span></span><br><span class="line">         <span class="string">&#x27;XTick&#x27;</span>, <span class="number">0</span>:<span class="number">0.1</span>:<span class="number">1.2</span>,  <span class="string">&#x27;YTick&#x27;</span>, <span class="number">0</span>:<span class="number">0.05</span>:<span class="number">0.5</span>,...     <span class="comment">% 刻度位置、间隔</span></span><br><span class="line">         <span class="string">&#x27;Xlim&#x27;</span> ,[<span class="number">0</span> <span class="number">1.1</span>],<span class="string">&#x27;Ylim&#x27;</span> ,[<span class="number">0.1</span> <span class="number">0.35</span>], ...          <span class="comment">% 坐标轴范围</span></span><br><span class="line">         <span class="string">&#x27;Xticklabel&#x27;</span>,&#123;[<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">1.2</span>]&#125;,...                   <span class="comment">% X坐标轴刻度标签</span></span><br><span class="line">         <span class="string">&#x27;Yticklabel&#x27;</span>,&#123;[<span class="number">0</span>:<span class="number">0.05</span>:<span class="number">0.5</span>]&#125;)                     <span class="comment">% Y坐标轴刻度标签</span></span><br><span class="line"><span class="comment">% X、Y轴标签及Legend</span></span><br><span class="line">hXLabel = xlabel(<span class="string">&#x27;Point spacing (m)&#x27;</span>);</span><br><span class="line">hYLabel = ylabel(<span class="string">&#x27;MAE (m)&#x27;</span>);</span><br><span class="line">hLegend = <span class="built_in">legend</span>([Line1,Line2,Line3,Line4,Line5], ...</span><br><span class="line">                 <span class="string">&#x27;samp1&#x27;</span>, <span class="string">&#x27;samp2&#x27;</span>,<span class="string">&#x27;samp3&#x27;</span>,<span class="string">&#x27;samp4&#x27;</span>,<span class="string">&#x27;samp5&#x27;</span>, ...</span><br><span class="line">                 <span class="string">&#x27;Location&#x27;</span>, <span class="string">&#x27;northwest&#x27;</span>);</span><br><span class="line"><span class="comment">% 刻度标签字体和字号</span></span><br><span class="line">set(gca, <span class="string">&#x27;FontName&#x27;</span>, <span class="string">&#x27;Times&#x27;</span>, <span class="string">&#x27;FontSize&#x27;</span>, <span class="number">9</span>)</span><br><span class="line"><span class="comment">% X、Y轴标签及Legend的字体字号 </span></span><br><span class="line">set([hXLabel, hYLabel,hLegend], <span class="string">&#x27;FontName&#x27;</span>,  <span class="string">&#x27;Helvetica&#x27;</span>)</span><br><span class="line">set([hXLabel, hYLabel,hLegend], <span class="string">&#x27;FontSize&#x27;</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment">% 背景颜色</span></span><br><span class="line">set(gca,<span class="string">&#x27;Color&#x27;</span>,[<span class="number">1</span> <span class="number">1</span> <span class="number">1</span>])</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
            <tag> matlab常用函数 </tag>
            
            <tag> matlab绘图plot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab_figure留白问题</title>
      <link href="2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_figure%E7%95%99%E7%99%BD%E9%97%AE%E9%A2%98/"/>
      <url>2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_figure%E7%95%99%E7%99%BD%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<blockquote><p>目的是能一劳永逸的解决matlab画图的留白问题。</p><p>总结： 方法1-3，只适用于单图（结合startup脚本，定位默认设置），方法4可适用于多图等距</p></blockquote><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>figure如同一张画布，axes是坐标轴用来控制所画图的位置和大小。</p><p>关于画布位置的属性主要有：Position; TightInset; OuterPosition。</p><p>下图是三者的关系，OuterPosition是外边框（红色虚线），Position是内边框（绿色实线），TightInset是有效边界（蓝色）与Position之间的部分（理解它才能自定义axes）。</p><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><h2 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h2><p><strong>LooseInset</strong>, 在Matlab中默认设置为[0.13, 0.11, 0.095, 0.075]，从而为刻度标记留出一定的空间。 便捷的方法时，修改matlab默认的属性值（详情可见博客中的另一文章“matlab_模板设定”）</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set(<span class="number">0</span>,<span class="string">&#x27;DefaultAxesLooseInset&#x27;</span>,[<span class="number">0.03</span>,<span class="number">0.03</span>,<span class="number">0.03</span>,<span class="number">0.03</span>])</span><br></pre></td></tr></table></figure><h2 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h2><blockquote><p>效果等于方法1中当 <strong>looseinset</strong> 取值都为0的时候</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set(gca,<span class="string">&#x27;LooseInset&#x27;</span>,get(gca,<span class="string">&#x27;TightInset&#x27;</span>))</span><br></pre></td></tr></table></figure><h2 id="方法3-窗口长宽比失衡问题"><a href="#方法3-窗口长宽比失衡问题" class="headerlink" title="方法3 窗口长宽比失衡问题"></a>方法3 窗口长宽比失衡问题</h2><p>有一种可能窗口长宽比失衡的问题 （e.g., 由于设置axis equal），如下图：</p><p>一种方法是，计算坐标区长度与宽度的比例，通过改变figure窗口尺寸以使坐标区填充画布：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axis tight </span><br><span class="line">pos=get(gcf,<span class="string">&#x27;Position&#x27;</span>); <span class="comment">% 获取窗口尺寸信息</span></span><br><span class="line">pos(<span class="number">3</span>)=pos(<span class="number">4</span>)/<span class="number">3</span>; <span class="comment">% 改变窗口宽度（倍数根据长宽比自己确定）</span></span><br><span class="line">set(gcf,<span class="string">&#x27;Position&#x27;</span>,pos) <span class="comment">% 更新窗口尺寸</span></span><br></pre></td></tr></table></figure><h1 id="方法4-针对多图subplot的解决方法"><a href="#方法4-针对多图subplot的解决方法" class="headerlink" title="方法4 针对多图subplot的解决方法"></a>方法4 针对多图subplot的解决方法</h1><blockquote><p>以上的方法对于单一图片比较有效，但是如果有多个图片的话（e.g., subplot)，并不能有效去除空白。进行了google，发现一般都要写个脚本script进行处理。</p><p>我之前在处理相关数据的时候写了一个简单的脚本，放在这里</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> k==<span class="number">1</span></span><br><span class="line">    pos1=get(fig(<span class="number">1</span>),<span class="string">&#x27;position&#x27;</span>);</span><br><span class="line">    pos1(<span class="number">1</span>)=<span class="number">0</span>;</span><br><span class="line">    pos1(<span class="number">4</span>)=<span class="number">0.35</span>;</span><br><span class="line">    pos1(<span class="number">3</span>)=<span class="number">0.25</span>;</span><br><span class="line">    set(fig(<span class="number">1</span>),<span class="string">&#x27;position&#x27;</span>,pos1)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    pos=get(fig(k),<span class="string">&#x27;position&#x27;</span>);</span><br><span class="line">    pos(<span class="number">1</span>)=pos1(<span class="number">1</span>)+<span class="number">0.23</span>*(k<span class="number">-1</span>);</span><br><span class="line">    pos(<span class="number">4</span>)=<span class="number">0.35</span>;</span><br><span class="line">    pos(<span class="number">3</span>)=<span class="number">0.25</span>;</span><br><span class="line">    set(fig(k),<span class="string">&#x27;position&#x27;</span>,pos)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% put the title closer and figure closer</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">j</span>==<span class="number">4</span></span><br><span class="line">    title([<span class="string">&#x27;1998-2018 Madrid &#x27;</span>,name&#123;k&#125;])</span><br><span class="line"><span class="keyword">elseif</span> <span class="built_in">j</span>==<span class="number">3</span></span><br><span class="line">    title([<span class="string">&#x27;1984-2018 Vienna &#x27;</span>,name&#123;k&#125;])</span><br><span class="line"><span class="keyword">elseif</span> <span class="built_in">j</span>==<span class="number">2</span></span><br><span class="line">    a=title([<span class="string">&#x27;1975-2018 Ljungbyhed &#x27;</span>,name&#123;k&#125;],<span class="string">&#x27;units&#x27;</span>,<span class="string">&#x27;norm&#x27;</span>);</span><br><span class="line">    p=get(a,<span class="string">&#x27;position&#x27;</span>);</span><br><span class="line">    p(<span class="number">2</span>)=p(<span class="number">2</span>)<span class="number">-0.1</span>;</span><br><span class="line">    set(a,<span class="string">&#x27;position&#x27;</span>,p,<span class="string">&#x27;units&#x27;</span>,<span class="string">&#x27;norm&#x27;</span>);</span><br><span class="line">    pos=get(fig(k),<span class="string">&#x27;position&#x27;</span>);</span><br><span class="line">    pos(<span class="number">2</span>)=pos(<span class="number">2</span>)+<span class="number">0.07</span>;</span><br><span class="line">    set(fig(k),<span class="string">&#x27;position&#x27;</span>,pos)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    a=title([<span class="string">&#x27;1975-2018 Kiruna &#x27;</span>,name&#123;k&#125;],<span class="string">&#x27;units&#x27;</span>,<span class="string">&#x27;norm&#x27;</span>);</span><br><span class="line">    p=get(a,<span class="string">&#x27;position&#x27;</span>);</span><br><span class="line">    p(<span class="number">2</span>)=p(<span class="number">2</span>)<span class="number">-0.1</span>;</span><br><span class="line">    set(a,<span class="string">&#x27;position&#x27;</span>,p,<span class="string">&#x27;units&#x27;</span>,<span class="string">&#x27;norm&#x27;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>参考文献：</p><p><a href="https://blog.csdn.net/u011650143/article/details/79469991?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&spm=1001.2101.3001.4242">Matlab绘图去白边技巧(plot 、subplot)</a></p><p><a href="https://blog.csdn.net/robot301/article/details/82852006?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control">MATLAB：通过m文件去除图片空白区域（plot、subplot），设置大小并保存清晰图片</a></p><p><a href="https://zhuanlan.zhihu.com/p/131602083">Matlab论文插图消除白边的5种方法</a></p>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab_常用函数1</title>
      <link href="2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B01/"/>
      <url>2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B01/</url>
      
        <content type="html"><![CDATA[<p>  % strrep函数，e.g. 从f中找到’Time’，替换为date;</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = strrep(f,<span class="string">&#x27;Time&#x27;</span>,date); </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
            <tag> matlab常用函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab_模板设定</title>
      <link href="2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E6%A8%A1%E6%9D%BF%E8%AE%BE%E5%AE%9A/"/>
      <url>2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E6%A8%A1%E6%9D%BF%E8%AE%BE%E5%AE%9A/</url>
      
        <content type="html"><![CDATA[<blockquote><p>起因是每当创建新的脚本时，我总要重复输入一些固定的代码，因此想说能不能使用特定的模板；</p><p>一来能省下一定的时间，二来避免敲代码时出现各种各样的格式。</p></blockquote><h1 id="Matlab脚本的模板"><a href="#Matlab脚本的模板" class="headerlink" title="Matlab脚本的模板"></a>Matlab脚本的模板</h1><h2 id="创建一个make-fun函数进行创建模板"><a href="#创建一个make-fun函数进行创建模板" class="headerlink" title="创建一个make_fun函数进行创建模板"></a>创建一个make_fun函数进行创建模板</h2><ol><li><p>Create a script “my_template.m” that has the layout of your code<br>For example:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%   Description: </span></span><br><span class="line"><span class="comment">%   Author: Foo</span></span><br><span class="line"><span class="comment">%   Comment: </span></span><br><span class="line">close all; clear; clc</span><br></pre></td></tr></table></figure></li><li><p>Create a function “make_fun.m” that utilizes “copyfile” function to copy the template to a new m-file</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[]</span> = <span class="title">make_fun</span><span class="params">(V)</span></span></span><br><span class="line">copyfile(<span class="string">&#x27;my_template.m&#x27;</span>,V)</span><br><span class="line">edit(V)</span><br></pre></td></tr></table></figure></li><li><p>From the command line, you can call “make_fun” function to create a new function/script with the name of your choice</p></li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make_fun(<span class="string">&#x27;newScript.m&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="一个改进版本的make-fun-script，可以参照该思路进行改进"><a href="#一个改进版本的make-fun-script，可以参照该思路进行改进" class="headerlink" title="一个改进版本的make_fun script，可以参照该思路进行改进"></a>一个改进版本的make_fun script，可以参照该思路进行改进</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[]</span> = <span class="title">make_fun</span><span class="params">(V)</span></span></span><br><span class="line">[status,message,messageid] = copyfile(<span class="string">&#x27;my_template.m&#x27;</span>,V);</span><br><span class="line"><span class="keyword">if</span> (status &gt; <span class="number">0</span>)</span><br><span class="line">    fid  = fopen(V,<span class="string">&#x27;r+&#x27;</span>);</span><br><span class="line">    f=fread(fid,<span class="string">&#x27;*char&#x27;</span>)&#x27;;</span><br><span class="line">    fclose(fid);</span><br><span class="line">    f = strrep(f,<span class="string">&#x27;#my_template#&#x27;</span>,strrep(V,<span class="string">&#x27;.m&#x27;</span>,<span class="string">&#x27;&#x27;</span>));</span><br><span class="line">    f = strrep(f,<span class="string">&#x27;#date#&#x27;</span>,date);</span><br><span class="line">    fid  = fopen(V,<span class="string">&#x27;w+&#x27;</span>);</span><br><span class="line">    fprintf(fid,<span class="string">&#x27;%s&#x27;</span>,f);</span><br><span class="line">    fclose(fid);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">edit(V)</span><br></pre></td></tr></table></figure><blockquote><p>#号之间的为可修改字段</p></blockquote><h1 id="Matlab默认属性设置"><a href="#Matlab默认属性设置" class="headerlink" title="Matlab默认属性设置"></a>Matlab默认属性设置</h1><p>（对图片绘制特别有效）</p><blockquote><p>可以创建个startup函数，里面可以修改Matlab的默认属性，这样每次启动Matlab，就会读取startup函数里面提前设定好属性值。（不过这样刚开始启动Matlab的时候，可能会有点时间）</p></blockquote><p>下面是我常用的属性设置，主要是利用Matlab绘制图片</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>  <span class="title">startup</span></span></span><br><span class="line"><span class="comment">% change the defaut setting</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ^^^ setting the plot ^^^</span></span><br><span class="line">set(groot,<span class="string">&#x27;DefaultLegendAutoUpdate&#x27;</span>,<span class="string">&#x27;off&#x27;</span>,<span class="string">&#x27;DefaultLegendorientation&#x27;</span>,<span class="string">&#x27;horizontal&#x27;</span>)</span><br><span class="line">set(groot,<span class="string">&#x27;DefaultLegendbox&#x27;</span>,<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">set(groot,<span class="string">&#x27;defaultLineLineWidth&#x27;</span>,<span class="number">1.5</span>)</span><br><span class="line">set(groot,<span class="string">&#x27;DefaultAxesFontsize&#x27;</span>,<span class="number">16</span>)</span><br><span class="line">set(groot,<span class="string">&#x27;DefaultTextfontsize&#x27;</span>,<span class="number">16</span>,<span class="string">&#x27;DefaultTextUnits&#x27;</span>,<span class="string">&#x27;normalized&#x27;</span>)</span><br><span class="line">set(groot,<span class="string">&#x27;DefaultAxesFontweight&#x27;</span>,<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">% ^^^ setting the figure ^^^</span></span><br><span class="line"><span class="comment">% make the figure size as window size</span></span><br><span class="line">set(groot, <span class="string">&#x27;defaultFigureUnits&#x27;</span>,<span class="string">&#x27;normalized&#x27;</span>,<span class="string">&#x27;defaultfigureposition&#x27;</span>,[<span class="number">0</span> <span class="number">0.05</span> <span class="number">1</span> <span class="number">0.85</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>milankovitch_cycle</title>
      <link href="2021/03/18/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/milankovitch-cycle/"/>
      <url>2021/03/18/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/milankovitch-cycle/</url>
      
        <content type="html"><![CDATA[<p>m问题： 米兰科维奇(Milankovitch cycle)如何影响地球气候</p><p>The concept of the Milankovich cycles was developed in the 1930s by the Serbian mathematician Milutin Milankovitch. They take account of three variations in the orbit of the earth around the sun.</p><p>米蘭科維奇循環（Milankovitch cycles）是塞爾維亞的地球物理学家兼天文學家米盧廷·米蘭科維奇的气候变化理论。米蘭科維奇计算了过去数百万年地球的離心率、轉軸傾角和軌道的進動的变化，发现了这些参数与地球上氣候模式，尤其是冰川期的关系。</p><h3 id="轨道偏心率-Eccentricity"><a href="#轨道偏心率-Eccentricity" class="headerlink" title="轨道偏心率(Eccentricity)"></a>轨道偏心率(Eccentricity)</h3><p>偏心率是指地球轨道的形状偏离一个完美的圆的程度。地球绕太阳公转的轨道不是完美的圆形。随着时间的推移，在木星和土星这两颗太阳系最大的气态巨行星的引力作用下，地球轨道的形状从近乎圆形变为略椭圆形，Milanković的研究表明表明轨道变化的周期约100,000年。</p><p><img src="http://img.cwtea.net/20201219/2b38c674202537a2afdbd7245bbd4490.gif" alt="img"></p><h3 id="地轴倾角-Obliquity"><a href="#地轴倾角-Obliquity" class="headerlink" title="地轴倾角(Obliquity)"></a>地轴倾角(Obliquity)</h3><p>地球的旋转轴在绕太阳运行时倾斜的角度称为倾角，该倾角的存在导致了中低纬度的四季变化。在过去的一百万年里，它垂直于地球轨道平面的角度在22.1到24.5度之间变化。地球的轴向倾斜角越大，我们的季节就会越极端，夏季愈热，冬季愈冷。较大的倾斜角度有利于冰川和冰原的融化和撤退。这些影响在全球范围内并不是一致的：高纬度地区比赤道附近地区受到的太阳总辐射的变化更大。</p><img src="/2021/03/18/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/milankovitch-cycle/f9ac5671949a392e04826080657c9dee.gif" class title="img"><h3 id="地轴进动-Precession"><a href="#地轴进动-Precession" class="headerlink" title="地轴进动(Precession)"></a>地轴进动(Precession)</h3><p>当地球旋转时，它的轴心会轻微摆动，就像一个稍稍偏离旋转中心的玩具陀螺。这种由于太阳和月球的引力导致旋转轴相对于恒星固定位置摆动的趋势被称为地轴进动，地球地轴进动方向自东向西。轴向进动的周期约为25771.5年。</p><img src="/2021/03/18/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/milankovitch-cycle/247afae62f4ef20de095809a7795ee96.gif" class title="img"><blockquote></blockquote><p>地球的轨道参数会影响地球受到太阳的辐射量，从而影响地球环境。</p><p>需要注意的是，该影响还未真正的被理解</p>]]></content>
      
      
      <categories>
          
          <category> 文献阅读笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Milankovitch paper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PDF解锁_去水印</title>
      <link href="2021/03/16/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A7%A3%E9%94%81-%E5%8E%BB%E6%B0%B4%E5%8D%B0/"/>
      <url>2021/03/16/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A7%A3%E9%94%81-%E5%8E%BB%E6%B0%B4%E5%8D%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="PDF密码解决"><a href="#PDF密码解决" class="headerlink" title="PDF密码解决"></a>PDF密码解决</h1><blockquote><p>PDF解锁，网上有在线解锁工具，可以解决权限密码（免费用户有次数限制）</p></blockquote><p>PDF密码分两种，用户密码（打开密码）和所有者密码（权限密码）。</p><img src="/2021/03/16/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A7%A3%E9%94%81-%E5%8E%BB%E6%B0%B4%E5%8D%B0/v2-e4e9dd053c6368e2ccb4e7f7e3637cdf_720w.jpg" alt="img" style="zoom:50%;"><p><strong>所有者密码（权限密码）属于君子协定</strong>，其文件<strong>内容并没有加密</strong>，只是PDF标准要求遵守相关权限设定，如不允许打印，修改等等。</p><p><strong>题主所说的不能打印，就是权限密码限制了</strong></p><p>我们可以使用<strong>PDF密码在线破解</strong>工具，移除权限密码</p><p><a href="https://link.zhihu.com/?target=https://xpdf.net/decrypt-pdf">PDF解密_PDF解密软件_PDF密码破解_PDF文件解密 - 超级PDFxpdf.net</a></p><p><strong>用户密码（打开密码）才是真正保护PDF内容的密码</strong>，使用这种密码，内容是加密的，此类密码只能让专业人士来爆破密码，通常视作不可以破解，解密此类PDF必须要知道密码才行</p><h1 id="PDF去水印"><a href="#PDF去水印" class="headerlink" title="PDF去水印"></a>PDF去水印</h1><blockquote><p>正版的pdf软件中就有去水印功能</p></blockquote><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul><li><a href="https://www.zhihu.com/question/22938994/answer/1688607956">https://www.zhihu.com/question/22938994/answer/1688607956</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 生活记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PDF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo引用本地图片无法显示</title>
      <link href="2021/03/16/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/hexo%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/"/>
      <url>2021/03/16/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/hexo%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><blockquote><p>搜索了半天，最终发现图片显示不了是因为最后网址生成的链接错误（会多出来时间月份等信息），导致绝对路径不正确，绝对路径貌似会有bug，最后使用相对路径的方法解决，为以下操作</p></blockquote><p>打开_config.yml文件，修改下述内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure><p>在根目录下执行：（下载插件）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https:&#x2F;&#x2F;github.com&#x2F;CodeFalling&#x2F;hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>确保在 md所在文件下创建和 md文件同名的文件夹，里面存放需要的图片，然后在 markdown 中插入图片：</p><blockquote><p>这里我使用typora自带的设置，在文件&gt;偏好设置&gt;图像中，可以设置将插入md文件中的图片备份到相应的位置（我这里设置为同名文件夹）</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">! [hexo image] (hexo&#x2F;image.png)</span><br></pre></td></tr></table></figure><blockquote><p>总结：我理解为，<code>post_asset_folder</code>要设置为true（每新建一个md，都会产生对应的图片文件夹，不管是否有图片，我使用typora产生图片文件夹，这样可以减少文件夹的数量），变为相对路径，然后<code>hexo-asset-image</code>插件可以确定相应位置。官方推荐的标签插入方式，并不能预览图片，不推荐使用。</p></blockquote><h1 id="图片无法显示问题"><a href="#图片无法显示问题" class="headerlink" title="图片无法显示问题"></a>图片无法显示问题</h1><blockquote><p>安装hexo-asset-image插件，这样正常使用markdown语法对图片的相对路径引用，即可实现编辑时可预览图片，且发布时插件自动将相对路径转为绝对路径。</p></blockquote><h2 id="方法1：-使用相对路径引用资源的"><a href="#方法1：-使用相对路径引用资源的" class="headerlink" title="方法1： 使用相对路径引用资源的"></a>方法1： 使用相对路径引用资源的</h2><p>使用文本编辑器打开站点根目录下的 <code>_ config.yml</code> 文件，将 <code>post_asset_folder</code> 值设置为 <code>true</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>修改之后会开启 Hexo 的文章资源文件管理功能。Hexo 将会在我们每一次通过 <code>hexo new &lt;title&gt;</code> 命令创建新文章时自动创建一个同名文件夹，于是我们便可以将文章所引用的相关资源放到这个同名文件夹下，然后通过相对路径引用。例如，你把一个 <code>example.jpg</code> 图片放在了这个同名文件夹中，使用相对路径的常规 markdown 语法 <code>&#123;% asset_img example.jpg  %&#125;</code>即可访问 。</p><blockquote><p>该种方法并不能解决我的问题。</p></blockquote><h2 id="方法2：使用一些免费的CDN-服务"><a href="#方法2：使用一些免费的CDN-服务" class="headerlink" title="方法2：使用一些免费的CDN 服务"></a>方法2：使用一些免费的CDN 服务</h2><blockquote><p>还没尝试，先保存着</p></blockquote><p>先解释一下什么是 CDN 服务。</p><p>CDN 全名是 Content Delivery Network，即内容分发网络。由于国内特殊的网络环境，许多把博客部署到 GitHub Pages 的同学都觉得访问速度太慢，尤其是有大量图片、大体积 CSS、JS 文件时。CDN 服务通过在全世界各个角落部署服务器来缓解这个问题，这些服务把来自源站（这里是 GitHub）的文件缓存在自己的各台服务器上，当有用户访问时则就近选择一台服务器返回结果，如此一来便能大大提高访问速度。</p><p>jsDelivr 是众多的公共 CDN 服务商中的一家，长久以来通过稳定优质的服务赢得了不少口碑。尤其值得一体的是，据它官网上的说法：</p><blockquote><p>jsDelivr is the only public CDN with a valid ICP license issued by the Chinese government, and hundreds of locations directly in Mainland China.</p></blockquote><p>它的速度在中国相当不错。而且还有一个重要特性：支持加速来自 GitHub 仓库的文件！只要构造一个类似这样的 URL：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;&lt;用户名&gt;&#x2F;&lt;仓库名&gt;@&lt;分支名&gt;&#x2F;&lt;文件路径&gt;</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;AlanDecode&#x2F;site-Blog@gh-pages&#x2F;favicon.ico</span><br></pre></td></tr></table></figure><p>就能直接访问对应文件。这一点可以被我们加以利用，用以加速博客上的 CSS、JS、图片等静态文件。</p><p>Maverick 自带了这个功能。回到仓库首页，点击 conf.py 文件，然后点击编辑按钮。修改 <code>enable_jsdelivr</code> 如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">enable_jsdelivr &#x3D; &#123;</span><br><span class="line">    &quot;enabled&quot;: True,</span><br><span class="line">    &quot;repo&quot;: &quot;&lt;你的用户名&gt;&#x2F;Blog-With-GitHub-Boilerplate@gh-pages&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>点击 Commit changes。然后修改你刚才添加的文章，在里面插入一张仓库中的图片：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是我的第一篇文章。文章使用 GitHub 管理，并通过 GitHub Actions 自动构建与发布！</span><br><span class="line"></span><br><span class="line">![幽灵公主剧照](.&#x2F;images&#x2F;Mononoke_Hime.jpg)</span><br></pre></td></tr></table></figure><p>发布后稍等片刻再访问你的网站，此时网站的图片都通过 jsDelivr 传输的。不信的话在图片上右键选择「在新标签页中打开图片」，看链接是否以 <code>cdn.jsdelivr.net</code> 开头。</p><p>要插入你自己的图片，请把图片上传到 <code>src/images</code> 文件夹里，然后在文章中使用 Markdown 语法引用即可。</p><p>除了在本地存储图片，还可以将图片上传到一些免费的CDN服务中。</p><p>比如<a href="(https://cloudinary.com/)">Cloudinary</a>提供的图片CDN服务，在Cloudinary中上传图片后，会生成对应的url地址，将地址直接拿来引用即可。或者上传到<a href="https://link.zhihu.com/?target=https://imgchr.com/">路过图床</a>（不用梯子）。</p><blockquote><p> [cloudinary] (25G的免费空间)</p></blockquote><p><a href="https://cloud.tencent.com/developer/article/1600295">写作与图片处理经验</a></p><h1 id="参考文档："><a href="#参考文档：" class="headerlink" title="参考文档："></a>参考文档：</h1><ul><li><p><a href="http://www.xinxiaoyang.com/programming/2016-11-25-hexo-image-bug/">http://www.xinxiaoyang.com/programming/2016-11-25-hexo-image-bug/</a></p></li><li><p><a href="https://blog.csdn.net/xjm850552586/article/details/84101345">https://blog.csdn.net/xjm850552586/article/details/84101345</a></p></li><li><p><a href="http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/">http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>无法打开github及个人博客的解决方法</title>
      <link href="2021/03/15/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E6%97%A0%E6%B3%95%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80github%E7%BD%91%E5%9D%80%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
      <url>2021/03/15/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E6%97%A0%E6%B3%95%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80github%E7%BD%91%E5%9D%80%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>该方案可以适用于所有访问不通的网站</p></blockquote><h1 id="无法成功打开github-网址的解决方法"><a href="#无法成功打开github-网址的解决方法" class="headerlink" title="无法成功打开github 网址的解决方法"></a>无法成功打开github 网址的解决方法</h1><p>配置了一台新电脑,输入github地址 一直在加载无法打开，确认了不是自己的网络差 解决办法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">windows下路径为：C:\Windows\System32\drivers\etc\hosts</span><br><span class="line">Linux下路径：/etc/hosts</span><br></pre></td></tr></table></figure><ol><li>修改hosts文件，如果显示需要权限就把文件拉到桌面再拉回来即可</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#github</span><br><span class="line"><span class="number">192.30</span><span class="number">.253</span><span class="number">.113</span> github.com</span><br><span class="line"><span class="number">192.30</span><span class="number">.253</span><span class="number">.113</span> github.com</span><br><span class="line"><span class="number">192.30</span><span class="number">.253</span><span class="number">.118</span> gist.github.com</span><br><span class="line"><span class="number">192.30</span><span class="number">.253</span><span class="number">.119</span> gist.github.com</span><br></pre></td></tr></table></figure><ol start="2"><li>如果还是不行 那就需要清除DNS缓存</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">windos: ipconfig /flushdns</span><br><span class="line">ios: sudo killall -HUP mDNSResponder</span><br></pre></td></tr></table></figure><h1 id="无法成功打开github-博客的解决方法"><a href="#无法成功打开github-博客的解决方法" class="headerlink" title="无法成功打开github 博客的解决方法"></a>无法成功打开github 博客的解决方法</h1><p><a href="http://tool.chinaz.com/dns">查询</a>自己的博客ip：如</p><img src="/2021/03/15/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E6%97%A0%E6%B3%95%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80github%E7%BD%91%E5%9D%80%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/20200817013710183.png" alt="在这里插入图片描述" style="zoom: 80%;"><p>然后剩下的步骤跟无法打开github网址一样</p>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Shell教程</title>
      <link href="2021/03/15/shellLearning/shell%E6%95%99%E7%A8%8B/"/>
      <url>2021/03/15/shellLearning/shell%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/anliven/p/6032081.html">https://www.cnblogs.com/anliven/p/6032081.html</a>  </p><p>shell调试的方法</p><blockquote><p>关于shell概述；常用命令的简介</p></blockquote><blockquote><p>遇到特殊符号时，使用反斜杠“\” 转义</p></blockquote><h1 id="Shell-概述"><a href="#Shell-概述" class="headerlink" title="Shell 概述"></a>Shell 概述</h1><blockquote><p>shell脚本主要对文件以及模型结果进行搜索和处理</p><p>shell跟python一样，选择[0:6]，表示6个，1-6。</p></blockquote><h2 id="Shell脚本概述"><a href="#Shell脚本概述" class="headerlink" title="Shell脚本概述"></a>Shell脚本概述</h2><p><code>#!</code> 解释器声明，是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即用哪一种 Shell<br>例如 <code>#!/bin/sh</code>，shell 脚本通常以此开头，用来告诉系统 <code>/bin/sh</code> 是用来执行该文件的程序。</p><p>在windows下可以这么写</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!C:\Program Files\Git\bin\bash</span></span><br></pre></td></tr></table></figure><p>anaconda执行shell的乱码问题</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 开始的时候输入这个</span></span><br><span class="line">export LANG=&quot;en_US.UTF-8&quot;</span><br><span class="line">https://blog.csdn.net/wirelessqa/article/details/19038325</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="http://c.biancheng.net/view/1120.html">http://c.biancheng.net/view/1120.html</a></p><p>删除命令 rm，一旦删除，则不可恢复</p><p>代码赏析</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 赋值表达，结合管道</span></span><br><span class="line">a=$(echo | sed -n &quot;1p&quot; back_traj_time.txt) # 赋值</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除多余空格</span></span><br><span class="line">a=$(echo | sed -n &quot;1p&quot; back_traj_time.txt | tr -d &quot;[ ]&quot;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 数值循环</span></span><br><span class="line">for i in &#123;1..2&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将某目录下的文件信息全部导入tdump中</span></span><br><span class="line">cat ./back_test2/tdump_back??????????  &gt;&gt; tdump</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">删除替换功能</span><br><span class="line"></span><br><span class="line">删除特定的字符</span><br><span class="line">       #将md取数</span><br><span class="line"><span class="meta">#</span><span class="bash"> newname=<span class="variable">$&#123;file%.*&#125;</span></span></span><br><span class="line"></span><br><span class="line">http://c.biancheng.net/view/1120.html</span><br><span class="line"></span><br><span class="line">tr 删除，是删除所有字符，例如，删除test，则是删除所有t,所有e，所有s</span><br><span class="line"></span><br><span class="line">sed 可以替换特定的字符串，如hello等</span><br><span class="line">特殊符号用\进行转义</span><br><span class="line"> ls ./back_test2/tdump_back?????????? &gt; tdump | sed -i &#x27;s/\.\/back_test2\///g&#x27; tdump</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多行变为一行，tr命令</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat a.txt | tr <span class="string">&#x27;\n&#x27;</span> <span class="string">&#x27;, &#x27;</span> | sed <span class="string">&#x27;s/,$//&#x27;</span></span></span><br><span class="line">https://blog.csdn.net/zhuying_linux/article/details/6825568</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta"> #</span><span class="bash"> 利用sed提取行数，%\:*表示截取前面的行数,$[]表示加减运算</span></span><br><span class="line">  echo &quot;sed -n &quot;$[$&#123;yymm%\:*&#125;-1],$[$&#123;yymm%\:*&#125;+22]p&quot; $&#123;MET&#125;/meteonamelist.txt&quot; &gt;&gt; CONTROL.base</span><br></pre></td></tr></table></figure><blockquote><p>更为详细的shell教程可以在<a href="https://www.runoob.com/linux/linux-shell.html">菜鸟教程shell</a>里找到</p></blockquote><p>输入sh，可以进入到shell 模式</p><p>man rename </p><p>可以查看帮助文档</p><p>文件夹/文件的处理</p><p><a href="https://www.runoob.com/linux/linux-file-content-manage.html">https://www.runoob.com/linux/linux-file-content-manage.html</a></p><h2 id="处理目录的常用命令"><a href="#处理目录的常用命令" class="headerlink" title="处理目录的常用命令"></a>处理目录的常用命令</h2><p>接下来我们就来看几个常见的处理目录的命令吧：</p><ul><li>ls（英文全拼：list files）: 列出目录及文件名</li><li>cd（英文全拼：change directory）：切换目录</li><li>pwd（英文全拼：print work directory）：显示目前的目录</li><li>mkdir（英文全拼：make directory）：创建一个新的目录</li><li>rmdir（英文全拼：remove directory）：删除一个空的目录</li><li>cp（英文全拼：copy file）: 复制文件或目录</li><li>rm（英文全拼：remove）: 删除文件或目录</li><li>mv（英文全拼：move file）: 移动文件与目录，或修改文件与目录的名称</li></ul><h2 id="Linux-文件内容查看"><a href="#Linux-文件内容查看" class="headerlink" title="Linux 文件内容查看"></a>Linux 文件内容查看</h2><p>Linux系统中使用以下命令来查看文件的内容：</p><ul><li><p>cat 由第一行开始显示文件内容</p></li><li><p>tac 从最后一行开始显示，可以看出 tac 是 cat 的倒着写！</p></li><li><p>nl  显示的时候，顺道输出行号！</p></li><li><p>more 一页一页的显示文件内容</p><blockquote><p>当使用 cat 命令查看文件内容时，如果文件过大，该怎么办呢？这就需要使用 more 命令。</p></blockquote></li><li><p>less 与 more 类似，但是比 more 更好的是，他可以往前翻页！</p><blockquote><p>只记less就好</p></blockquote></li><li><p>head 只看头几行</p></li><li><p>tail 只看尾巴几行</p></li></ul><p>==你可以使用 *man [命令]*来查看各个命令的使用文档，如 ：man cp==</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 命令可以用来显示文本文件的内容，也可以把几个文件内容附加到另一个文件中，即连接合并文件。</span></span><br><span class="line">cat [选项] 文件名</span><br><span class="line">cat 文件1 文件2 &gt; 文件3</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> head 命令默认显示文件的开头 10 行内容。如果想显示指定的行数，则只需使用 <span class="string">&quot;-n&quot;</span> 选项即可，例如：</span></span><br><span class="line">head -n 20 anaconda-ks.cfg</span><br></pre></td></tr></table></figure><h2 id="shell-重定向"><a href="#shell-重定向" class="headerlink" title="shell 重定向"></a>shell 重定向</h2><p>一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p><blockquote><p>在需要窗口输入的时候有用</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 &lt; infile &gt; outfile</span><br></pre></td></tr></table></figure><p>同时替换输入和输出，执行command1，从文件infile读取内容，然后将输出写入到outfile中</p><p>infile可以保存为txt格式的输入文件</p><p>read 是 Shell 内置命令，用来从标准输入中读取数据并赋值给变量。如果没有进行重定向，默认就是从键盘读取用户输入的数据；如果进行了重定向，那么可以从文件中读取数据。</p><p>【实例1】使用 read 命令给多个变量赋值。<a href="http://c.biancheng.net/view/2991.html">更多实例</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bashread -p &quot;Enter some information &gt; &quot; name url age</span><br><span class="line">echo &quot;网站名字：$name&quot;</span><br><span class="line">echo &quot;网址：$url&quot;</span><br><span class="line">echo &quot;年龄：$age&quot;</span><br></pre></td></tr></table></figure><h2 id="换行符"><a href="#换行符" class="headerlink" title="换行符"></a>换行符</h2><p>使用\进行换行，如果一行代码太长的话</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for dd in  1  2  3  4  5  6  7  8  9 10 11 12 13 14 \</span><br><span class="line">          15 16 17 18 19 20 21 22 23 24 25 26 27 28; do</span><br></pre></td></tr></table></figure><h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p>shell一般在linux里面可以直接使用。 在windows系统中，需要使用Git软件。先Git bash到相应的文件夹，然后再运行。需要先 sh 然后运行文件，跟运行python一样。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh traj_basic.sh</span><br></pre></td></tr></table></figure><p>有个网址可以check shell 脚本，比较适合我这种新手，Github中也可以找到相关的<a href="https://github.com/koalaman/shellcheck">安装介绍</a></p><p><a href="https://www.shellcheck.net/">https://www.shellcheck.net/</a></p><blockquote><p>我安装在anacoda里面，使用方法（感觉不是很有用）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shellchek 要检查的程序.sh</span><br></pre></td></tr></table></figure></blockquote><h2 id="常用操作-问题："><a href="#常用操作-问题：" class="headerlink" title="常用操作/问题："></a>常用操作/问题：</h2><p>清屏：clear or reset </p><h1 id="shell路径应该单独出来"><a href="#shell路径应该单独出来" class="headerlink" title="shell路径应该单独出来"></a>shell路径应该单独出来</h1><p>经过测试，通过对包含特殊字符的路径使用*<strong>双引号*</strong>进行处理，则可以方便有效的解决问题。shell测试如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FILEPATH=&quot;D:/OneDrive_LU/OneDrive - Lund University/GitHub_blog/MJblog/source/_posts/2021/博客学习&quot;;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 要引用时，应该这样</span></span><br><span class="line">&quot;$&#123;FILEPATH&#125;&quot;</span><br></pre></td></tr></table></figure><p>sleep可在指定的时间中挂起调用的进程。换句话说，sleep命令将下一条命令的执行之前暂停指定的秒数。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep NUMBER [SUFFIX]...</span><br></pre></td></tr></table></figure><p>ctrl + stop 停止当前进程</p><h2 id="终止当前程序："><a href="#终止当前程序：" class="headerlink" title="终止当前程序："></a>终止当前程序：</h2><p>快捷键：<br>Ctrl+c<br>在命令行下起着终止当前执行程序的作用，<br>Ctrl+d<br>相当于exit命令，退出当前shell<br>Ctrl+s<br>挂起当前shell（保护作用很明显哦）<br>Ctrl+q<br>解冻挂起的shell再不行就重新连接打开一个终端，reboot linux 或 kill 相关进程。</p><h2 id="批量的注释"><a href="#批量的注释" class="headerlink" title="批量的注释"></a>批量的注释</h2><p>==快捷键，ctrl+/==</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">:&lt;&lt;EOF</span><br><span class="line">echo &quot;1&quot;</span><br><span class="line">echo &quot;2&quot;</span><br><span class="line">echo &quot;3&quot;</span><br><span class="line">echo &quot;4&quot;</span><br><span class="line">EOF</span><br><span class="line">echo &quot;5&quot;</span><br><span class="line">echo &quot;6&quot;</span><br></pre></td></tr></table></figure><p>冒号在shell里是一个命令，代表什么都不做</p><blockquote><p>不要跟python里面的注释弄混了，python是可以使用’‘’这个三个单引号进行</p></blockquote><p>另外（ : &gt; data.log 等同于 cat /dev/null &gt; data.log 可以起到清空文件内容的作用）</p><h2 id="shell中的一些特殊符号"><a href="#shell中的一些特殊符号" class="headerlink" title="shell中的一些特殊符号"></a>shell中的一些特殊符号</h2><p><a href="https://www.jb51.net/article/69966.htm">https://www.jb51.net/article/69966.htm</a></p><p>**| 管道 (pipeline)<br>**pipeline 是 UNIX 系统，基础且重要的观念。连结上个指令的标准输出，做为下个指令的标准输入。<br>who | wc -l<br>善用这个观念，对精简 script 有相当的帮助</p><p>。</p><p>Linux shell：rename命令批量重命名文件</p><p><a href="https://blog.csdn.net/weixin_44498318/article/details/109311521">https://blog.csdn.net/weixin_44498318/article/details/109311521</a></p><h1 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h1><p>执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：**$n<strong>。</strong>n** 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……</p><h1 id="Shell-基本运算符"><a href="#Shell-基本运算符" class="headerlink" title="Shell 基本运算符"></a>Shell 基本运算符</h1><p>额外链接: <a href="https://blog.csdn.net/u012229282/article/details/102767383">Linux 下Shell脚本中的加减乘除运算</a></p><p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。例如，两个数相加(<strong>注意使用的是反引号 \</strong>`** 而不是单引号 *<em>‘***</em>)：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 使用 expr</span></span><br><span class="line">val=`expr 2 + 2`</span><br><span class="line">echo &quot;两数之和为 : $val&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用<span class="built_in">let</span></span></span><br><span class="line">let b=1+1; echo b # b为2</span><br><span class="line">c=5; let c*=5; echo $c # c为25</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用$[]</span></span><br><span class="line">d=$[$c+$b]; echo $d #d 为27</span><br></pre></td></tr></table></figure><p>注意，shell不能做小数运算，需要用到bc或者awk。bc的用法有些电脑没有（比如说我的电脑bc的方法就不行），这里重点记录下awk的用法。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> `awk -v x=7.1 -v y=5.2 <span class="string">&#x27;BEGIN&#123;printf &quot;%d&quot;,x/y&#125;&#x27;</span></span></span><br></pre></td></tr></table></figure><h1 id="shell中特殊符号"><a href="#shell中特殊符号" class="headerlink" title="shell中特殊符号"></a>shell中特殊符号</h1><p><a href="https://www.cnblogs.com/xuxm2007/archive/2011/10/20/2218846.html">https://www.cnblogs.com/xuxm2007/archive/2011/10/20/2218846.html</a></p><blockquote><p>因为由于命名问题，我的文件夹中名字中经常会带有特殊符号。shell中对特殊符号的写法，需要加双引号</p></blockquote><p>代码如下，如果<code>&quot;$&#123;y&#125;&quot;</code>不加双引号的话，会报错。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">y=&quot;D:/OneDrive_LU/OneDrive - Lund University/GitHub_blog/MJblog/source/_posts/2021/博客学习/github-博客搭建.md&quot;;</span><br><span class="line">if [ -f &quot;$&#123;y&#125;&quot; ]</span><br><span class="line">    then </span><br><span class="line">        echo 1</span><br><span class="line">else</span><br><span class="line">        echo 2</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><strong>‘string’ 单引号 (single quote)</strong><br>被单引号用括住的内容，将被视为单一字串。在引号内的代表变数的$符号，没有作用，也就是说，他被视为一般符号处理，防止任何变量替换。<br>heyyou=homeecho ‘$heyyou’ # We get $heyyou </p><p><strong>&quot;string&quot; 双引号 (double quote)</strong><br>被双引号用括住的内容，将被视为单一字串。它防止通配符扩展，但允许变量扩展。这点与单引数的处理方式不同。<br>heyyou=homeecho &quot;$heyyou&quot; # We get home </p><p>命令的执行控制</p>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMD快捷键_基础知识</title>
      <link href="2021/03/15/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/CMD%E5%BF%AB%E6%8D%B7%E9%94%AE_%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
      <url>2021/03/15/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/CMD%E5%BF%AB%E6%8D%B7%E9%94%AE_%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p>常用的按键</p><p>win+R 跳出prompt，然后输入cmd就可以调出运行框</p><p>dir  -显示路径下的所有文件</p><p>从C盘跳到D盘，按c: 或者按d:。</p><p>在cmd里运行python文件，如下（注意python路径要加入到系统路径中）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; python 需要执行的python文件</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>编程规范_风格经验学习</title>
      <link href="2021/03/15/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83_%E9%A3%8E%E6%A0%BC%E7%BB%8F%E9%AA%8C%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/03/15/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83_%E9%A3%8E%E6%A0%BC%E7%BB%8F%E9%AA%8C%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-shell-styleguide/contents/#shell">shell风格指南</a></p></blockquote><p><a href="https://www.jianshu.com/p/09abb264ab95">https://www.jianshu.com/p/09abb264ab95</a></p><ul><li>将命令或命令组合设为一个见名知意的别名，在一个Shell环境中可以被多次调用，同时，利于代码的清晰度，也便于代码的阅读。 通常封装在一个库文件中，比如：demo.lib</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> LOCAL=<span class="string">&#x27;local&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> GLOBAL=<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> OPEN_DEBUG=<span class="string">&#x27;set -x&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> CLOSE_DEBUG=<span class="string">&#x27;set +x&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> GET_IP_FQDN=<span class="string">&#x27;nslookup $&#123;IP_ADDRESS&#125; | tail -n 2 | sed -e &quot;$d&quot; | awk -F[=] &quot;&#123;print \$NF&#125;&quot; | sed -e &quot;s/^\s*//&quot; -e &quot;s/\.</span></span><br></pre></td></tr></table></figure><ul><li>将属性键值对，配置在文件中，供Shell读取，以此达到配置与代码的剥离，也避免程序的硬编码，比如：info.conf</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">NAME</span>=<span class="string">&quot;Zhou Shengshuai&quot;</span></span><br><span class="line"><span class="attr">COMPANY</span>=<span class="string">&quot;ZSS&quot;</span></span><br></pre></td></tr></table></figure><p><strong>如何执行lib中的alias呢？ 又如何读取info.conf中的属性值呢？下面的demo.sh一目了然。</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在当前进程中，Source参数文件demo.lib中的各个命令</span></span><br><span class="line"><span class="built_in">source</span> demo.lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全局变量IP_ADDRESS，在当前Shell环境中，可以被demo.lib共享，即：IP_ADDRESS可以在demo.lib被使用</span></span><br><span class="line">GLOBAL IP_ADDRESS=<span class="string">&quot;10.91.86.250&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行当前Shell环境中的命令，即：demo.lib中的GET_IP_FQDN</span></span><br><span class="line">GLOBAL IP_FQDN=`GET_IP_FQDN`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;IP FQDN: <span class="variable">$&#123;IP_FQDN&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行当前Shell环境中的命令，即：demo.lib中的OPEN_DEBUG</span></span><br><span class="line">OPEN_DEBUG</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在当前进程中，读取参数文件info.conf中的各个属性值</span></span><br><span class="line">CONF_FILE=<span class="string">&quot;info.conf&quot;</span></span><br><span class="line">[ -e <span class="variable">$&#123;CONF_FILE&#125;</span> ] &amp;&amp; <span class="built_in">source</span> <span class="variable">$&#123;CONF_FILE&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;NAME: <span class="variable">$NAME</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;COMPANY: <span class="variable">$COMPANY</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> test1&#123;</span><br><span class="line">    <span class="comment"># 局部变量，生存周期在函数体内</span></span><br><span class="line">    LOCAL v1=100</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test1</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;local variable: <span class="variable">$v1</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> test2</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment"># 全局变量，生存周期从函数调用开始被Shell环境共享</span></span><br><span class="line">GLOBAL v2=200</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test2</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;global variable: <span class="variable">$v2</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行当前Shell环境中的命令，即：demo.lib中的CLOSE_DEBUG</span></span><br><span class="line">CLOSE_DEBUG</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将整个EOF&quot;内容段&quot;作为命令输入</span></span><br><span class="line">cat &gt;output.txt &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">ABCDEFGHIJKLMNOPQRSTUVWXYZ</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经验 </tag>
            
            <tag> 模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>md分类以及添加站内搜索功能</title>
      <link href="2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/"/>
      <url>2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<blockquote><p>进行多方搜索，发现我的基本操作没有错误，主要是我拼写错误问题。</p><p>这里记录如何在主题下添加各个菜单项</p></blockquote><p><a href="https://blog.csdn.net/mqdxiaoxiao/article/details/93644533">Hexo博客NexT主题下添加分类、标签、关于菜单项</a></p><h1 id="如何对文章md文件分类"><a href="#如何对文章md文件分类" class="headerlink" title="如何对文章md文件分类"></a>如何对文章md文件分类</h1><p><a href="https://blog.csdn.net/maosidiaoxian/article/details/85220394">https://blog.csdn.net/maosidiaoxian/article/details/85220394</a></p><blockquote><p>该博客是2018年的，文中说的<code>permalink</code> 和 <code>new_post_name</code>的title不对应问题，会导致生成的html地址变更，但是<strong>貌似在最新Hexo版本中已经得到解决</strong>。</p><p>直接将<code>new_post_name</code>修改为想要的结果即可</p></blockquote><blockquote><p>这里，根据时间和分类对文章的md文件进行分类，时间是默认的为年份分类，年份文件夹下，为每个分类的文件夹。</p></blockquote><h1 id="为博客增加一个站内搜索"><a href="#为博客增加一个站内搜索" class="headerlink" title="为博客增加一个站内搜索"></a>为博客增加一个站内搜索</h1><blockquote><p>待办问题：</p><p>-博客搜索貌似是一个“或”的关系；</p><p>-另外我搜索的链接出现不对；</p></blockquote><p>next 官网中有关于这个内置的第三方插件的介绍，需要npm安装，根目录（hexo)配置文件和next主题配置文件的修改</p><p><a href="https://theme-next.js.org/docs/third-party-services/search-services.html#Local-Search">https://theme-next.js.org/docs/third-party-services/search-services.html#Local-Search</a></p><p>先是安装插件：</p><img src="/2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20210316104513133.png" alt="image-20210316104513133" style="zoom:50%;"><p>然后hexo根目录下设置</p><img src="/2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20210322222714842.png" alt="image-20210322222714842" style="zoom:50%;"><p>最后是next主题下的设置</p><img src="/2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20210322222755691.png" alt="image-20210322222755691" style="zoom:50%;"><p>更为详细的参数介绍，（比较有用的是content，修改为false，则匹配除文章内容以外的所有信息）。</p><p><a href="https://github.com/theme-next/hexo-generator-searchdb">https://github.com/theme-next/hexo-generator-searchdb</a></p> <img src="/2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20210322222755691.png" alt="image-20210322222755691" style="zoom:50%;"><h2 id="其他页面搜索无法显示问题"><a href="#其他页面搜索无法显示问题" class="headerlink" title="其他页面搜索无法显示问题"></a>其他页面搜索无法显示问题</h2><blockquote><p>发现一个小问题，如果是在主页进行搜索的话，是没有问题的，但是如果在其他页面（e.g., HTML教程页面搜索matlab常用函数）,则会出现如下链接：</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jackzheng-lu.github.io/2021/03/22/编程语言了解/HTML教程/2021/03/19/matlab学习/matlab-常用函数1/</span><br></pre></td></tr></table></figure><p>google搜索发现有可能是我的url和permenant的link没有正确设置</p><blockquote><p>花了一个小时，给博客添加了algolia搜索</p></blockquote><p>首先到官网注册个账号，<a href="https://www.algolia.com/%E3%80%82">https://www.algolia.com/。</a></p><p>Algolia提供了免费版本，包含5万个查询和1万个记录，基本上只能够一个小博客使用，大型的网站还是用他们的付费版本好一些。</p><p>在环境变量中添加</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变量名：HEXO_ALGOLIA_INDEXING_KEY</span><br><span class="line">变量值：你的Admin API Key</span><br></pre></td></tr></table></figure><img src="/2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/20191105094018537.png" class title="在这里插入图片描述"><blockquote><p>温习：环境变量在控制面板\系统和安全\系统，window10更新后，在右侧的相关设置里找到高级系统设置，就可以看到环境变量。</p></blockquote><p>每次更新完都要进行输入</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 前提是我已经将algolia变量放入到系统环境中</span><br><span class="line">hexo algolia</span><br><span class="line"># 如果没有放入到系统环境中，则应该这么做</span><br><span class="line">export HEXO_ALGOLIA_INDEXING_KEY=Admin API Key</span><br><span class="line">hexo algolia</span><br></pre></td></tr></table></figure><p>不要将admi API在根目录上设置文件保存（不要共享到公共库中）</p><p><strong>注意：</strong><code>Admin API KEY</code>一定不要放在<code>js</code>里，因为这个<code>key</code>是用来上传，删除和操作我们的云端数据的，所以一定要保管好。</p><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p><a href="https://github.com/oncletom/hexo-algolia">github上的库</a></p><p><a href="https://blog.csdn.net/lgyaxx/article/details/70666835">Algolia Search - 使用Javascript实现前端实时搜索</a></p><p><a href="https://blog.csdn.net/qq_35479468/article/details/107335663">https://blog.csdn.net/qq_35479468/article/details/107335663</a></p><p><a href="http://blog.langpz.com/Hexo-Next%E9%9B%86%E6%88%90Algolia%E6%90%9C%E7%B4%A2.html">http://blog.langpz.com/Hexo-Next%E9%9B%86%E6%88%90Algolia%E6%90%9C%E7%B4%A2.html</a></p><p><a href="https://www.raycoder.me/p/hugo-search-with-algolia/">https://www.raycoder.me/p/hugo-search-with-algolia/</a></p>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo学习</title>
      <link href="2021/03/09/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/hexo%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/03/09/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/hexo%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p> 更为详细的教程见<a href="https://hexo.io/zh-cn/docs/">Hexo官网教程</a>，这里对我用到的一些点进行整理</p></blockquote><h2 id="Hexo-主题的修改"><a href="#Hexo-主题的修改" class="headerlink" title="Hexo 主题的修改"></a>Hexo 主题的修改</h2><p>hexo 主页显示出tags和categories</p><p>在主题的<em>_config</em>文件中修改 （注意：修改完之后要进行hexo clean）</p><p><a href="https://blog.csdn.net/Wonz5130/article/details/84666519">https://blog.csdn.net/Wonz5130/article/details/84666519</a></p><h2 id="分类和标签的写法"><a href="#分类和标签的写法" class="headerlink" title="分类和标签的写法"></a>分类和标签的写法</h2><p>分类具有层次性和顺序性，标签没有。</p><blockquote><p>注意空格，如果没有空格，则不能正确显示。 </p><p>如果标签tags后面没有空格，即使categories后面填写正确，也不能正确显示（目测编码有顺序性）。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#两种写法,注意，这样子234是123的子分类</span></span><br><span class="line">categories: [<span class="string">&#x27;123&#x27;</span>,<span class="string">&#x27;234&#x27;</span>]</span><br><span class="line"><span class="comment">#官方推荐写法</span></span><br><span class="line">categories: </span><br><span class="line">- <span class="number">123</span></span><br><span class="line">- <span class="number">234</span></span><br><span class="line"><span class="comment"># 如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。</span></span><br><span class="line">categories:</span><br><span class="line">- [Diary, PlayStation]</span><br><span class="line">- [Diary, Games]</span><br><span class="line">- [Life]</span><br><span class="line"><span class="comment">#此时这篇文章同时包括三个分类： PlayStation 和 Games 分别都是父分类 Diary 的子分类，同时 Life 是一个没有子分类的分类。</span></span><br></pre></td></tr></table></figure><h2 id="模板的修改，scaffolds"><a href="#模板的修改，scaffolds" class="headerlink" title="模板的修改，scaffolds"></a>模板的修改，scaffolds</h2><p>Hexo的模板是指在新建的文章文件中默认填充的内容。例如，如果您修改scaffold/post.md中的Front-matter内容，那么每次新建一篇文章时都会包含这个修改。</p><h2 id="NEXT-主题，"><a href="#NEXT-主题，" class="headerlink" title="NEXT 主题，"></a>NEXT 主题，</h2><p>有很多插件和布局的修改，在<em>next</em>文件夹下面的<em>_config</em>文件中修改，非常方便</p><h2 id="Hexo常用的几个操作"><a href="#Hexo常用的几个操作" class="headerlink" title="Hexo常用的几个操作"></a>Hexo常用的几个操作</h2><ul><li><p>hexo clean, 清空博客内容，主要是在重新配置根目录<code>_config.yml</code>文件时使用</p></li><li><p>hexo g，生成博客</p></li><li><p>hexo s，打开静态博客</p></li><li><p>hexo debug，可以看出问题所在</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>github博客搭建</title>
      <link href="2021/03/03/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/github-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
      <url>2021/03/03/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/github-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p>具体流程可见网址：<a href="https://www.cnblogs.com/shwee/p/11421156.html">https://www.cnblogs.com/shwee/p/11421156.html</a> </p><h2 id="Hexo-的介绍"><a href="#Hexo-的介绍" class="headerlink" title="Hexo 的介绍"></a>Hexo 的介绍</h2><p>具体看<a href="https://hexo.io/zh-cn/docs/">Hexo官网</a></p><h2 id="无法成功更新git-page-（push-到git上"><a href="#无法成功更新git-page-（push-到git上" class="headerlink" title="无法成功更新git page （push 到git上)"></a>无法成功更新git page （push 到git上)</h2><p>有可能是github 网址的setting 中的source 没有选择对的branch，电脑上的更新对应的是master branch，</p><blockquote><p> 注意push 到github上面时，即使<code>deploy done: git</code>，也会存在延时现象（有可能几分钟甚至几小时）</p></blockquote><h1 id="push到git上面的登录问题"><a href="#push到git上面的登录问题" class="headerlink" title="push到git上面的登录问题"></a>push到git上面的登录问题</h1><p>hexo d 后显示登入界面，由于网速的问题，可能会造成无法成功传输？<a href="https://www.itread01.com/content/1541968100.html">https://www.itread01.com/content/1541968100.html</a></p><p>解决方法： Hexo根目录下，找到deployment，在repo那边改为https://後加 (Github)<strong>使用者名稱:密碼@</strong> 即可。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy: </span><br><span class="line">  type: git</span><br><span class="line">  repo: https://jackzheng-lu:密码@github.com/jackzheng-lu/jackzheng-lu.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>hexo d 后成功update git pages，但是有可能造成DNS污染(??)，无法登入github网址，需要重新清除缓存</p><h2 id="批量修改分类方法"><a href="#批量修改分类方法" class="headerlink" title="批量修改分类方法"></a>批量修改分类方法</h2><p><a href="https://www.dazhuanlan.com/2019/10/05/5d978431edbfe/">https://www.dazhuanlan.com/2019/10/05/5d978431edbfe/</a></p><blockquote><p>hexo并不存在批量修改分类的功能，但是能通过简单脚本进行快速修改。</p></blockquote><p>基本思路：</p><ul><li>通过shell脚本来写，结合sed命令。关于sed，它全名是stream editor，用程序的方式来编辑文本，基本上就是通过正则表达式来匹配进行替换删除之类的操作。</li><li>找到共通点：标签都是以tags:开头的，分类都是以categories:开头的等等，而且所有要提交的文档都放在了source/_posts目录下</li><li>程序解决思路：通过遍历固定目录下的文件，对每一个文件进行关键字查找匹配，至此大功告成。程序只是将功能实现</li></ul><h2 id="扩展学习："><a href="#扩展学习：" class="headerlink" title="扩展学习："></a>扩展学习：</h2><ul><li>sed命令的使用和介绍，可以参考<a href="http://coolshell.cn/articles/9104.html">sed 简明教程</a></li><li><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-shell-styleguide/contents/#shell">shell风格指南</a></li></ul><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul><li><a href="https://www.dazhuanlan.com/2019/10/05/5d978431edbfe/">https://www.dazhuanlan.com/2019/10/05/5d978431edbfe/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora编辑器介绍及快捷键</title>
      <link href="2021/02/24/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/Typora%E7%BC%96%E8%BE%91%E5%99%A8%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>2021/02/24/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/Typora%E7%BC%96%E8%BE%91%E5%99%A8%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>学习如何使用Hexo搭建个人的静态博客，目录以及链接等，使用的是Typora编辑器，后期还会将博客push到github上</p></blockquote><h1 id="Markdown编辑器Typora"><a href="#Markdown编辑器Typora" class="headerlink" title="Markdown编辑器Typora"></a>Markdown编辑器Typora</h1><p>Hexo是使用md(Markdown)的方式，针对于Markdown的编辑器，这里使用Typora，其他的可以看推荐 <a href="https://www.v1tx.com/post/best-markdown-editor/">6款好用的Markdown编辑器推荐</a></p><h2 id="Typora-的使用方法"><a href="#Typora-的使用方法" class="headerlink" title="Typora 的使用方法"></a>Typora 的使用方法</h2><p>这是网友总结的<a href="https://www.jianshu.com/p/b30955885e6d">Typora Markdown 手册</a>，非常详细，满足基本需求。另外一个链接，提供了一些</p><p>此外，还有<a href="https://daringfireball.net/projects/markdown/syntax">官网的指导手册</a>，为英文界面。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">问题：</span><br><span class="line"><span class="bullet">*</span> 如何建立各个md文件之间的联系？或者说资源的引用</span><br><span class="line">应该使用链接的方式：内链和外链（ctrl+click)。内部跳转的方式</span><br><span class="line"><span class="code"> </span></span><br></pre></td></tr></table></figure><p>[Typora常用快捷键] (D:\OneDrive_LU\OneDrive - Lund University\GitHub_blog\MJblog\source_posts\Typora常用快捷键.md)</p><blockquote><p>有很多md编辑器，他们分成两个界面，一个界面是md源代码，另外一个界面实时更新显示其效果，而Typora是浑然一体的，真正所见即所得，就跟在使用word一样方便。</p><p>并且，它可以通过插件免费的将md文件生成pdf（自动生成标签），word，便于笔记的存档和离线交互，完美。</p></blockquote><h2 id="Typora-快捷键修改"><a href="#Typora-快捷键修改" class="headerlink" title="Typora 快捷键修改"></a>Typora 快捷键修改</h2><h4 id="高亮颜色修改"><a href="#高亮颜色修改" class="headerlink" title="高亮颜色修改"></a>高亮颜色修改</h4><p>打开方式：文件 &gt; 偏好设置 &gt; 外观 &gt; 打开主题文件夹 &gt; <em>night.css</em>文件 &gt; Ctrl+F 搜索 mark &gt; 修改喜欢的 background(背景颜色) 和 color(字体颜色) 保存</p><h4 id="快捷键修改"><a href="#快捷键修改" class="headerlink" title="快捷键修改"></a>快捷键修改</h4><p>设置方式：文件 &gt; 偏好设置 &gt; 通用 &gt; 打开高级设置 &gt; 会看到两个json文件，打开其中一个 &gt; 在 “keyBinding” 中添加 “Highlight”:“Ctrl+Shift+H”&gt; 保存 &gt; 另一个json文件也在 “keyBinding” 中添加 “Highlight”:“Ctrl+Shift+H” &gt; 保存</p><p><a href="https://blog.csdn.net/December_shi/article/details/108690116">https://blog.csdn.net/December_shi/article/details/108690116</a></p><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><ul><li>无</li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Switch破解记录</title>
      <link href="2021/02/24/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/Switch%E7%A0%B4%E8%A7%A3%E8%AE%B0%E5%BD%95/"/>
      <url>2021/02/24/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/Switch%E7%A0%B4%E8%A7%A3%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>破解版switch区别（目前switch全版本可破）：</p><ul><li>tx软破：需要购买激活码和注入器（某宝有），破解完后为sxos系统</li><li>txpro软破：需要购买激活码和注入器（pro指配带了激活码的注入器），破解完后为sxos系统</li><li>大气层软破：系统免费，安装包和安装教程可以百度下哈设的游戏论坛</li><li>芯片硬破：需要焊接芯片，芯片自带sxos系统的激活码，不需要注入</li></ul><blockquote><p>2018年6月之后的机器不可以软破，因为老任已经将该漏洞填补了</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 生活记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> switch </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
