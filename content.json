{"meta":{"title":"JackZHENG_blog","subtitle":"","description":"","author":"JackZheng","url":"http://jackzheng-lu.github.io","root":"/"},"pages":[{"title":"categories","date":"2021-03-09T13:05:03.000Z","updated":"2021-03-15T02:31:10.001Z","comments":true,"path":"categories/index.html","permalink":"http://jackzheng-lu.github.io/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2021-03-09T13:06:42.000Z","updated":"2021-03-09T13:15:35.488Z","comments":true,"path":"tags/index.html","permalink":"http://jackzheng-lu.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"python_文件读写及修改","slug":"pythonLearning/python-文件读写及修改","date":"2021-04-29T13:57:49.000Z","updated":"2021-04-29T14:06:19.874Z","comments":true,"path":"2021/04/29/pythonLearning/python-文件读写及修改/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/29/pythonLearning/python-%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E5%8F%8A%E4%BF%AE%E6%94%B9/","excerpt":"","text":"https://www.cnblogs.com/zhxwind/p/8761618.html https://www.jb51.net/article/86560.htm 参考文献： 无","categories":[],"tags":[]},{"title":"shell_数学计算","slug":"shellLearning/shell-数学计算","date":"2021-04-29T09:01:53.000Z","updated":"2021-04-29T09:23:20.945Z","comments":true,"path":"2021/04/29/shellLearning/shell-数学计算/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/29/shellLearning/shell-%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97/","excerpt":"","text":"Shell 基本运算符expr 是一款表达式计算工具，使用它能完成表达式的求值操作。例如，两个数相加(注意使用的是反引号 \\`** 而不是单引号 *‘***)： 12345678910# 使用 exprval=`expr 2 + 2`echo &quot;两数之和为 : $val&quot;# 使用letlet b=1+1; echo b # b为2c=5; let c*=5; echo $c # c为25# 使用$[]d=$[$c+$b]; echo $d #d 为27 注意，shell不能做小数运算，需要用到bc或者awk。bc的用法有些电脑没有（比如说我的电脑bc的方法就不行），这里重点记录下awk的用法。 12#echo `awk -v x=7.1 -v y=5.2 &#x27;BEGIN&#123;printf &quot;%d&quot;,x/y&#125;&#x27; 算术运算符 说明/含义 +、- 加法（或正号）、减法（或负号） *、/、% 乘法、除法、取余（取模） ** 幂运算 ++、– 自增和自减，可以放在变量的前面也可以放在变量的后面 !、&amp;&amp;、|| 逻辑非（取反）、逻辑与（and）、逻辑或（or） &lt;、&lt;=、&gt;、&gt;= 比较符号（小于、小于等于、大于、大于等于） ==、!=、= 比较符号（相等、不相等；对于字符串，= 也可以表示相当于） &lt;&lt;、&gt;&gt; 向左移位、向右移位 ~、|、 &amp;、^ 按位取反、按位或、按位与、按位异或 =、+=、-=、*=、/=、%= 赋值运算符，例如 a+=1 相当于 a=a+1，a-=1 相当于 a=a-1 大于 -gt (greater than)小于 -lt (less than)大于或等于 -ge (greater than or equal)小于或等于 -le (less than or equal)不相等 -ne （not equal） 参考文献： http://c.biancheng.net/view/1169.html Linux 下Shell脚本中的加减乘除运算","categories":[],"tags":[]},{"title":"python_经验错误","slug":"pythonLearning/python-经验错误","date":"2021-04-29T00:15:43.000Z","updated":"2021-04-29T03:44:13.640Z","comments":true,"path":"2021/04/29/pythonLearning/python-经验错误/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/29/pythonLearning/python-%E7%BB%8F%E9%AA%8C%E9%94%99%E8%AF%AF/","excerpt":"","text":"string 的 replace 方法，需要注意 replace 不会改变原 string 的内容。 123456temp_str = &#x27;this is a test&#x27;print(temp_str.replace(&#x27;is&#x27;,&#x27;IS&#x27;)print(temp_str)#thIS IS a testthis is a test 参考文献： 无","categories":[],"tags":[]},{"title":"python_常用函数","slug":"pythonLearning/python-常用","date":"2021-04-28T14:22:28.000Z","updated":"2021-04-29T14:45:41.470Z","comments":true,"path":"2021/04/28/pythonLearning/python-常用/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/28/pythonLearning/python-%E5%B8%B8%E7%94%A8/","excerpt":"","text":"pPython一些常用的内置函数 https://www.runoob.com/python/python-built-in-functions.html set() 函数创建一个无序不重复元素集，可进行关系测试，删除重复数据，还可以计算交集、差集、并集等。 12345交集 &amp; : x&amp;y，返回一个新的集合，包括同时在集合 x 和y中的共同元素。并集 | : x|y，返回一个新的集合，包括集合 x 和 y 中所有元素。差集 - : x-y，返回一个新的集合,包括在集合 x 中但不在集合 y 中的元素。补集 ^ : x^y，返回一个新的集合，包括集合 x 和 y 的非共同元素。 map() 会根据提供的函数对指定序列做映射。第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。 123456789101112&gt;&gt;&gt; def square(x) : # 计算平方数 return x ** 2&gt;&gt;&gt; map(square, [1,2,3,4,5]) # 计算列表各个元素的平方[1, 4, 9, 16, 25]# 使用 lambda 匿名函数&gt;&gt;&gt; map(lambda x: x ** 2, [1, 2, 3, 4, 5]) [1, 4, 9, 16, 25]# 提供了两个列表，对相同位置的列表数据进行相加&gt;&gt;&gt; map(lambda x, y: x + y, [1, 3, 5, 7, 9], [2, 4, 6, 8, 10])[3, 7, 11, 15, 19] numpy函数包cheatsheet 参考文献： 无","categories":[],"tags":[]},{"title":"气候模型","slug":"气象学基础/ClimateModelBook_python","date":"2021-04-28T09:14:18.000Z","updated":"2021-04-28T09:35:11.386Z","comments":true,"path":"2021/04/28/气象学基础/ClimateModelBook_python/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/28/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/ClimateModelBook_python/","excerpt":"","text":"Climate models, the global energy budget, and Fun with Python 链接：https://brian-rose.github.io/ClimateLaboratoryBook/courseware/models-budgets-fun.html Climate is statistics of weather, e.g. space and time averages of temperature and precip. (statistics might also mean higher-order stats: variability etc) A minimal definition of a climate modelA representation of the exchange of energy between the Earth system and space, and its effects on average surface temperature. 能源守恒，是所有气象模型的关键 参考文献： 无","categories":[],"tags":[]},{"title":"hysplit_binary_netCDF","slug":"TrajectoryModel/hysplit-binary-netCDF","date":"2021-04-27T02:02:46.000Z","updated":"2021-04-27T08:24:44.562Z","comments":true,"path":"2021/04/27/TrajectoryModel/hysplit-binary-netCDF/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/27/TrajectoryModel/hysplit-binary-netCDF/","excerpt":"","text":"概述 NetCDF全称为network Common Data Format，中文译法为“网络通用数据格式”，对程序员来说，它和zip、jpeg、bmp文件格式类似，都是一种文件格式的标准。netcdf文件开始的目的是用于存储气象科学中的数据，现在已经成为许多数据采集软件的生成文件的格式。 从数学上来说，netcdf存储的数据就是一个多自变量的单值函数。用公式来说就是f(x,y,z,…)=value, 函数的自变量x,y,z等在netcdf中叫做维(dimension)或坐标轴(axix) 函数值value在netcdf中叫做变量(Variables) 而自变量和函数值在物理学上的一些性质，比如计量单位(量纲)、物理学名称等等在netcdf中就叫属性(Attributes) 参考文献： https://blog.csdn.net/loyal0821/article/details/80581596","categories":[],"tags":[]},{"title":"python_异常处理tryExcept","slug":"pythonLearning/python-异常处理tryExcept","date":"2021-04-27T01:42:00.000Z","updated":"2021-04-27T01:45:18.290Z","comments":true,"path":"2021/04/27/pythonLearning/python-异常处理tryExcept/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/27/pythonLearning/python-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86tryExcept/","excerpt":"","text":"Python 中，用try except语句块捕获并处理异常，其基本语法结构如下所示： 12345678try: 可能产生异常的代码块except [ (Error1, Error2, ... ) [as e] ]: 处理异常的代码块1except [ (Error3, Error4, ... ) [as e] ]: 处理异常的代码块2except [Exception]: 处理其它异常 从try except的基本语法格式可以看出，try 块有且仅有一个，但 except 代码块可以有多个，且每个 except 块都可以同时处理多种异常。 根据error的不同，采取不同的措施 例子12345678910try: a = int(input(&quot;输入被除数：&quot;)) b = int(input(&quot;输入除数：&quot;)) c = a / b print(&quot;您输入的两个数相除的结果是：&quot;, c )except (ValueError, ArithmeticError): print(&quot;程序发生了数字格式异常、算术异常之一&quot;)except : print(&quot;未知异常&quot;)print(&quot;程序继续运行&quot;) 参考文献： http://c.biancheng.net/view/4599.html","categories":[],"tags":[]},{"title":"python_虚拟环境","slug":"pythonLearning/python-虚拟环境创建","date":"2021-04-27T01:42:00.000Z","updated":"2021-04-29T00:13:14.957Z","comments":true,"path":"2021/04/27/pythonLearning/python-虚拟环境创建/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/27/pythonLearning/python-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA/","excerpt":"","text":"为了学习pytorch，接触到虚拟环境这个概念。 目的：将不同的python安装在不同的虚拟环境，能维持原生python不受函数包安装移除污染。例如将pytorch安装在虚拟环境中。 基本概念在虚拟环境里，各种软件包的版本，都由你来指定。它们和系统默认Python环境是相互隔离的，因此互不干扰。 123456789# 创建pytorch为库的名字conda create -n pytorch python=3.8# 激活虚拟库conda activate pytorch# 额外学习，如何看conda环境还有python的版本，输入conda info --envspython --version 如何在jupyter内部调用为了让Jupyter Notebook支持虚拟运行环境，需要在Anaconda里安装一个插件。(实测在jupyter打开的时候也能安装成功，关键是要将jupyter重开下) 1conda install nb_conda 重开jupyter后，看到了不同的虚拟环境的python选项，但是还无法看到pytorch的环境。(果然单看一个教程不一定能解决我的问题)。Google之后发现，原来还要在虚拟环境中安装ipykernel。在prompt中输入如下指令： 12345678910conda activate torchconda install ipykernelconda deactivate# 如果需要删除删除环境：conda remove -n your_env_name(虚拟环境名称) --all删除虚拟环境中的包：conda remove --name $your_env_name $package_name（包名） ok，重新启动jupyter就可以看到conda的虚拟环境了。 额外内容pip/conda常用命令123456789101112131415# 查看已经安装的包 pip list # 安装第三方包（版本的话使用==）pip install robotframework==2.8.7# 相关的知识链接：https://zhuanlan.zhihu.com/p/164666990# conda常用命令conda list：查看安装了哪些包。conda install package_name(包名)：安装包conda env list 或 conda info -e：查看当前存在哪些虚拟环境conda update conda：检查更新当前conda 参考文献： 如何在Jupyter Notebook中使用Python虚拟环境？ jupyter找不到conda的虚拟环境","categories":[],"tags":[]},{"title":"shell_debug调试","slug":"shellLearning/shell-debug调试","date":"2021-04-26T13:25:38.000Z","updated":"2021-04-27T13:02:21.674Z","comments":true,"path":"2021/04/26/shellLearning/shell-debug调试/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/26/shellLearning/shell-debug%E8%B0%83%E8%AF%95/","excerpt":"","text":"比较常用的就是 -n 和 -x 我们在前面介绍的调试手段是通过修改shell脚本的源代码，从其输出相关的调试信息来定位错误的，那有没有不修改源代码来调试shell脚本的方法呢？有的，那就是使用shell的执行选项，下面将介绍一些常用选项的用法： -n 只读取shell脚本，但不实际执行-x 进入跟踪方式，显示所执行的每一条命令-c “string” 从strings中读取命令 “-n”可用于测试shell脚本是否存在语法错误，但不会实际执行命令。 在shell脚本编写完成之后，实际执行之前，首先使用”-n”选项来测试脚本是否存在语法错误是一个很好的习惯。因为某些shell脚本在执行时会对系统环境产生影响，比如生成或移动文件等，如果在实际执行才发现语法错误，您不得不手工做一些系统环境的恢复工作才能继续测试这个脚本。 “-x”选项可用来跟踪脚本的执行，是调试shell脚本的强有力工具。”-x”选项使shell在执行脚本的过程中把它实际执行的每一个命令行显示出来，并且在行首显示一个”+”号。 “+”号后面显示的是经过了变量替换之后的命令行的内容，有助于分析实际执行的是什么命令。 “-x”选项使用起来简单方便，可以轻松对付大多数的shell调试任务,应把其当作首选的调试手段。 首先使用“-n”选项检查语法错误，然后使用“-x”选项跟踪脚本的执行，使用“-x”选项之前，别忘了先定制PS4变量的值来增强“-x”选项的输出信息，至少应该令其输出行号信息(先执行export PS4=’+[$LINENO]’，更一劳永逸的办法是将这条语句加到您用户主目录的.bash_profile文件中去)，这将使你的调试之旅更轻松。也可以利用trap,调试钩子等手段输出关键调试信息，快速缩小排查错误的范围，并在脚本中使用“set -x”及“set +x”对某些代码块进行重点跟踪。这样多种手段齐下，相信您已经可以比较轻松地抓出您的shell脚本中的臭虫了。如果您的脚本足够复杂，还需要更强的调试能力，可以使用shell调试器bashdb，这是一个类似于GDB的调试工具，可以完成对shell脚本的断点设置，单步执行，变量观察等许多功能，使用bashdb对阅读和理解复杂的shell脚本也会大有裨益。关于bashdb的安装和使用，不属于本文范围，您可参阅http://bashdb.sourceforge.net/上的文档并下载试用 参考文献： https://blog.csdn.net/weixin_42167759/article/details/80700719","categories":[],"tags":[]},{"title":"python_类和对象","slug":"pythonLearning/python-类和对象","date":"2021-04-25T11:24:28.000Z","updated":"2021-04-28T14:56:42.650Z","comments":true,"path":"2021/04/25/pythonLearning/python-类和对象/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/25/pythonLearning/python-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/","excerpt":"","text":"前言Python 是面向对象的编程语言。 面向对象编程（Object-oriented Programming，简称 OOP），是一种封装代码的方法。比如说，将乱七八糟的数据扔进列表中，这就是一种简单的封装，是数据层面的封装；把常用的代码块打包成一个函数，这也是一种封装，是语句层面的封装。 代码封装，其实就是隐藏实现功能的具体代码，仅留给用户使用的接口，就好像使用计算机，用户只需要使用键盘、鼠标就可以实现一些功能，而根本不需要知道其内部是如何工作的。 面向对象中，常用术语包括： 类：可以理解是一个模板，通过它可以创建出无数个具体实例。比如，前面编写的 tortoise 表示的只是乌龟这个物种，通过它可以创建出无数个实例来代表各种不同特征的乌龟（这一过程又称为类的实例化）。 对象：类并不能直接使用，通过类创建出的实例（又称对象）才能使用。这有点像汽车图纸和汽车的关系，图纸本身（类）并不能为人们使用，通过图纸创建出的一辆辆车（对象）才能使用。 属性：类中的所有变量称为属性。例如，tortoise 这个类中，bodyColor、footNum、weight、hasShell 都是这个类拥有的属性。 方法：类中的所有函数通常称为方法。不过，和函数所有不同的是，类方法至少要包含一个 self 参数（后续会做详细介绍）。例如，tortoise 类中，crawl()、eat()、sleep()、protect() 都是这个类所拥有的方法，类方法无法单独使用，只能和类的对象一起使用。 这个JavaScript里面的对象是一样的 定义类 注意，如果由单词构成类名，建议每个单词的首字母大写，其它字母小写。 通过上面的分析，可以得出这样一个结论，即 Python 类是由类头（class 类名）和类体（统一缩进的变量和函数）构成。例如，下面程序定义一个 TheFirstDemo 类： 1234567class TheFirstDemo: &#x27;&#x27;&#x27;这是一个学习Python定义的第一个类&#x27;&#x27;&#x27; # 下面定义了一个类属性 add = &#x27;http://c.biancheng.net&#x27; # 下面定义了一个say方法 def say(self, content): print(content) __init__() 函数在创建类时，我们可以手动添加一个 init() 方法，该方法是一个特殊的类实例方法，称为构造方法（或构造函数）。 使用 init() 函数将值赋给对象属性，或者在创建对象时需要执行的其他操作。 构造方法用于创建对象时使用，每当创建一个类的实例对象时，Python 解释器都会自动调用它。Python 类中，手动添加构造方法的语法格式如下： 12345678910# 创建名为 Person 的类，使用 __init__() 函数为 name 和 age 赋值：class Person: def __init__(self, name, age): self.name = name self.age = agep1 = Person(&quot;Bill&quot;, 63)print(p1.name)print(p1.age) 注释：每次使用类创建新对象时，都会自动调用 init() 函数。 对象方法对象也可以包含方法。对象中的方法是属于该对象的函数。 self 参数self 参数是对类的当前实例的引用，用于访问属于该类的变量。 它不必被命名为 self，您可以随意调用它，但它必须是类中任意函数的首个参数： 参考文献： http://c.biancheng.net/view/4512.html https://www.w3school.com.cn/python/python_classes.asp","categories":[],"tags":[]},{"title":"matlab_并行加速运算","slug":"编程语言学习/matlab-并行加速运算","date":"2021-04-25T04:13:20.000Z","updated":"2021-04-25T04:19:25.437Z","comments":true,"path":"2021/04/25/编程语言学习/matlab-并行加速运算/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%B9%B6%E8%A1%8C%E5%8A%A0%E9%80%9F%E8%BF%90%E7%AE%97/","excerpt":"","text":"高性能计算(High Performance Computing，HPC)是计算机科学的一个分支，研究并行算法和开发相关软件，致力于开发高性能计算机。可见并行计算是高性能计算的不可或缺的重要组成部分。 并行计算（Parallel Computing）是指同时使用多种计算资源解决计算问题的过程，是提高计算机系统计算速度和处理能力的一种有效手段。它的基本思想是用多个处理器来协同求解同一问题，即将被求解的问题分解成若干个部分，各部分均由一个独立的处理机来并行计算。并行计算系统既可以是专门设计的、含有多个处理器的超级计算机，也可以是以某种方式互连的若干台的独立计算机构成的集群。通过并行计算集群完成数据的处理，再将处理的结果返回给用户 平台是并行计算的载体，它决定着你可以用或只能用什么样的技术来实现并行计算。 多核和集群技术的发展，使得并行程序的设计成为提高数值计算效率的主流技术之一。常用的小型计算平台大致分为：由多核和多处理器构建的单计算机平台；由多个计算机组成的集群（Cluster）。前者通过共享内存进行数据交互，后者通过网络进行数据通信。 计算正在从 CPU（中央处理）向 CPU 与 GPU（协同处理）的方向发展。 GPU最早主要应用在图形计算机领域，近年来，它在通用计算机领域得到了迅猛的发展，使用GPU做并行计算已经变得越来越重要和高效。 常用的并行计算技术包括多线程技术、基于共享内存的OpenMP技术，基于集群的MPI技术等。但它们都需要用户处理大量与并行计算算法无关的技术细节，且不提供高效的算法库，与数值计算的关联较为松散。 2. Matlab并行计算初探Matlab 并行计算工具箱，使用多核处理器，GPU和计算机集群，解决计算和数据密集型问题。高层次的结构并行for循环，特殊阵列类型和并行数值算法，让你在没有而CUDA或MPI编程基础的条件下并行MATLAB应用程序。您可以使用带有Simulink的工具箱并行运行一个模型的多个仿真。 该工具箱，通过在本地workers（MATLAB计算引擎）上执行应用程序，来使用多核台式机的全部处理能力。不用改变代码，就可以在计算机集群或网格计算服务（使用MATLAB分布式计算服务器™）上运行相同的应用程序。可以交互地或批处理地运行并行应用程序。 包含以下特性： 并行for循环 (parfor)，可以在多个处理器上运行任务并行算法。 支持CUDA的NVIDIA GPU。 通过本地workers，充分利用台式机的多核处理器。 计算机集群和网格计算支持（通过MATLAB分布式计算服务）。 以交互方式和批量方式执行并行应用程序。 分布式阵列和SPMD（single-program-multiple-data），用于大型数据集的处理和数据并行算法。 参考文献： https://blog.csdn.net/haoji007/article/details/103409063","categories":[],"tags":[]},{"title":"matlab_gpu加速运算","slug":"编程语言学习/matlab-gpu加速运算","date":"2021-04-25T03:38:52.000Z","updated":"2021-04-25T04:24:22.050Z","comments":true,"path":"2021/04/25/编程语言学习/matlab-gpu加速运算/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-gpu%E5%8A%A0%E9%80%9F%E8%BF%90%E7%AE%97/","excerpt":"","text":"在MATLAB上做GPU计算主要分为三个步骤：数据的初始化、对GPU数据进行操作、把GPU上的数据回传给CPU。 有时候GPU受限于硬件架构，单精度的计算远快于双精度。这时候可以考虑在拷贝的时候顺便转换一下精度： 数据的初始化方法1是先在CPU上设置好数据然后拷贝到GPU，使用gpuArray； 方法2是直接在GPU上初始化数据。 1234567% 方法1M = magic(N);G = gpuArray(M);% 方法2A = zeros(10, &#x27;gpuArray&#x27;);r = gpuArray.rand(1, 100) % 一行，一百列 GPU上的数据回传给CPU最后是如何把GPU上的数据回传给CPU: B = gather (A); 其中A是GPU上的数据，B是CPU上的数据。B的内容在回传之后等于A。 电脑是否可以进行GPU加速如何查看电脑是否能用matlab进行GPU进行加速运算， 1gpuDevice MATLAB目前只支持Nvidia的显卡（即前面显示 CUDADevice with properties）。如果你的显卡是AMD的或者是Intel的，就得考虑另寻它路了。 实例（1）、将数据从CPU中搬入GPU，函数：gpuArray，用法 M = gpuArray(M)； （2）、在GPU中计算完成后，将数据搬出到CPU存储，函数：gather，用法M=gather(M)。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657% GPU计算运算实例1%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% test1： 使用GPU进行加速clcM = rand(2000,2000); % 生成一个随机矩阵tic[A1,B1] = eig(M); % 求该随机矩阵的特征值和特征向量t1=toc% 时间为3.69sticM = gpuArray(M); % 将数据从CPU中搬到GPU[A2,B2] = eig(M); % 求特征值和特征向量A2 = gather(A2); % 将数据从GPU中搬到CPUt2 = toc% 时间为3s% 结论：% 2000x2000的矩阵，两者的时间差别并不是很大，大概0.5s左右% 第一次使用时，GPU计算的耗时更长，大概4s多%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% test2: 将数据转换为单精度的类型，可以提高GPU计算的速度clcM = rand(2000,2000); % 生成一个随机矩阵tic[A1,B1] = eig(M); % 求该随机矩阵的特征值和特征向量t1=toc% 时间为3.69sticM = gpuArray(single(M)); % 将数据从CPU中搬到GPU[A2,B2] = eig(M); % 求特征值和特征向量A2 = gather(A2); % 将数据从GPU中搬到CPUt2 = toc% 时间为&lt;2s% 结论：% 单精度的GPU运算速度，比双精度的快了将近一倍的时间%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% test3:利用常用的pdist2函数进行测试clc;A=rand(8000,8000);B=rand(8000,8000);tic; C = (pdist2((A),(B))); toc % 150stic; D = gather(pdist2(gpuArray(A),gpuArray(B))); toc;% 12s% 结论：% 可以看出GPU好的话，对于大数据处理来说效果还是很ok的。 参考文献： https://blog.csdn.net/haoji007/article/details/103409063","categories":[],"tags":[]},{"title":"是否需要购买macbookPro","slug":"生活记录/是否需要购买macbookPro","date":"2021-04-25T00:06:00.000Z","updated":"2021-04-25T11:26:35.275Z","comments":true,"path":"2021/04/25/生活记录/是否需要购买macbookPro/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/25/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0macbookPro/","excerpt":"","text":"本来是想购买macbook pro，google之后发现M1的生态圈并不是很完善，这里做个记录 苹果公司拥有Rosetta 2-一种用于翻译用于英特尔处理器的代码的工具，以便M1芯片可以理解它。这应该意味着大多数现有的Mac应用程序都可以在新的M1 Mac上运行。 由于使用了Rosetta 2，因此您熟悉的许多应用程序都可以在M1 Mac上运行-但首次启动它们时将需要20秒的等待时间，因为Rosetta会翻译代码以便它们可以运行。通过Rosetta运行也可能会导致一些延迟-尽管希望它不会引起注意。 SSD过度写入的问题 我常用的几个工具： everything(一个便捷的搜索工具)”Everything” 是 Windows 上一款搜索引擎， onedrive matlab python/pytorch AI/PS等图像视频工具 参考文献： 无","categories":[{"name":"b","slug":"b","permalink":"http://jackzheng-lu.github.io/categories/b/"}],"tags":[]},{"title":"python_机器学习实例","slug":"pythonLearning/python-机器学习实例","date":"2021-04-18T12:10:49.000Z","updated":"2021-04-20T03:41:33.000Z","comments":true,"path":"2021/04/18/pythonLearning/python-机器学习实例/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/18/pythonLearning/python-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BE%8B/","excerpt":"","text":"pytorch深度学习实践笔记合集 https://www.bilibili.com/video/BV1Y7411d7Ys?p=3 线性规划 本质上，感觉是求最优点，以及如何避免局部最优。 分治法：其实就是类似二分法。 GDA (gradient descent algorithm 梯度下降算法)，核心公式： w是权重，cost是针对loss function，求导表示这个loss function对于权重的改变方向，利用这种关系来更新权重值，以达到一个最优化。 实际应用中发现，局部最优点的情况并不是很多，但是鞍点很多情况很多 可以使用指数加权的方式来平滑cost结果 如果出现cost的值 matrix cook book tensor 可以保存数据data和grad梯度 代码是在构建一个计算图 tensor在做计算，会做计算图。避免一直使用tensor做计算图。使用其中的值。 1比如l是张量tensor,则使用tensor.data 实例 123for x,y in zip(xs,ys): y_pred&#x3D;x+y# 通过zip进行拼装，来进行引用数值 一共有四步 准备数据集 设计模型 design model using Class construct loss and optimizer training cycle (forward,backward,update) 构造模型为类数据 *表示不知道输入参数的个数 参考文献： 无","categories":[],"tags":[]},{"title":"hysplit_so2Module","slug":"TrajectoryModel/hysplit-so2Module","date":"2021-04-15T11:29:20.000Z","updated":"2021-04-28T11:07:52.419Z","comments":true,"path":"2021/04/15/TrajectoryModel/hysplit-so2Module/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/15/TrajectoryModel/hysplit-so2Module/","excerpt":"","text":"z这里主要对SO2的module进行学习 网站上有对计算时间的估算，SO2，1小时间隔，72小时，5000个grid point，大概花费的时间为1小时。 SO2的模块主要是针对酸雨的，官方建议是直接对源code进行修改： There are more complex chemical conversion modules available that work with HYSPLIT. However, these are not routinely used and the recommendation would be to work directly with the source code rather than the pre-compiled PC executables for any customized applications. For example, the sulfate conversion model was developed for acid rain applications in North America and would require some modification for application to volcanic eruptions. Control文件范例 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768# 前面的跟标准的都一样03 06 24 00235.0 -95.0 10.045.0 -65.0 10.072010000.01..\\Fixed\\edas2427.bin #气象数据#这三项是必须的（但是发散源只要SO2就行）3SO210.0 0.100 00 00 00 00SO410.0 0.1 00 00 00 00 00SO4W10.0 0.1 00 00 00 00 00 # 源头grid的设置2 # 因为写了2，就要有两种设定40.0 -80.0 0.30 0.30 20.0 30.0 .\\ csnap 6 250 500 1000 2000 5000 1000000 00 00 00 0000 00 00 00 0001 999 00# 第二个设定40.0 -80.0 0.30 0.30 20.0 30.0 .\\ cavrg1 25000 00 00 00 0000 00 00 00 0000 01 00# 这是污染物运移的设定3 0.0 0.0 0.0 0.0 64.0 0.0 1.9 1.0E+050.0 0.0 0.0 0.00.00.0 0.0 0.0 0.0025 96.0 0.0 0.0 0.00.0 0.0 0.0 0.00.00.0 0.0 0.0 0.0025 96.0 0.0 0.0 0.00.0 0.0 0.0 0.00.0 SETUP.cfg 12345678INITD=0 run in 3D particle mode KHMAX=9999 don&#x27;t drop any old particlesNUMPAR=500 one particle per point if &lt; number grid ptsMAXPAR=350000 max number of particles in simulationMAXDIM=3 number of species on one particleQCYCLE=1.0 new emission cycle each hourDELT=0.0 automatic time step computationICHEM=4 forces conc grid = meteo grid # 注意这个！ PRCHEM.DAT file含有一个额外的文件 PRCHEM.DAT file Contains constants that can be changed to modify the sulfate chemistry conversion rates. 有对一些常数参数提出了建议，注意，不同季节的值不大一样 1234567891011121314150.90 CRITICAL RELATIVE HUMIDITY (RHCRIT)0.015 DAY SO2-SO4/HR (KSO2DY)0.002 NIGHT SO2-SO4/HR (KSO2NT)0.65 DRY TO WET SO4 CONVERSION FRACTION (D2WFR)0.90 HYDROGEN PEROXIDE (PPB) (H2O2)0.90 LIQUID WATER CONTENT (G/M3) (LWC)Suggested values for other seasons: Winter Spring Summer AutumnRHCRIT .90 .90 .90 .90KSO2DY .008 .020 .035 .015KSO2NT .001 .002 .003 .002D2WFR .65 .65 .65 .65H2O2 0.7 1.5 2.0 1.2LWC 0.2 1.0 2.2 0.8 emission inventory 不支持点源（point grid)，支持面源（area grid)。跟常规的emission文件不一样。emission rate 是乘积因子 The emission duration is the same, but the emission rate is a multiplier to the gridded emission value. Normallyit would be set to 1.0. 参考文献： https://www.ready.noaa.gov/HYSPLIT_pcchem.php","categories":[],"tags":[]},{"title":"shell_if_循环语句","slug":"shellLearning/shell-if-循环语句","date":"2021-04-14T05:38:18.000Z","updated":"2021-04-29T08:26:38.188Z","comments":true,"path":"2021/04/14/shellLearning/shell-if-循环语句/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/14/shellLearning/shell-if-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5/","excerpt":"","text":"shell 循环语句for/do/doneShell脚本的for循环结构使用for/do/done。例如： matlab是for/end，python是for加： 123for FRUIT in apple banana pear; do echo &quot;I like $FRUIT&quot;done FRUIT是一个循环变量，第一次循环$FRUIT的取值是apple，第二次取值是banana，第三次取值是pear。 再比如，要将当前目录下的chap0、chap1、chap2等文件名改为chap0、chap1、chap2等（按惯例，末尾有字符的文件名表示临时文件），这个命令可以这样写： 1for FILENAME in chap?; do mv $FILENAME $FILENAME~; done 也可以这样写： 1for FILENAME in `ls chap?`; do mv $FILENAME $FILENAME~; done while循环语句12345# 读取文章filename中的每一行 while read -r linedo echo $linedone &lt; filename shell的if 语句基本语法1234567if [ command ];then 符合该条件执行的语句elif [ command ];then 符合该条件执行的语句else 符合该条件执行的语句fi 注意事项123456781、[ ]表示条件测试。注意这里的空格很重要。在&#39;[&#39;后面和&#39;]&#39;前面都必须要有空格&#x3D;3、注意if判断中对于变量的处理，需要加引号，以免一些不必要的错误。没有加双引号会在一些含空格等的字符串变量判断的时候产生错误。4、判断是不支持浮点值的5、如果只单独使用&gt;或者&lt;号，系统会认为是输出或者输入重定向，虽然结果显示正确，但是其实是错误的，因此要对这些符号进行转意6、在默认中，运行if语句中的命令所产生的错误信息仍然出现在脚本的输出结果中7、使用-z或者-n来检查长度的时候，没有定义的变量也为08、空变量和没有初始化的变量可能会对shell脚本测试产生灾难性的影响，因此在不确定变量的内容的时候，在测试号前使用-n或者-z测试一下9、? 变量包含了之前执行命令的退出状态（最近完成的前台进程）（可以用于检测退出状态） 一些常用的参数12345678常用的：[ -a FILE ] 如果 FILE 存在则为真。[ -d FILE ] 如果 FILE 存在且是一个目录则返回为真。[ -e FILE ] 如果 指定的文件或目录存在时返回为真。[ -f FILE ] 如果 FILE 存在且是一个普通文件则返回为真。[ -r FILE ] 如果 FILE 存在且是可读的则返回为真。[ -w FILE ] 如果 FILE 存在且是可写的则返回为真。（一个目录为了它的内容被访问必然是可执行的）[ -x FILE ] 如果 FILE 存在且是可执行的则返回为真。 if 高级特性：==双圆括号(( ))：表示数学表达式==在判断命令中，只允许进行简单的算术操作，而双圆括号提供更多的数学符号，而且在双括号里的’&gt;’,’&lt;’号不需要转意。 ==双方括号[[ ]]：表示高级字符串处理函数==双方括号中判断命令使用标准的字符串比较，还可以使用匹配模式，从而定义与字符串相匹配的正则表达式。 双括号的作用：在shell中，[ $a != 1 || $b = 2 ]是不允许出，要用[ $a != 1 ] || [ $b = 2 ]，而双括号就可以解决这个问题的，[[ $a != 1 || $b = 2 ]]。又比如这个[ “$a” -lt “$b” ]，也可以改成双括号的形式((“$a” &lt; “$b”)) 实例12345678910111213141516# 正则这里不需要引号doiido=&quot;hero&quot;if [[ &quot;$doiido&quot; =~ h* ]];then # 如果要不等号，[[ ! &quot;$doiido&quot; =~ h* ]]，注意空格5个一定要 echo &quot;hello，hero&quot;fi# 数值比较if [ &quot;$num&quot; -gt &quot;150&quot; ];then echo &quot;$num is biger than 150&quot;fi#变量比较if [ &quot;$var1&quot; = &quot;$var2&quot; ]; then echo &#x27;$var1 eq $var2&#x27;fi 参考文献： shell中的if语句","categories":[],"tags":[]},{"title":"shell_常用代码记录","slug":"shellLearning/shell-常用代码记录","date":"2021-04-14T02:44:32.000Z","updated":"2021-04-14T02:44:32.783Z","comments":true,"path":"2021/04/14/shellLearning/shell-常用代码记录/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/14/shellLearning/shell-%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/","excerpt":"","text":"参考文献： 无","categories":[],"tags":[]},{"title":"python_matplotlib画图","slug":"pythonLearning/python-matplotlib画图","date":"2021-04-13T12:14:56.000Z","updated":"2021-04-28T23:52:05.038Z","comments":true,"path":"2021/04/13/pythonLearning/python-matplotlib画图/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/13/pythonLearning/python-matplotlib%E7%94%BB%E5%9B%BE/","excerpt":"","text":"待补充完善，看参考文献 其他的一些画图方法 https://www.jianshu.com/p/3bb2cc453df1 123456789import matplotbli.pyplot as plt# 统一设置plt.plot(x,x,x,x*2,x,x/2,linewidth=3,color=&#x27;blue&#x27;)# 参数连用需要对不同的线进行分别设置plt.plot(x,x,&#x27;r:v&#x27;,x,x*2,&#x27;b--h&#x27;) 常用线条属性的修改 12345678#颜色的修改,透明度，填充颜色，线性plt.plot(x,y,color=&#x27;c&#x27;,alpha=0.3,facecolor=&#x27;red&#x27;,ls=&#x27;:&#x27;)#线宽，点形，点形大小plt.plot(x,y,lw=1.5,marker=&#x27;s&#x27;,markersize=60, # xticks函数设置坐标轴刻度和标签plt.xticks([0,np.pi/2,np.pi,3*np.pi/2,2*np.pi],[&#x27;0&#x27;,&#x27;π/2&#x27;,&#x27;π&#x27;,&#x27;3π/2&#x27;,&#x27;2π&#x27;]) 常用线性属性 常用标点属性 1234567891011# 获取figure对象（画布对象）# 设置画布的背景色figure = plt.figure(facecolor=&#x27;cyan&#x27;)# 设置坐标系的背景色axes = plt.subplot(111,facecolor=&#x27;blue&#x27;)# 设置线条的颜色axes.plot(x,x,x,x*2,color=&#x27;yellow&#x27;) 保存图像模板12# dpi设置像素大小figure.savefig(&#x27;18011.png&#x27;,dpi=50) 参考文献： https://blog.csdn.net/weixin_42042680/article/details/80738699","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[]},{"title":"机器学习李宏毅课程_作业","slug":"机器学习教程/机器学习李宏毅课程-作业","date":"2021-04-13T09:22:17.000Z","updated":"2021-04-13T12:05:21.006Z","comments":true,"path":"2021/04/13/机器学习教程/机器学习李宏毅课程-作业/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B-%E4%BD%9C%E4%B8%9A/","excerpt":"","text":"https://www.bilibili.com/video/av96698631/ 参考文献： 无","categories":[],"tags":[]},{"title":"python_基本教程","slug":"pythonLearning/python-basicIntroduction","date":"2021-04-13T00:09:12.000Z","updated":"2021-04-28T23:54:16.633Z","comments":true,"path":"2021/04/13/pythonLearning/python-basicIntroduction/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/13/pythonLearning/python-basicIntroduction/","excerpt":"","text":"目的简单快速的将python的基本知识做个浏览，并且就记录下自己觉得有用的关键信息。 更为进阶学习适合结合实例进行更深一步的了解掌握。 你可以在以下链接中下载 Python 的文档，你可以下载 HTML、PDF 和 PostScript 等格式的文档。 Python文档下载地址：https://www.python.org/doc/ python 前言Python 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言。 Python 的设计具有很强的可读性，相比其他语言经常使用英文关键字，其他语言的一些标点符号，它具有比其他语言更有特色语法结构。 Python 是一种解释型语言： 这意味着开发过程中没有了编译这个环节。类似于PHP和Perl语言。 关于编译的简单理解：编译原理入门篇 Python 是交互式语言： 这意味着，您可以在一个 Python 提示符 &gt;&gt;&gt; 后直接执行代码。 Python 是面向对象语言: 这意味着Python支持面向对象的风格或代码封装在对象的编程技术。 Python 是初学者的语言：Python 对初级程序员而言，是一种伟大的语言，它支持广泛的应用程序开发，从简单的文字处理到 WWW 浏览器再到游戏。 环境搭建程序和可执行文件可以在许多目录，而这些路径很可能不在操作系统提供可执行文件的搜索路径中。path(路径)存储在环境变量中，这是由操作系统维护的一个命名的字符串。这些变量包含可用的命令行解释器和其他程序的信息。 Unix或Windows中路径变量为PATH（UNIX区分大小写，Windows不区分大小写）。 在环境变量中添加Python目录， 在命令提示框中(cmd) : 输入如下后，按下 Enter。 1path&#x3D;%path%;C:\\Python 注意: C:\\Python 是Python的安装目录 实际尝试之后发现这个无法永久添加？？？ 运行python你可以通过命令行窗口进入 Python，并在交互式解释器中开始编写 Python 代码。你可以在 Unix、DOS 或任何其他提供了命令行或者 shell 的系统进行 Python 编码工作。 12C:&gt;python # Windows/DOS# -v 为输出python版本号 在你的应用程序中通过引入解释器可以在命令行中执行Python脚本，如下所示： 1$ python script.py # Unix/Linux 中文编码问题Python中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。解决方法为只要在文件开头加入如下代码即可 1# -*- coding: UTF-8 -*- Python3.X 源码文件默认使用utf-8编码，所以可以正常解析中文，无需指定 UTF-8 编码。 python 基础语法==交互式编程== windows上你只需要在命令行中输入 Python 命令即可启动交互式编程,提示窗口如下： ==脚本式编程== 通过脚本参数调用解释器开始执行脚本，直到脚本执行完毕。当脚本执行完成后，解释器不再有效。 1&gt;&gt; python test.py 前提式python已经在环境变量之中。此外还有另外一种执行方式，可以将脚本写成这样子 123#!/usr/bin/pythonprint (&quot;Hello, Python!&quot;) 这里，假定您的Python解释器在/usr/bin目录中，使用以下命令执行脚本： 12$ chmod +x test.py # 脚本文件添加可执行权限$ ./test.py 额外说明： #!/usr/bin/env python 有什么用？ 无法在我的window系统上做到这项操作，不明白为啥…参考上面文献，使用#!/usr/bin/env python成功，但是要在sh的环境中 #!/usr/bin/env python(推荐）: 这种用法是为了防止操作系统用户没有将 python 装在默认的 /usr/bin 路径里。当系统看到这一行的时候，首先会到 env 设置里查找 python 的安装路径，再调用对应路径下的解释器程序完成操作。 标识符在 Python 中，所有标识符可以包括英文、数字以及下划线(_)，但不能以数字开头。 以下划线开头的标识符是有特殊意义的。以单下划线开头 _foo 的代表不能直接访问的类属性，需通过类提供的接口进行访问，不能用 from xxx import * 而导入。 以双下划线开头的 __foo 代表类的私有成员，以双下划线开头和结尾的 foo 代表 Python 里特殊方法专用的标识，如 init() 代表类的构造函数 行和缩进学习 Python 与其他语言最大的区别就是，Python 的代码块不使用大括号 {} 来控制类，函数以及其他逻辑判断。python 最具特色的就是用缩进来写模块。 缩进的空白数量是可变的，但是所有代码块语句必须包含相同的缩进空白数量，==这个必须严格执行==。 建议你在每个缩进层次使用 单个制表符 或 两个空格 或 四个空格 , 切记不能混用 其他知识换行可以使用斜杠（ \\）将一行的语句分为多行显示。\\n表示换行显示。 123456total = item_one + \\ item_two + \\ item_three# 但是包含[],&#123;&#125;或者()的就不需要连接符了days = [&#x27;Monday&#x27;, &#x27;Tuesday&#x27;, &#x27;Wednesday&#x27;, &#x27;Thursday&#x27;, &#x27;Friday&#x27;] 引号Python 可以使用引号( ‘ )、双引号( “ )、三引号( ‘’’ 或 “”” ) 来表示字符串，引号的开始与结束必须是相同类型的。 其中三引号可以由多行组成，编写多行文本的快捷语法，常用于文档字符串，在文件的特定地点，被当做注释。 注释python中单行注释采用 # 开头==（快捷键ctrl+/)==。python 中多行注释使用三个单引号(‘’’)或三个双引号(“””)。 同一行显示多条语句Python可以在同一行中使用多条语句，语句之间使用分号(;)分割。 python 变量类型Python 定义了一些标准类型，用于存储各种类型的数据。 Python有五个标准的数据类型： Numbers（数字） String（字符串） List（列表），==[]表示== Tuple（元组），==()表示== Dictionary（字典）, =={} 表示== 变量的选取 python的下标是==从 0 开始算起==，可以是正数或负数，下标可以为空表示取到头或尾。**[头下标:尾下标]** 获取的子字符串包含头下标的字符，但不包含尾下标的字符。 1234567str = &#x27;Hello World!&#x27; print str[0] # 输出字符串中的第一个字符print str[2:5] # 输出字符串中第三个至第六个之间的字符串print str[2:] # 输出从第三个字符开始的字符串print str * 2 # 输出字符串两次print str + &quot;TEST&quot; # 输出连接的字符串 列表 listList（列表） 是 Python 中使用最频繁的数据类型。 列表的更新, append()；删除，del()； 12345list = [] ## 空列表list.append(&#x27;Google&#x27;) ## 使用 append() 添加元素list.append(&#x27;Runoob&#x27;)print list# [&#x27;Google&#x27;, &#x27;Runoob&#x27;] 一些相关运算，仅列出部分可能常用的，更多list运算 [1, 2, 3] + [4, 5, 6] [1, 2, 3, 4, 5, 6] 组合 [‘Hi!’] * 4 [‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’] 重复 3 in [1, 2, 3] True 元素是否存在于列表中 序号 方法 1 list.append(obj) 在列表末尾添加新的对象 3 list.extend(seq) 在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表） 4 list.index(obj) 从列表中找出某个值第一个匹配项的索引位置 5 list.insert(index, obj) 将对象插入列表 7 list.remove(obj) 移除列表中某个值的第一个匹配项 8 list.reverse() 反向列表中元素 python 里面的slicing是取头不取尾。 1&gt;&gt;&gt; a[0:6:2] （表示为0,2,4） 元组tuple也是最常用的数据类型。元组用 () 标识。内部元素用逗号隔开。==元组不能二次赋值，相当于只读列表。== 可以对元组进行操作，但是不能对元组的元素进行操作 与字符串一样，元组之间可以使用 + 号和 * 号进行运算。这就意味着他们可以组合和复制，运算后会生成一个新的元组。 字典 dictionary字典(dictionary)是除列表以外python之中最灵活的内置数据结构类型。列表是有序的对象集合，字典是无序的对象集合。 两者之间的区别在于：字典当中的元素是通过键key来存取的，而不是通过偏移存取。 字典用”{ }”标识。字典由==索引(key)==和它对应的==值value==组成。 12345678910111213dict = &#123;&#125;dict[&#x27;one&#x27;] = &quot;This is one&quot;dict[2] = &quot;This is two&quot; tinydict = &#123;&#x27;name&#x27;: &#x27;runoob&#x27;,&#x27;code&#x27;:6734, &#x27;dept&#x27;: &#x27;sales&#x27;&#125; print dict[&#x27;one&#x27;] # 输出键为&#x27;one&#x27; 的值print dict[2] # 输出键为 2 的值print tinydict.keys() # 输出所有键print tinydict.values() # 输出所有值del dict[&#x27;name&#x27;] # 删除键是&#x27;name&#x27;的条目dict.clear() # 清空字典所有条目 键必须不可变，所以可以用数字，字符串或元组充当，所以用列表就不行 python 运算符 比较特殊的几个运算 % 取模 - 返回除法的余数 b % a 输出结果 0 ** 幂 - 返回x的y次幂 a**b 为10的20次方， 输出结果 100000000000000000000 // 取整除 - 返回商的整数部分（向下取整） &gt;&gt;&gt; 9//2 4 &gt;&gt;&gt; -9//2 -5 一些写法 += 加法赋值运算符 c += a 等效于 c = c + a -= 减法赋值运算符 c -= a 等效于 c = c - a *= 乘法赋值运算符 c *= a 等效于 c = c * a /= 除法赋值运算符 c /= a 等效于 c = c / a %= 取模赋值运算符 c %= a 等效于 c = c % a **= 幂赋值运算符 c **= a 等效于 c = c ** a //= 取整除赋值运算符 c //= a 等效于 c = c // a 注意 &amp;(和)，|(或)，~(取反)等运算符是位运算符(把数字看作二进制来进行计算的)。想起我python考试的时候老师还问过我&amp;和and的区别….更多关于位运算符 逻辑运算符 这个是我常用的 and (和)， or (或)，not (非) 成员运算符 又是个有用但是我不熟悉的 描述 实例 in 如果在指定的序列中找到值返回 True，否则返回 False。 x 在 y 序列中 , 如果 x 在 y 序列中返回 True。 not in 如果在指定的序列中没有找到值返回 True，否则返回 False。 x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True 1234567891011a = 10b = 20list = [1, 2, 3, 4, 5 ]; if ( a in list ): print &quot;1 - 变量 a 在给定的列表中 list 中&quot; if ( b not in list ): print &quot;2 - 变量 b 不在给定的列表中 list 中&quot;else: print &quot;2 - 变量 b 在给定的列表中 list 中&quot; 身份运算符 描述 实例 is is 是判断两个标识符是不是引用自一个对象 x is y, 类似 id(x) == id(y) , 如果引用的是同一个对象则返回 True，否则返回 False is not is not 是判断两个标识符是不是引用自不同对象 x is not y ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。 1234567891011121314# is 与 == 区别：# is 用于判断两个变量引用对象是否为同一个(同一块内存空间)， == 用于判断引用变量的值是否相等。&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; b = a&gt;&gt;&gt; b is a True&gt;&gt;&gt; b == aTrue&gt;&gt;&gt; b = a[:]&gt;&gt;&gt; b is aFalse&gt;&gt;&gt; b == aTrue python 条件/循环语句条件语句当if有多个条件时可使用括号来区分判断的先后顺序，括号中的判断优先执行，此外 and 和 or 的优先级低于&gt;（大于）、&lt;（小于）等判断符号，即大于和小于在没有括号的情况下会比与或要优先判断。 123456if 判断条件1: 执行语句1……elif 判断条件2: 执行语句2……else: 执行语句4…… 循环语句 循环类型 描述 while 循环 在给定的判断条件为 true 时执行循环体，否则退出循环体。 for 循环 重复执行语句 嵌套循环 你可以在while循环体中嵌套for循环 循环控制语句可以更改语句执行的顺序。Python支持以下循环控制语句： 控制语句 描述 break 语句 在语句块执行过程中终止循环，并且跳出整个循环 continue 语句 在语句块执行过程中终止当前循环，跳出该次循环，执行下一次循环。 pass 语句 pass是空语句，是为了保持程序结构的完整性。 for和while都可以使用else语句 python 日期和时间每个时间戳都以自从1970年1月1日午夜（历元）经过了多长时间来表示。 1970年之前的日期就无法以此表示了。太遥远的日期也不行，UNIX和Windows只支持到2038年 python函数 函数代码块以 def 关键词开头，后接函数标识符名称和圆括号**()**。 任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数。 函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。 函数内容以冒号起始，并且缩进。 return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None 基本写法： 1234def functionname( parameters ): &quot;函数_文档字符串&quot; function_suite return [expression] 关键字参数关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。 使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。 123456789#可写函数说明def printinfo( name, age ): &quot;打印任何传入的字符串&quot; print &quot;Name: &quot;, name print &quot;Age &quot;, age return #调用printinfo函数printinfo( age=50, name=&quot;miki&quot; ) 不定长参数你可能需要一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数，和上述2种参数不同，声明时不会命名。基本语法如下： 12345678910111213141516171819#基本写法def functionname([formal_args,] *var_args_tuple ): &quot;函数_文档字符串&quot; function_suite return [expression]# 可写函数说明def printinfo( arg1, *vartuple ): &quot;打印任何传入的参数&quot; print &quot;输出: &quot; print arg1 for var in vartuple: print var return # 调用printinfo 函数printinfo( 10 )printinfo( 70, 60, 50 ) 这个应该很有用！！！ 加了星号的参数会以元组的形式导入 匿名函数python 使用 lambda 来创建匿名函数。 123456# 可写函数说明sum = lambda arg1, arg2: arg1 + arg2 # 调用sum函数print &quot;相加后的值为 : &quot;, sum( 10, 20 ) # 30print &quot;相加后的值为 : &quot;, sum( 20, 20 ) # 40 python 模块Python 模块(Module)，是一个 Python 文件，以 .py 结尾，包含了 Python 对象定义和Python语句。 模块让你能够有逻辑地组织你的 Python 代码段。 把相关的代码分配到一个模块里能让你的代码更好用，更易懂。 模块能定义函数，类和变量，模块里也能包含可执行的代码。 python 文件I/Oinputinput([prompt]) 函数可以接收一个Python表达式作为输入，并将运算结果返回。 12345#!&#x2F;usr&#x2F;bin&#x2F;python# -*- coding: UTF-8 -*- str &#x3D; input(&quot;请输入：&quot;)print &quot;你输入的内容是: &quot;, str read()方法read（）方法从一个打开的文件中读取一个字符串。需要重点注意的是，Python字符串可以是二进制数据，而不是仅仅是文字。 OS模块Python的os模块提供了帮你执行文件处理操作的方法，可以重命名和删除文件，创建，删除和更改目录 要使用这个模块，你必须先导入它，然后才可以调用相关的各种功能。 python的内置函数更多看链接：https://www.runoob.com/python/python-built-in-functions.html map() 会根据提供的函数对指定序列做映射。 第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。 Python3.x 中 input() 函数接受一个标准输入数据，返回为 string 类型。 参考文献 Python 基础教程 python进阶","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[]},{"title":"机器学习入门概率","slug":"机器学习教程/机器学习入门概述","date":"2021-04-12T00:13:46.000Z","updated":"2021-04-12T00:56:41.679Z","comments":true,"path":"2021/04/12/机器学习教程/机器学习入门概述/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%E6%A6%82%E8%BF%B0/","excerpt":"","text":"j j机器学习的课程： 2020年李宏毅的机器学习课程（bili官网） 带有数据和ppt 课程视频： https://www.bilibili.com/video/av94519857 作业ppt及答案： https://github.com/Iallen520/lhy_DL_Hw http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML20.html Carnegie Mellon University Tom Mitchellhttp://www.cs.cmu.edu/~tom/10701_sp11/lectures.shtml 参考文献： 无","categories":[],"tags":[]},{"title":"机器学习李宏毅课程","slug":"机器学习教程/机器学习李宏毅课程","date":"2021-04-12T00:13:46.000Z","updated":"2021-04-26T00:27:24.482Z","comments":true,"path":"2021/04/12/机器学习教程/机器学习李宏毅课程/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9D%8E%E5%AE%8F%E6%AF%85%E8%AF%BE%E7%A8%8B/","excerpt":"","text":"机器学习就是找函数。用机器取找函数来解决问题 课程的学习图 Explainable AI: 为什么AI会知道猫是猫 Adversarial Attack network compression: 将模型缩小，易于移植 Transfer Learning: 训练资料和测试资料不一样的时候，怎么办 meta learning: 机器自己学习如何学习，机器学习的效率并不是很有效率（由于人类找到的方法并不是很有效率） Kaggle是一个数据分析的竞赛平台，网址：https://www.kaggle.com/ 上传kaggle，5次结果 前期准备将不同的python安装在不同的虚拟环境，能维持原生python不受函数包安装移除污染。例如将pytorch安装在虚拟环境中。 回归regression线性回归，加上一个regulation项，可以加强对模型的构建 目的是为了是model对input的noise噪声不是很敏感 error的来源 bias和variance，相当于测样中的accuracy (bias) 和precise 利用train data训练集来训练模型，然后利用test data来测试模型 多个简单的模型，他们的variance比较小。（受到输入数据的影响小） 多个复杂的模型，variance大，bias小 logistic regression 聚类分析，通俗点讲，就是概率，属于哪一类的概率最大。 bernuli的交叉熵(cross entropy) square error 和 cross entropy的结果（如图），square error 的训练速度会非常慢，出现甚至卡机的现象。 generative 模型，受数据量的影响少，有先验假设(类似于脑补)， discriminative 模型，有先验假设，受数据量 模型的评估与选择 错误率： 在m 个样本中有a 个样本分类错误，则错误率E=a/m； 精度：1-E，即1-错误率。 过拟合和欠拟合 欠拟合比较容易克服，例如在决策树学习中扩展分支、在神经网络学习中增加训练轮数等。 而过拟合则很麻烦．在后面的学习中我们将看到，过拟合是机器学习面临的关键障碍，各类学习算法都必然带有一些针对过拟合的措施；然而必须认识到，过拟合是无法彻底避免的，我们所能做的只是“缓解”，或者说减小其风险． 评估方法需使用一个“测试集”(testing set) 来测试学习器对新样本的判别能力、可解释性等方面的因素，然后以测试集上的＂测试误差”(testing error) 作为泛化误差的近似。测试集（testing set ）和训练集（training set ） 但是，我们希望评估的是全部样本训练出来的模型。 留出法(hold-out)因此，单次使用留出法得到的估计结果往往不够稳定可靠，在使用留出法时，一般要采用若干次随机划分、重复进行实验评估后取平均值作为留出法的评估结果。==常见做法是将大约2/3 ~4/5 的样本用于训练，剩余样本用千测试。== 交叉验证法(cross validation)将数据分为k份，k-1份作为训练集，最后一份作为测试集，这样可以做k次验算（k折交叉交叉验算）；同样重复n次，则为n次k折交叉验算。==常见做法：10次10折交叉验证。== 自助法( bootstrap)给定包含m 个样本的数据集D ，我们对它进行采样产生数据集D’ ：每次随机从D 中挑选一个样本，将其拷贝放入D’ ，然后再将该样本放回初始数据集D 中，使得该样本在下次采样时仍有可能被采到；这个过程重复执行m 次后，我们就得到了包含m个样本的数据集D’ ，这就是自助采样的结果。 自助法在数据集较小、难以有效划分训练／测试集时很有用；此外，自助法能从初始数据集中产生多个不同的训练集，这对集成学习等方法有很大的好处．然而，自助法产生的数据集改变了初始数据集的分布，这会引入估计偏差。在初始数据足够的情况下，留出法和交叉验证法更有效。 调参和最终模型现实中常用的做法是对每个参数选定一个范围和变化步长，例如在[0,0.2] 范围内以0.05 为步长，则实际要评估的候选参数值有5 个，最终是从这5 个候选值中产生选定值。 这样选定的参数值往往不是“最佳”值，但这是在计算开销和性能估计之间进行折中的结果，通过这个折中，学习过程才变得可行． 我之前也在Be7的模型中使用这种方法。 回归任务最常用的性能度量是“均方误差”(mean squared error) 可以用GPU来加速 语音/图像上的应用 sigmoid function Sigmoid函数是一个在生物学中常见的S型的函数，也称为S型生长曲线。Sigmoid函数常被用作神经网络的阈值函数，将变量映射到0,1之间。 深度学习，即有很多hidden layers就是深度学习，至于有多少层算deep，因人而异， 没有激活函数，后面的权重(w)和bias都会失效 矩阵运算，GPU可以加速运动 这在matlab中也有提及 内部的layers，有多少层 为什么要深度学习 深度学习主要包含三个步骤 back and forward 算法","categories":[],"tags":[]},{"title":"python_PyTorch入门教程","slug":"pythonLearning/python-PyTorch入门教程","date":"2021-04-11T14:50:17.000Z","updated":"2021-04-18T12:08:09.600Z","comments":true,"path":"2021/04/11/pythonLearning/python-PyTorch入门教程/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/11/pythonLearning/python-PyTorch%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/","excerpt":"","text":"学习如何入门PyTorch，包括基础原理知识、numpy与PyTorch的区别以及案例研究实例。 PyTorch的概述PyTorch是一个基于Python的库，用来提供一个具有灵活性的深度学习开发平台。PyTorch的工作流程非常接近Python的科学计算库——numpy。 现在你可能会问，为什么我们要用PyTorch来建立深度学习模型呢？主要有三点 易于使用的API—它就像Python一样简单。 Python的支持—如上所述，PyTorch可以顺利地与Python数据科学栈集成。它非常类似于numpy，甚至注意不到它们的差别。 动态计算图—取代了具有特定功能的预定义图形，PyTorch为我们提供了一个框架，以便可以在运行时构建计算图，甚至在运行时更改它们。在不知道创建神经网络需要多少内存的情况下这非常有价值。 PyTorch的其他一些优点还包括：多gpu支持，自定义数据加载器和简化的预处理器。 自从2016年1月发布以来，许多研究人员将其作为一种“go-to”库，因为它可以轻松地构建新颖的甚至是极其复杂的图形。虽说如此，PyTorch仍有一段时间没有被大多数数据科学实践者采用，因为它是新的而且处于“正在建设”的状态 pytorch和tensorflow的区别TensorFlow 是谷歌的开发者创造的一款开源的深度学习框架。PyTorch 是最新的深度学习框架之一，由 Facebook 的团队开发，并于 2017 年在 GitHub 上开源。 PyTorch 和 TensorFlow 的关键差异是它们执行代码的方式。这两个框架都基于基础数据类型张量（tensor）而工作。 PyTorch安装Google了一下，发现大家都有给pytorch安装虚拟环境，因为有可能跟python原有的包起冲突，这样也方便使用。 创建虚拟环境代码： 123456# pytorch为库的名字conda create -n pytorch python=3.8# 额外学习，如何看conda环境还有python的版本，输入conda info --envspython --version 官网下载传送门，要选择合适自己的版本。 CUDA是Compute Unified Device Architecture的缩写。中文叫统一计算架构。是为了让nvidia gpu可以完成通用计算任务的一种集成技术，可以为数据大吞吐量的工作提供很好的加速功能。简单的来讲，就是为了让GPU可以不仅仅工作与自己的一幕三分地，而是利用自身的优势，完成通用计算的任务。主要应用除了日常视频编码解码，游戏等外，可以应用于计算加速方面。 将官网提供的命令放进去 1conda install pytorch torchvision torchaudio cudatoolkit=10.2 -c pytorch 果然是龟速…..尝试国内镜像下载，使用清华园镜像下载，速度确实会快一点。（以下都是在pythorch的环境下进行） 12345678910# 添加清华源的pytorchconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/conda config --set show_channel_urls yesconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/conda install pytorch torchvision cudatoolkit=10.0 # 删除安装命令最后的 -c pytorch，才会采用清华源安装。# 将镜像通道删除conda config --remove-key channels 安装完成后测试torch和CUD12345678910111213141516#为了确保PyTorch安装正确，我们可以运行示例PyTorch代码来验证安装。这里我们将构造一个随机初始化的张量。from __future__ import print_functionimport torchx = torch.rand(5, 3)print(x)# The output should be something similar to:# tensor([[0.2989, 0.2493, 0.2642],# [0.9508, 0.4811, 0.1085],# [0.5423, 0.3216, 0.3068],# [0.8863, 0.8385, 0.5150],# [0.8451, 0.4620, 0.6266]])# 此外，要检查GPU驱动程序和CUDA是否能够被PyTorch启用和访问，需要运行以下命令以返回CUDA驱动程序是否已启用：import torchtorch.cuda.is_available()# the output is: True 安装成功之后就可以来学习pytorch了。 pytorch 的一些基本概念在深入讨论细节之前，让我们先看看PyTorch的工作流程。 PyTorch使用了命令式/热切的范例。也就是说，在构建一个图形时，每一行代码都定义了改图的一个组件。我们甚至能在图形构建完成前，独立的对这些组件进行计算。这就是所谓的“逐运行”方法。 PyTorch张量(tensor) 张量只是多维数组。PyTorch中的张量类似于numpy的ndarrays，另外，张量也可以在GPU上使用。PyTorch支持各种类型的张量。 数学运算与numpy一样，科学计算库非常重要的一点是能够实现高效的数学功能。而PyTorch提供了一个类似的借口，可以使用200个以上的数学运算。 Autograd模块PyTorch使用了一种叫做自动微分的技术。也就是说，它会有一个记录我们所有执行操作的记录器，之后再回放记录来计算我们的梯度。这一技术在构建神经网络时尤其有效，因为我们可以通过计算前路参数的微分来节省时间。 实例最后需通过几个实例学习，来更加了解pytorch. 我们使用CIFAR-10作为数据集，包含了10个类别60000张图片，每张图片的大小为32x32，其中训练图片50000张，测试图片10000张。 torchvision中已经打包好了这个数据集，我们不用自己下载，直接如下调用就可以了。 参考文献： pytorch加速下载——清华镜像源(conda或者pip版本) PyTorch入门教程 TensorFlow与PyTorch之争，哪个框架最适合深度学习","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[]},{"title":"python学习资源搜集","slug":"pythonLearning/python学习资源搜集","date":"2021-04-11T14:48:03.000Z","updated":"2021-04-29T14:50:18.417Z","comments":true,"path":"2021/04/11/pythonLearning/python学习资源搜集/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/11/pythonLearning/python%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E6%90%9C%E9%9B%86/","excerpt":"","text":"conda-cheatsheet.pdf python 一些有用的教材 python的主页 https://www.python.org/ python的tutorial，（可以查阅模块的使用方法） https://docs.python.org/3.9/py-modindex.html NumPy Cheat Sheets Python Cheat Sheets Pysheet，提供许多代码的示例 python练习 110道python面试题 https://www.php.cn/python-tutorials-457003.html https://www.runoob.com/python/python-100-examples.html python常用库 12345numpy os：提供了不少与操作系统相关联的函数sys: 通常用于命令行参数re: 正则匹配 type(example)，判断example的类型 123456789101112a = [1,2,3,None,(),[],]print(len(a))# 输出结果为6**22 % 3 表达式输出结果为？** # 结果为1，%为取余9//2 表达式输出结果为？# // 用于向下取接近除数的整数。if x or y and z:# and 具有优先级 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[]},{"title":"shell_捕获异常","slug":"shellLearning/shell-捕获异常","date":"2021-04-11T14:47:22.000Z","updated":"2021-04-15T01:09:31.060Z","comments":true,"path":"2021/04/11/shellLearning/shell-捕获异常/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/11/shellLearning/shell-%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8/","excerpt":"","text":"总结： 主要使用$?的这个方法就能解决我的问题 还有其他捕获异常的方法（有遇到再学习） 在shell中，我们往往规定0为正常，一切非0返回值则为不正常。但往往我们在写shell脚本的时候，忽略对于返回值的判断。我们看一个很基本的shell程序 123#!/bin/shcd /home/xxxx/rm -rf * 这个脚本的意思很简单，就是cd到某一个目录下，然后将该目录下所有的内容都删除。首先，rm这种东西出现在脚本中，就是一个很危险的操作，而这个程序的关键之处还在于，并没有对第一行shell的返回值进行任何的判断，也就是说对于cd那行代码无论执行失败与否，都会去执行下面的那段rm，试想如果在某些情况下cd那段代码失败了之后，会出现多么可怕的后果。所以，我们应该对于cd的代码做返回值的判断。 使用$?判断上一段shell的返回值是否有问题 12345678910#!/bin/shcd /home/xxxx/if [ &quot;$?&quot;= &quot;0&quot; ]; then rm -rf * # 如果正确cd到xxxx文件夹下，删除所有else echo &quot;cannot change directory&quot; 1&gt;&amp;2 # 如果没有cd到特定文件夹下，抛出信息 exit 1fi # 如果没有问题，$? 为0，如果有问题，$?为其他值。 参考文献： 如何在shell中处理异常（Part 1）","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[]},{"title":"shell_字符串的截取","slug":"shellLearning/shell-字符串的截取","date":"2021-04-10T06:59:17.000Z","updated":"2021-04-15T01:28:17.805Z","comments":true,"path":"2021/04/10/shellLearning/shell-字符串的截取/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/10/shellLearning/shell-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%88%AA%E5%8F%96/","excerpt":"","text":"z总结： 基本格式 $&#123;string: start :length&#125; 取右边#，取左边%，注意*的位置 基本格式1234# 左边开始$&#123;string: start :length&#125;# 右边开始$&#123;string: 0-start :length&#125; 实例1234[Neptuneyt]$ net=&quot;www.baidu.com&quot;[Neptuneyt]$ # 从第4个字符截取到baidu[Neptuneyt]$ echo $&#123;net:4:5&#125; #从第4个字符.开始截取5个字符baidu 从指定的字符开始1) 使用 # 号截取右边字符使用#号可以截取指定字符（或者子字符串）右边的所有字符，具体格式如下： 1$&#123;string#*chars&#125; 2) 使用 % 截取左边字符使用%号可以截取指定字符（或者子字符串）左边的所有字符，具体格式如下： 1$&#123;string%chars*&#125; 实例12345678910111213141516171819#使用#截取url=&quot;http://c.biancheng.net/index.html&quot;b# 表示遇到的第一个/echo $&#123;url#*/&#125; #结果为 /c.biancheng.net/index.html# 表示遇到的最后一个/echo $&#123;url##*/&#125; #结果为 index.htmlstr=&quot;---aa+++aa@@@&quot;echo $&#123;str#*aa&#125; #结果为 +++aa@@@echo $&#123;str##*aa&#125; #结果为 @@@#使用%截取url=&quot;http://c.biancheng.net/index.html&quot;echo $&#123;url%/*&#125; #结果为 http://c.biancheng.netecho $&#123;url%%/*&#125; #结果为 http:str=&quot;---aa+++aa@@@&quot;echo $&#123;str%aa*&#125; #结果为 ---aa+++echo $&#123;str%%aa*&#125; #结果为 --- 汇总表格 注意，这表格最后两行是错的，*应该在char的右边 字符串替换/删除（利用正则）基本格式为，pattern为正则。 123456789101112# 原变量替换$&#123;variable//pattern/sub&#125;# 变量不变$&#123;variable/pattern/sub&#125;#&gt;&gt; 注意上面的这两个为字符匹配# 只替换开头匹配的字符串$&#123;variable/#pattern/sub&#125;# 只替换结尾匹配的字符串$&#123;variable/%pattern/sub&#125; 实例123net=www.baidu.comecho $&#123;net/baidu/google&#125; #结果为 www.google.comecho $net # 结果仍为www.baidu.com 举一反三，删除字符的方法，只要将替换的变为空值即可，看实例 1234echo $&#123;net/./&#125;wwwbaidu.comecho $&#123;net/.&#125; #最后一个/可以不用写wwwbaidu.com 删除字母这个方法利用tr -c删除补集的功能，如有其他字符泽不能用这个方法 https://blog.csdn.net/bigwood99/article/details/105227113 方法1： echo “a1b2c3d4f5” | tr -d ‘a-z’ 方法2： echo “a1b2c3d4f5” | sed ‘s/[a-z]*//g’ 方法3： echo “a1b2c3d4f5” | tr -d -c ‘[0-9]’ 参考文献： shell教程（4）变量（二）：字符串变量截取、替换和删除 http://c.biancheng.net/view/1120.html https://www.cnblogs.com/kevingrace/p/5996133.html","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[]},{"title":"python_jupyternotebook_修改默认路径","slug":"pythonLearning/python-jupyternotebook","date":"2021-04-10T00:52:31.000Z","updated":"2021-04-14T00:21:41.842Z","comments":true,"path":"2021/04/10/pythonLearning/python-jupyternotebook/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/10/pythonLearning/python-jupyternotebook/","excerpt":"","text":"主要包含以下内容： [TOC] jupyter 改字体直接在浏览器的自定义字体里面，将字体修改即可 jupyter自动补全功能 我的extension里面已经有了这些选项，所以没有进行额外安装步骤。 Hinterland（代码自动补全）和Variable Inspector（变量检查器）。 只需在Configurable nbextensions界面Hinterland✔即可，勾选此插件为代码单元格中的每次按键启用“代码自动补全”菜单，有种在pycharm中写代码的感觉了。 只需在Configurable nbextensions界面Variable Inspector✔即可，显示你在notebook中创建的所有变量的名称、类型、大小、维度、变量等。 参考链接：https://blog.csdn.net/wyxxxx_/article/details/107388018 Jupyter extension消失的问题发现jupyter notebook的extension不见了，直接在anaconda的prompt窗口输入 1234# 打开Anaconda Prompt窗口，执行第一个命令，用于安装nbextensions：python -m pip install jupyter_contrib_nbextensions # 再执行第二个命令，用于安装 javascript and css filesjupyter contrib nbextension install --user --skip-running-check 正常情况下应该就看到extension。如果看不到的话具体看参考链接 参考链接： https://www.jianshu.com/p/3e38964737bc 修改默认路径找到以下文件 Jupyter_notebook_config.py 然后打开文件，找到以下内容，改成自己想要存储的路径 1c.NotebookApp.notebook_dir = &#x27;D:\\Research\\Jupyter Notebook&#x27; 保存关闭文件。此时，若是我们使用的Anaconda Prompt，通过命令jupyter notebook打开的话，已经可以使用了。 我们还可以通过Anaconda里自带的Jupyter Notebook打开（可以在开始菜单里找到），不过我们还需要修改一些参数。 在目标中找到%USERPROFILE%，并将它删除，否则打开Jupyter Notebook会一直跳到默认的C盘路径。（提醒：不要将%USERPROFILE%改成其他路径，否则很可能导致闪退现象！而且还有很多文章只更改起始位置，亲测无效！） 然后在起始位置里，输入自己想存放文件的路径即可。 ==参考文献==：jupyter路径修改","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://jackzheng-lu.github.io/tags/python/"}]},{"title":"hysplit_trajectory测试1","slug":"TrajectoryModel/hysplit-trajectory测试1","date":"2021-04-09T09:00:37.000Z","updated":"2021-04-29T04:59:47.389Z","comments":true,"path":"2021/04/09/TrajectoryModel/hysplit-trajectory测试1/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/09/TrajectoryModel/hysplit-trajectory%E6%B5%8B%E8%AF%951/","excerpt":"","text":"关注的点和考虑的问题 是否会跑到平流层上 不同的释放高度，会有什么样的不同 backforward多久比较合适，是否有一个合理的界定 测试1：backforward trajectory 运行（30天，是否会跑回到12km；不同高度的区别） 测试1：backforward trajectory 运行（30天，是否会跑回到12km；不同高度的区别） 设置3个不同高度（100, 1000, 4000)，以EGRIP ice core的地点为例，从2001年1月到2002年2月份，NCEP reanalysis 数据。 测试2： 每6个小时开始一个trajectory思路： 一种就是利用循环进行（不知道模型有没有自带的功能，particle有每几个小时出一次图的功能？） 先将每6个小时的时间做成一个txt文档，然后使用cat功能，每次循环结束读取下一行 高度问题这是一个三十天的back-trajectory的模拟。我选择的高度是500米，从这个图上可以看出几个问题，trajectory几乎是沿着地面的运动的，收到地形的影响挺大的。 这个高度的运移说明不确定性很大。 三十天的结果并不一定是可靠的，有可能是模型硬算的一个结果。 测试3 时间连接问题由于运行是一个cycle一个cycle进行的，所以有两种方法 可以运行到每月的月底，然后重开一个cycle 或者更简单的，直接把所有的气象数据放进去运行（推荐） 测试后发现只要如下设置即可 123456这些气象数据信息最好一起 echo &quot;2 &quot;&gt;&gt;CONTROL #数量 echo &quot;$DATA/ &quot;&gt;&gt;CONTROL #文件位置1 echo &quot;$&#123;data&#125; &quot;&gt;&gt;CONTROL # 数据1 echo &quot;$DATA/ &quot;&gt;&gt;CONTROL #文件位置2 echo &quot;$&#123;data2&#125; &quot;&gt;&gt;CONTROL # 数据2 参考文献： 无","categories":[],"tags":[]},{"title":"hysplit_相关背景知识","slug":"TrajectoryModel/hysplit-相关背景知识","date":"2021-04-09T06:45:13.000Z","updated":"2021-04-15T12:58:06.633Z","comments":true,"path":"2021/04/09/TrajectoryModel/hysplit-相关背景知识/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/09/TrajectoryModel/hysplit-%E7%9B%B8%E5%85%B3%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/","excerpt":"","text":"https://baike.baidu.com/item/%E7%A9%BA%E6%B0%94%E8%B4%A8%E9%87%8F%E6%A8%A1%E5%9E%8B/22149638#5_3 大气扩散模型 Atmospheric dispersion modeling（ADM) The atmospheric dispersion models are also known as atmospheric diffusion models, air dispersion models, air quality models, and air pollution dispersion models. 跟大气模型的区别？？ 大气层垂直结构大致可分为对流层 troposphere、平流层 stratosphere 18-50km、中间层 mesosphere 50-80km、增温层及外气层， ADM一般只考虑到中间层。 对流层还有大气边界层，逆温层（1.5km-2km)和自由对流层 对流层最低一层叫做大气边界层或者行星边界层 atmospheric boundary layer (ABL) or the *planetary boundary layer *。是大气层中最接近行星表面的部分（边界层），大约占对流层的10%-20%。由于地表摩擦力，大气边界层中存在湍流，垂直混合强烈，风速、温度和湿度等物理量快速波动。大气边界层之上的部分称“自由大气”，其风速风向近似是行星自转引起的，即地转风（平行于等压线）。 大气边界层原因 大气边界层的形成主要是因为地表摩擦力 (surface resistance)的存在。一方面，近表面的空气分子受摩擦而减慢速度，类似静止，这些分子和流动的分子之间不断交换，总效果是减慢了空气流动。另一方面，更重要的是，在地表附近，空气会形成一系列不规则漩涡，变为湍流，从而对空气流动带来巨大阻力 逆温（英语：temperature inversion）现象是一种气象学的现象，指地面上的温度随着高度越高而增加，与高度越高温度下降的正常现象相反，通常因高压笼罩，不易空气对流所致。因为较高的暖空气覆盖着较低的冷空气，可能会导致空气污染物无法散出，影响当地居民和其他生物的健康，1952年伦敦烟雾事件即为一著名案例。 成因 辐射逆温：最常见于冬天晴朗无风的夜晚。因地表散热快，反而比其上层之气温更低，故形成下冷上热的现象。 山地逆温：冬季冷空气重，易沉聚谷底，造成下冷上热的现象。（例子：果树、蔬菜等农作物不栽植于谷底） 沉降逆温：寒流来临时，冷空气潜入暖空气下，造成干燥且多雾天气。 锋面逆温：因为锋面而使冷空气在下、热空气在上，导致温度由低处往低高处增加，直到高过热气团后才逐渐降温。 list of ADM https://en.wikipedia.ahau.cf/wiki/List_of_atmospheric_dispersion_models sigma坐标系 This coordinate system receives its name from the independent variable sigma used to represent a scaled pressure level. The sigma coordinate system allows sigma-surfaces to follow model terrain; where terrain is sharply sloped, so are the sigma surfaces. sigma hybrid sigma-pressure 参考文献： https://en.wikipedia.ahau.cf/wiki/Atmospheric_dispersion_modeling","categories":[],"tags":[{"name":"hysplit","slug":"hysplit","permalink":"http://jackzheng-lu.github.io/tags/hysplit/"},{"name":"大气背景知识","slug":"大气背景知识","permalink":"http://jackzheng-lu.github.io/tags/%E5%A4%A7%E6%B0%94%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/"}]},{"title":"hysplit_安装","slug":"TrajectoryModel/hysplit-安装","date":"2021-04-09T05:27:16.000Z","updated":"2021-04-18T12:03:36.264Z","comments":true,"path":"2021/04/09/TrajectoryModel/hysplit-安装/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/09/TrajectoryModel/hysplit-%E5%AE%89%E8%A3%85/","excerpt":"","text":"总而言之，官网上有很详细的解释，一切以官网为主。这里主要对一些信息做些记录。 源码需要给发邮件获得。 Hysplit 5 安装trial版本和register版本没什么不同，register版本可以额外使用预报功能。Hysplit 5 教程使用的是unregister (trial)版本。Hysplit 安装的网址 需要预安装两个软件：NOAA官网有提供现在的两个软件的下载链接 Tcl/TK，打开软件的打开方式。Tk是一開放原始碼的圖形化使用者介面開發工具，提供許多常用的圖形介面元件，具有跨平台、輕量化等特色。官网下载地址：https://www.tcl.tk/software/tcltk/download.html 官网上有个叫source file，需要自己结合电脑进行compile。 Ghostview，成图要用的。 两者最好要跟Hysplit安装在同一个drive磁盘中，否则要对Hysplit中的绘图道路进行设置 Installation to directories different from their suggested defaults may require editing the HYSPLIT GUI launch script: \\guicode\\hysplit.tcl. 安装Hysplit 5， 然后修改打开方式为tcl/bin路径下的wish86t.exe文件即可，安装好的使用界面 忘记了电脑是否安装了Ghostview和Ghostscript，先简单运行个example看看。在concentration栏目下有个quick start可以运行个样例： ok, 基本上电脑可以运行Hysplit。 此外还有四种看图方式（python，Google Earth View 等），之后有需要的时候在了解。 安装的建议： 安装路径推荐默认路径 Installing to the default directory will make it easier to use preconfigured input files during the Tutorial as well as running example scripts without editing the directory pointer. 不要打开多个Hysplit窗口 将文件打开方式设为notepad，这样比较好看结果 更多详细安装建议：https://www.ready.noaa.gov/documents/Tutorial/html/install_win.html Hysplit的一些资源整理多看看官网上面的信息，有很多现成的东西可以直接用。 安装Hysplit之后，在安装的目录下的document文件夹中，有user-guide（非常详细的说明）和arl-224(技术说明)。 其他学习资源 官网上有视频教程 有个Hysplit论坛上面可以问问题，也可以看下别人是否有相同的问题。 注意，这个需要额外注册 在GUI的advance setting中，也可以调用帮助文档，查看详情（其实就是user-guide） 在官网的frequent asked question里面也有些有用信息 参考文献： 无","categories":[],"tags":[]},{"title":"shell_变量","slug":"shellLearning/shell-变量","date":"2021-04-08T11:09:18.000Z","updated":"2021-04-15T01:08:15.511Z","comments":true,"path":"2021/04/08/shellLearning/shell-变量/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/08/shellLearning/shell-%E5%8F%98%E9%87%8F/","excerpt":"","text":"总结： 赋值变量尽量用双引号 引用变量用$ 赋值变量用$() 在 Bash shell 中，每一个变量的值都是字符串，无论你给变量赋值时有没有使用引号，值都会以字符串的形式存储。这意味着，Bash shell 在默认情况下不会区分变量类型，即使你将整数和小数赋值给变量，它们也会被视为字符串。 shell变量 定义变量时，变量名不加美元s符号（$，PHP语言中变量需要），如： 1your_name=&quot;runoob.com&quot; 注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则： 命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。 中间不能有空格，可以使用下划线（_）。 不能使用标点符号。 不能使用bash里的关键字（可用help命令查看保留关键字）。 使用一个定义过的变量，只要在变量名前面加美元符号即可，如： 123your_name=&quot;qinjx&quot;echo $your_nameecho $&#123;your_name&#125; 变量名外面的花括号是可选的，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况： 123for skill in Ada Coffe Action Java; do echo &quot;I am good at $&#123;skill&#125;Script&quot;done 如果不给skill变量加花括号，写成echo “I am good at $skillScript”，解释器就会把$skillScript当成一个变量（其值为空）。 推荐给所有变量加上花括号，这是个好的编程习惯。 单引号双引号区别1234567url=&quot;http://c.biancheng.net&quot;website1=&#x27;C语言中文网：$&#123;url&#125;&#x27;website2=&quot;C语言中文网：$&#123;url&#125;&quot;echo $website1echo $website2# 以单引号&#x27; &#x27;包围变量的值时，单引号里面是什么就输出什么。以双引号&quot; &quot;包围变量的值时，输出时会先解析里面的变量和命令。 建议：变量的内容是数字，可以不加引号；如果需要原样输出就加单引号；没有特别要求的字符串等最好都加上双引号，定义变量时加双引号是最常见的使用场景。 将命令结果复制给变量有两种方式。 12variable=`command`# 网上搜资料的时候能看到，但是不推荐variable=$(command) # 推荐这一种 参考文献： Shell变量：Shell变量的定义、删除变量、只读变量、变量类型","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[{"name":"shell","slug":"shell","permalink":"http://jackzheng-lu.github.io/tags/shell/"}]},{"title":"shell_grep_sed函数","slug":"shellLearning/shell-grep-sed函数","date":"2021-04-08T08:17:34.000Z","updated":"2021-04-29T10:11:37.242Z","comments":true,"path":"2021/04/08/shellLearning/shell-grep-sed函数/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/08/shellLearning/shell-grep-sed%E5%87%BD%E6%95%B0/","excerpt":"","text":"sed/grep/akw是 Linux 文本处理三剑客。 还额外记录两个函数find和ls。 grep函数grep 命令用于查找文件里符合条件的字符串。可以匹配正则来搜索文件中的信息。 由于可以搜索文件的信息，因此最好不要单用grep在目录下搜索，速度非常慢 如果要用grep在文件夹搜索，应结合ls 使用； egrep可以使用扩展正则，grep不行。 实例基本处理12345678910111213141516171819# 当前文件夹找到符号条件的文件名result=$(ls | grep &quot;.md&quot;)# 正则的方式，md开头的文件ls | grep &quot;^md&quot;# 在当前目录中，查找后缀有 file 字样的文件, 其中包含 test 字符串的文件grep test *file # 反向查找。通过&quot;-v&quot;参数查找文件名中包含 test 的文件中不包含test 的行，此时，使用的命令为：grep -v test *test*# 包含 leo 的行位于文件的第几行。grep -n leo /etc/passwd#29:leo:x:503:503::/home/leo:/bin/bash# grep 在输出时，能把 leo 所在行的上面或下面的行也展示出来。# A为after, 可替换为B(after)，C上下行都显示grep -A 1 leo passwd(文件名) 多文件处理/正则123456789101112# 找出内容中含有first单词的txt文件都有哪些。# 反向操作，把l换成Lgrep -l &quot;first&quot; *.txt# 正则的例子# 开头是leo的行grep &#x27;^leo&#x27; /etc/passwd# 多条件查找，要使用扩展正则，就要使用egrep# 用|表示或的条件egrep &#x27;^root|bash$&#x27; passwd# 注意，egrep和ls连用没有效果，也就是说不能用egrep找多条件的文件名 https://linux.cn/article-6941-1.html http://c.biancheng.net/linux/grep.html grep的或匹配，和匹配 sed 函数==sed默认不修改源文件内容==，可以直接修改文件的内容（-i）， 注意，sed 会根据脚本命令来处理文本文件中的数据，这些命令要么从命令行中输入，要么存储在一个文本文件中，此命令执行数据的顺序如下： 每次仅读取一行内容； 而且不会读取换行符 根据提供的规则命令匹配并修改数据。注意，sed 默认不会直接修改源文件数据，而是会将数据复制到缓冲区中，修改也仅限于缓冲区中的数据； 将执行结果输出。 要注意使用，因为我们不想修改重要信息 基本格式：123456789[address]s/pattern/replacement/flags#其中，address 表示指定要操作的具体行# s为替换命令（即基础指令）# pattern 指的是需要替换的内容# replacement 指的是要替换的新内容# flags是指替换的标志位# 这个只是替换的基本语法，更多的看下面的基础命令 全部基础命令： 名称 命令 语法 说明 替换 s [address]s/pattern/replacement/flags 替换匹配的内容 删除 d [address]d 删除匹配的行 插入 i [line-address]i\\text 在匹配行的前方插入文本 追加 a [line-address]a\\text 在匹配行的后方插入文本 行替换 c [address]c\\text 将匹配的行替换成文本text 打印行 p [address]p 打印在模式空间中的行 打印行号 = [address]= 打印当前行行号 打印行 l [address]l 打印在模式空间中的行，同时显示控制字符 转换字符 y [address]y/SET1/SET2/ 将SET1中出现的字符替换成SET2中对应位置的字符 读取下一行 n [address]n 将下一行的内容读取到模式空间 读文件 r [line-address]r file 将指定的文件读取到匹配行之后 写文件 w [address]w file 将匹配地址的所有行输出到指定的文件中 退出 q [line-address]q 读取到匹配的行之后即退出 常用的flag 实例123456789101112# /^categories/为正则匹配，c为替换行，c后面的语句为替换语句，&quot;$&#123;file&#125;&quot;为替换的文件# -i 选项可以直接修改文件内容，没有-i的话，只输出，但不修改源文件# \\为对特殊符号进行转义sed -i &quot;/^categories/c categories: [\\&#x27;编程语言学习\\&#x27;]&quot; &quot;$&#123;file&#125;&quot;# 去除前后空格[root@linux ~]# echo &#x27; A BC &#x27; | sed -e &#x27;s/^[ ]*//g&#x27; | sed -e &#x27;s/[ ]*$//g&#x27;A BC# 多行匹配特殊/特定行行 https://blog.csdn.net/sweeter2/article/details/50876810 Linux sed命令完全攻略 拓展：find 函数直接上实例学习 123456# 另外一种方法,x=$(find -name &#x27;shell*.md&#x27;| tr -d &quot;[\\.\\/]&quot;)# 查找计算机中所有大于1MB的文件# -a 和的关系find / -size +1M -a -type f 额外看链接Shell中find命令查找指定文件或目录 https://blog.csdn.net/qq_xuanshuang/article/details/107453783 ls 匹配[ ] 匹配文件，[ … ] 匹配 [ ] 中所包含的任意一个字符。有两种匹配方式： 杂乱匹配：ls /etc/[wsdcr]syslog.conf； 范围匹配：ls [0-9] [a-zA-Z].txt [ !… ] 匹配 [ ] 中非感叹号！之后的任意一个字符，它与上一条规则刚好相反。举例：ls [!0-9]*.txt。此条是匹配非数字开头的后缀名为 txt 的所有文件。 注意这里的*和正则里面不一样，我一开始记混了。 实例12345678910111213# 不含p开头的mdls [!p]*.md# 暂时没找到多条件的# 可以结合sed和grep使用，然后用管道遍历目录下的文件名for file in `ls /bin`; do echo $&#123;file&#125; done 额外看链接： https://www.cnblogs.com/zhaochi/p/12846696.html 参考文献： https://kodango.com/sed-and-awk-notes-part-6","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[{"name":"shell","slug":"shell","permalink":"http://jackzheng-lu.github.io/tags/shell/"}]},{"title":"python_正则表达式","slug":"pythonLearning/python-正则表达式","date":"2021-04-08T04:14:59.000Z","updated":"2021-04-29T10:33:42.822Z","comments":true,"path":"2021/04/08/pythonLearning/python-正则表达式/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/08/pythonLearning/python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"","text":"re模块正则是字符串匹配。 开头导入re模块： 1import re 总结 12345678910111213## ^ 匹配字符串的开始。## $ 匹配字符串的结尾。## \\b 匹配一个单词的边界。## \\d 匹配任意数字。## \\D 匹配任意非数字字符。## x? 匹配一个可选的 x 字符 (换言之，它匹配 1 次或者 0 次 x 字符)。## x* 匹配0次或者多次 x 字符。## x+ 匹配1次或者多次 x 字符。## x&#123;n,m&#125; 匹配 x 字符，至少 n 次，至多 m 次。## (a|b|c) 要么匹配 a，要么匹配 b，要么匹配 c。## (x) 一般情况下表示一个记忆组 (remembered group)。你可以利用 re.search 函数返回对象的 groups() 函数获取它的值。## 正则表达式中的点号通常意味着 “匹配任意单字符” 值得注意的是：正则中* + 都是贪婪匹配，？是非贪婪匹配。所以如果你要想要限制住的贪婪匹配，可以在的后面添加？来限制。 常用操作12345678# 基本形式,match为操作re.match(r&#x27;正则表达式&#x27;, testCharacters)# 匹配re.match(r&#x27;正则表达式&#x27;, test)# q 部分实例：(注意举一反三) 提取小数： 123string=&quot;A1.45，b5，6.45，8.82&quot;print re.findall(r&quot;\\d+\\.?\\d*&quot;,string)# [&#x27;1.45&#x27;, &#x27;5&#x27;, &#x27;6.45&#x27;, &#x27;8.82&#x27;] 匹配包含指定字符串开头的，例如提取loss开头的字符串： 123456tensorflow:Final best valid 0 loss=0.20478513836860657 norm_loss=0.767241849151384 roc=0.8262403011322021 pr=0.39401692152023315 calibration=0.9863265752792358 rate=0.0pattern = re.compile(r&#x27;(?:loss=)\\d+\\.?\\d*&#x27;)pattern.findall(string)# [&#x27;loss=0.20478513836860657&#x27;, &#x27;loss=0.767241849151384&#x27;] fnmatch 模块提供shell-like的搜索，跟正则不大一样 Pattern Meaning * matches everything ? matches any single character [seq] matches any character in seq [!seq] matches any character not in seq 参考文献： python正则表达式从字符串中提取数字 fnmatch模块 https://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://jackzheng-lu.github.io/tags/python/"}]},{"title":"hysplit_conc测试","slug":"TrajectoryModel/hysplit-测试2","date":"2021-04-08T02:48:09.000Z","updated":"2021-04-29T05:01:50.429Z","comments":true,"path":"2021/04/08/TrajectoryModel/hysplit-测试2/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/08/TrajectoryModel/hysplit-%E6%B5%8B%E8%AF%952/","excerpt":"","text":"项目记录 创新点： 研究SPE的Be7运移 已经可以进行全球的模拟，但是得使用GRAD 1°的数据，NCEP数据有问题 如何实现全球范围的释放 含有Be10特性的模拟问题 实现1个月的模拟 解决NCEP的问题 Sulfate 模块运行问题（可能要看下源程序；进行修改添加） 发现问题，使用GADS的时候，并不能读取source文件，提示source point 不再gird上，无输出结果。 发现如果不在control的文件里设置emission，就不会有值。这很奇怪，因为我用NCAR的数据还好好的 一种解决方法就是：在emission里面，把时间设置为数值，就能解决。（不过仍然不知道为啥有这问题） (Yaqiang Wang et al 2011 ER),设置为每6小时到GEM中去，一共1600,000个particles 面积 经验以后control，setup等的内部选项只增不减，并添加上简要的解释。方便于我修改参数。 每6小时的trajectory，可以在setup.cfg中设定NSTR=6。也可以多条/多时间的变化（看user-guide）。 总是要记得备份，尤其是模拟不同时段的运移模型时候 注意在运行SPE事件的时候，采样浓度要多层次level，因为高浓度的Be10并不会降下来。计算的浓度时根据设定来的 这也是为啥有时候会出现无浓度的情况，因为设置不对。 同时也要注意，GEM和Hysplit有各自浓度的设定。 由于source点比较稀疏，可以设置release的面积 问题program exception-access violation的问题运行Hysplit出现的program exception-access violation的问题。我在运行30天的back-trajectory或者大面积的forward的时候，都出现了这个program exception-access violation的问题。Google之后发现Fortran出现这个一般都是数组越界。因为hysplit为了增加计算时间默认了mgmin为10°，我猜测这个容易造成越界问题。 解决方法是 1234MGMIN=40# 如果想要全球尺度的，可以改为999。# 但是如果多点的话，不推荐这样做，因为极大增加了运算时间。 详细的可以看看user-guide里面介绍的sub-grid size。对于长时间尺度的运移，MGMIN太小的话，有可能造成不同时间的sub-gird在空间上没有重叠。 NCEP terrain height的问题我跑了NCEP的30天的back-trajectory，发现里面的地形出现了负数（一般在海洋地区）。查资料发现，原来NCEP本身是不提供地形资料的。地形资料是通过如下方法计算的: The terrain is estimated using the hypsometric equation. However, to calculate its trajectory model uses a sigma terrain following vertical coordinate that has been remapped internally from the vertical coordinate of the meteorological dataset. In that way we make sure that the trajectories do not go below the surface as defined in the original meteorological dataset. 参考链接: https://hysplitbbs.arl.noaa.gov/viewtopic.php?t=1068 particle 模式particle模式跑到后面会越来越慢，因为 测试1 批量进行气象数据缩小 （完成） 测试2 在stratosphere的粒子运动（最高30km） 气象数据的最高高度为30km，如果直接设置30km会报错，可以设置为29.9km 测试3 时间连接问题（完成） 问题4 粒子问题？（貌似有粒子的上限，以及如何对粒子释放做出修改） 测试1 批量进行气象数据缩小根据教程中的介绍，貌似气象数据可以裁剪，为局部区域进行运行。因为这只是运移模型？ 在下载的文件中，有个现成的软件可以进行气象数据的裁剪 搜索 “xtrct_grid.exe，注意，文件夹的输入是C:\\Users\\zmjhh\\Desktop\\NCEP197611\\，不要忘记最后要有个斜线\\。 # 思路 (使用shell文件完成) # &gt; 每次创建一个新的txt文件，将信息存入其中 # &gt; 然后重定向输入到exe的应用程序中去 （重定行功能） # &gt; 最后将输出进行重命名 (mv函数) 测试2 在stratosphere的粒子运动（最高30km）运行基本ok，气象数据的最高高度为30km，如果设置粒子的释放高度超过30km（包括30km）有可能会报错，可以设置为29.9km。 参考文献： 无","categories":[],"tags":[]},{"title":"hysplit_常问的问题","slug":"TrajectoryModel/hysplit_常问的问题","date":"2021-04-08T02:48:09.000Z","updated":"2021-04-29T07:11:49.594Z","comments":true,"path":"2021/04/08/TrajectoryModel/hysplit_常问的问题/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/08/TrajectoryModel/hysplit_%E5%B8%B8%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/","excerpt":"","text":"https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/ 快速过了一遍常问的问题，将对项目有用的信息做个摘录，直接点感叹号就可以到原网址 该网址可以多看看 https://www.arl.noaa.gov/hysplit/hysplit-frequently-asked-questions-faqs/faq-pc9/ 重要！ 对于很小的气象数据改动，trajectory的结果出现很大的不确定性时，需要注意解释 精度（precision）和准度（accuracy)，Hysplit model 的精度为1%/天，会随着时间的推移而叠加。hysplit的准度问题很大随着时间推移而改变，10天的准度问题会达到15°左右。 气象数据类 What archived data are available on the web to run HYSPLIT with? What data is used to calculate the trajectories and what is the the vertical resolution of the data? 这主要取决于气象数据 However, in one case when I calculated 120-hour backward trajectories from Potsdam, NY at 1800 on April 8, 1999 using both the EDAS and FNL data bases, I found that the EDAS data suggested the air was in the upper midwest 5 days prior, but the FNL put it into northern Quebec. Why the difference? 结果不同一般是由于气象数据的精度不同。 关于trajectory的通常步骤，运行一个点相近的不同高度的trajectory（e.g.300m 400m, 500m)，如果结果相似，那么结果比较可靠，如果发散，说明不确定大（not precide） I will be converting ECMWF grib files into ARL-packed format for use in calculating backward trajectories in Europe using your HYSPLIT model. What fields do I need to have for HYSPLIT to properly calculate my trajectories? 不推荐自己进行数据的转换，需要一定的工作量，否则看介绍 When I set up a matrix run and have the heights specified at a certain altitude (using MSL), why do the results show the starting points at different heights instead of at a constant one? 有些时候Mean Sea Level(MSL) 会低于地面，所以Hysplit会自动校对高度等于地面。link When I get backward trajectories starting at a rural East Coast site in NJ, which starting height(s) do you suggest is (are) appropriate? The terrain of the site is flat and near sea level. I am also wondering how long of a trajectory duration is recommended. 如果是想知道地面的空气来源，则是贴近地面，如果想知道水汽，则是高于云层的高度。一般选取两到三个高度进行测试，一般来讲对于48小时内的trajectory精度还是OK的，对于更长时间尺度的问题，主要是用于聚类分析来分析这个情况 模型设置 If I choose AGL for the start height, does that mean that for the entire model run the computed heights are relative to the ground? I’m concerned about this because of the terrain in the mountains. I don’t want values to be “underground.” AGL的设定，仅用于最开始模型的运行。气体的垂直运动不会造成气体低于地面 Which value should I input as the start height (MAGL)? What does “above model ground level” mean? 地形（terrain）取决于输入的气象数据。如果气象数据精度高，地形的精度也就很高。低精度的数据会平滑掉一些地貌（高山和谷底）。 The best we can do is to look at the surface pressure and the mean sea-level pressure at the starting location and estimate the height above sea level of the model terrain at your location. 根据mean sea-level pressure (MSLP) 和采样点的the surface pressure (PRSS)的差别，估算地形高度。一个简单的近似，1mb=10m。比如： 35.66N, -82.38W; 1030mb MSLP and 939 mb PRSS taking the difference gives 91mb. A quick estimate is to assume a hydrostatic atmosphere, or approximately 10 meters per mb. This gives 910 MASL, which is what the model sees as the terrain height. 结果分析TRAJECTORY How does HYSPLIT consider the vertical coordinate. If a trajectory meets the surface how does HYSPLIT work? Does it reflect, or use another method to solve it? 如果到了boundary，继续运行。（很显然这不是我们想要看到的结果）在dispersion 模式下，particle会反弹。 Is the effect of the boundary layer considered when the model computes the trajectory? 并没有考虑到热力运动，只有在dispersion的模式下才有考虑。 When I ran a forward trajectory from a location on a previously computed backward trajectory, I did not return to the starting location of my backward trajectory. Why? 误差问题，开始0.1°的偏差，10天后的偏差回达到15°。 Why are there small differences in my trajectories when I run more than one at a time versus running just one trajectory? 模型并没有使用全部的气象数据，而是使用部分的气象数据sub-grid data，根据开始的地点设定数据的中心。当trajectory运行到气象数据的边界时，模型会重新定义中心，并重新计算。因此，使用多个开始的点和一个开始的点时，所用的气象数据会有所不同的。垂直运动的计算考虑了这一因素。因此结果会有些许不同。 CONCENTRATION How is concentration defined in HYSPLIT and how does it relate to the radiation units of Bacquerel? 输入的单位时mass/每小时，这个mass由用户自己决定，最后的结果是mass/m3，如果定义是Bq/小时，那最后的结果就是Bq/m3。","categories":[],"tags":[]},{"title":"各种数据库链接","slug":"科研相关记录/各种数据库链接","date":"2021-04-08T00:50:06.000Z","updated":"2021-04-08T01:03:01.063Z","comments":true,"path":"2021/04/08/科研相关记录/各种数据库链接/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/08/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5/","excerpt":"","text":"使用数据库的数据时，要注意对这些数据进行致谢。 这篇文章介绍了一些有用的库 E. Brattich et al 2020. Advection pathways at the Mt. Cimone WMO-GAW station: Seasonality,trends, and influence on atmospheric composition. Atmospheric aerosol 和gass 监测 http://ebas.nilu.no/Pages/DataSetList.aspx?key=C0A8801E103546FB9E164ECB4420432C 参考文献： 无","categories":[{"name":"科研相关记录","slug":"科研相关记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"数据来源","slug":"数据来源","permalink":"http://jackzheng-lu.github.io/tags/%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90/"}]},{"title":"hysplit_GEM模型测试1","slug":"TrajectoryModel/hysplit-GEM模型测试1","date":"2021-04-07T10:54:09.000Z","updated":"2021-04-29T14:16:01.570Z","comments":true,"path":"2021/04/07/TrajectoryModel/hysplit-GEM模型测试1/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/07/TrajectoryModel/hysplit-GEM%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%951/","excerpt":"","text":"w我的目标就是能使用hysplit模拟Be10/Be7，结合python的包使用 有个pysplit的python包 总结： 测试1: 区域的release 但是释放速率不变 （完成） 测试2：区域的release 但释放速率改变 （完成） 测试3：区域的release但释放速率改变，且包含不同的时间 测试1 区域的release 但释放速率不变黑点表示释放的点，浓度值表示采样的区域。 注意浓度的采样和污染物的释放是不同的设置（详情见test-1的脚本） 两者都是通过同一个程序进行计算的，因此不同的区域设置大小并不会减少运算时间。 由此来看，浓度值的面积应该跟释放点的面积一致 注意： 区域面积的release。对control文件进行如下修改，可以将（经纬度和高度放到text文件中进行读取），注意trajectory的数量要和经纬度等数量要一致 1234567891011echo &quot;1184 &quot;&gt;&gt;CONTROL # trajectory数量cat &quot;$DATA/traj.txt&quot; &gt;&gt;CONTROL # (e.g., 39.90 -84.22 10.0) # 也可以使用三个trajectory定义区域echo &quot;3 &quot; &gt;&gt;CONTROL# 这个是区域的释放# 前两行代表左下和右上# 第三行代表间隔echo &quot;38.00 -84.00 600.0 &quot; &gt;&gt;CONTROLecho &quot;44.00 -74.00 600.0 &quot; &gt;&gt;CONTROLecho &quot;39.00 -83.00 600.0 &quot; &gt;&gt;CONTROL 同一纬度，不同高度代表release 的方位，这个方法就可以解决release的高度问题，注意这样子算两个trajectory （control file），比如写成以下形式，release的范围就是这个点的[100 5000]之间。 1260 -42.50 10060 -42.50 5000 注意北纬90°以及东西经180°，0°等这种边界值问题 测试2 区域的release 但释放速率改变下图是教程16.5中的示例，有四行是因为教程中设置了4个污染物。rate 表示释放速率 （可以大于1）。Area 如果为0表示点释放。Heat表明释放时的热量产生（这里为0）。这里面表示一个cycle是12个小时，每个cycle release 的particle是固定，但是cycle的时间长短（duration）是可以改变的。 所有的source必须要有相同的时间间隔。 测试3：区域的release但释放速率改变，且包含不同的时间 （多个文件的测试）思路： 天气的数据是每个月存储的，那么一个月的最后几天怎么办？多个天气数据的输入？ 每个事件段模拟的结果，会作为下个事件段的边界条件进行 根据我的需求，直接按照cycle来进行，particle dump feature来连贯进行。 使用EFILE 文件。如果这个文件存在，他就会替换在control的设置。 如果一个文件的relasing时间过去了，会自动读取下一个releasing One way to incorporate a time varying emission rate into the existing model structure is to use the particle dump feature to restart the model each time with a new emission rate. Another option is to assign the name of a temporal emission input file to the “EFILE” variable in the setup.cfg namelist file. If the EFILE is present, the first emission record’s values replace the emission values set in the control file. Once the model computation time has passed the emission period defined on the first emission record, the emission data from the second record are loaded and the calculation continues with the new emission data. The format of the emission file is given below: 添加衰减和SO4的特性 user guide 搜索关键词：Deposition and Decay 长时间尺度的particle age问题 user guide 搜索关键词：KHINP Particle File Initialization Options 粒子释放的问题， 使用particle release计算concentration distribution，需要释放非常多的粒子，否则无法真是反应浓度 这个时候可以考虑Puff Releases 在GUI的help中，输入C:/hysplit/html/S441.htm GEM模型测试 29thApril 2021:.如果是mass保留的话，particle应该最后都沉降到地表去了。 猜想1，取值浓度为地表，沉降后没有改变。尝试将浓度的取值范围设为大气层顶部，发现也没有任何区别，后期也是趋于稳定。 尝试2，将release的particle提高到10000，而不是原来的2500，看最后的效果。 猜想3，浓度计算的问题，后期趋于稳定， 猜想4，时间尺度的问题，后期的变化慢（但是南极区域根本就没有，如果持续性输出的话，最后是会充满南极区域的） 进行了验证，确实，后期应该污染物应该运移到南极地区 查看了message文件，发现gemout的mass在后期为0。发现重新开始的时候，gemout的mass是为0。 gem模型，是hysplit模型传递particle给 基本设置 1234脚本： Be10_gem_exp1.sh开始时间：07年7月1号污染物释放时间：1小时释放浓度计算的level：top为20，bottom为19，平均计算 质量mass的保留下图是不保留质量的浓度 可以看出来，第2小时之后，浓度就没有任何变化。 可以理解为没有mass，那为啥还有浓度？理解为就没有质量，所以每次计算的都一样？ 答：边界条件，之后的浓度都是边界条件的值。 如果设置为保留质量（即kmass=2），则应该理解为mass在gem模型里面运行。 查看message文件，发现gemout的mass保留了下来。 问题使用gemdump作为边界条件，发现重新开始的时候，gemout的mass是为0。 因此使用gemdump作为边界条件，但是没有任何mass的话，浓度就不会有变化。以gemdump作为边界条件运行非常重要，因为有时候有可能会出现死机等情况，我们不希望重头再跑一遍模型。 这点非常奇怪，因为使用hys-std的程序的时候，使用pinif作为初值条件，concentration的结果是正确的（可以参考16_2的结果 尝试1： 将gemdump的值转入到pinif里面，作为hysplit的初始条件 不可行，模型直接将gemdump认定为错误的输入，跳过。 但是发现，如果pinit为正确的数值，gemdump作为初值条件可以被模型正确的读取。这说明其实gemdump的结果是正确的，可能是模型的问题，也有可能是我在某一个设定上出了问题….. ==未解决== 尝试2(曲线救国)：根据尝试1知道，只要每次有输入，就能保证模型的正常运行。因此除了第一次以外emission，之后的emission输入都非常的小，这样子就能保证模型的运行。为了降低这个额外输入的影响下，将numpar设为1，释放的时间设为1小时。 这样子还会有另外一个问题：发现每次运行的结果对应不上，差了一个时间差。 查看message文件之后发现，每次开始运行，只要一开始没有mass的输入，GEM里面的初始mass就为0，直到有来自hysplit的输入，GEM里面的初始mass才会变为正常的mass 另外一个问题不同numpar的设定，看不出concentration的区别。==不明白为啥== hysplit-gem模式虽然还未明白为啥gem在循环开始没有输入的情况下，初值条件mass为0（即使设定好了初值条件），但是这里尝试下是否这种情况会对hysplit-gem模式造成影响。 测试结果发现并不会，只要pdump文件有初始值，就不会有问题。 释放面积的设置图1，每个grid的释放面积是1e3m2，图2，每个grid的释放面积是1度左右的面积，1e5*1e5。 结果非常的奇怪，图2的效果并没有如预期变大，之后再测试 NCEP height inversion问题使用NCEP198401数据（1984年1月份）运行GEM模型的时候，提示在北纬83度？和73？的位置高度逆转。 我重新下载了GRAD的1°数据，可以正常运行Hysplit-GEM模式。 我又重新尝试了NCEP201807的数据，发现也可以正常运行Hysplit-GEM模式。 所以是之前NCEP数据的问题? 我重新运行了下NCEP198401数据，提示了不同的错误点 测试了198107数据，提示了不同的错误点 我大概明白了，有可能因为model通过pressure height计算这个高度，导致的问题。 虽然NCEP没提供地形数据，但不可能是地形的问题，因为两个高度都是在一个点上。 有时候还会又其他的提示，比如如下的提示，??? 这个时候看message文件，发现数据成这样子了 这个应该是程序运行的问题，导致数据出错了 参考文献： 无","categories":[{"name":"TrajectoryModel","slug":"TrajectoryModel","permalink":"http://jackzheng-lu.github.io/categories/TrajectoryModel/"}],"tags":[{"name":"Hysplit","slug":"Hysplit","permalink":"http://jackzheng-lu.github.io/tags/Hysplit/"}]},{"title":"vscode设置","slug":"编程语言学习/vscode","date":"2021-04-06T06:20:42.000Z","updated":"2021-04-25T23:24:07.558Z","comments":true,"path":"2021/04/06/编程语言学习/vscode/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/vscode/","excerpt":"","text":"VScode是一个相当优秀的IDE，具备开源、跨平台、模块化、插件丰富、启动时间快、颜值高、可高度定制等等优秀的特质。 打开VSCODE的设置界面（在左下角或者快捷键ctrl + ,）,在右上角打开 settings.json，见图第一个按钮。 如何进行选中颜色变更 注意如果前后有选项的话，要加逗号 1234&quot;workbench.colorCustomizations&quot;: &#123; &quot;editor.selectionBackground&quot;: &quot;#d1d1c6&quot;, &quot;editor.selectionHighlightBackground&quot;: &quot;#c5293e&quot; &#125; 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"vscode","slug":"vscode","permalink":"http://jackzheng-lu.github.io/tags/vscode/"}]},{"title":"python_jupyter常用快捷键","slug":"pythonLearning/python-jupyternotebook常用快捷键","date":"2021-04-06T05:45:49.000Z","updated":"2021-04-14T00:21:42.100Z","comments":true,"path":"2021/04/06/pythonLearning/python-jupyternotebook常用快捷键/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/06/pythonLearning/python-jupyternotebook%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"","text":"在jupyter里面具有help选项卡，里面有快捷键的完整信息 1、运行模式Jupyter notebook有两种模式：运行模式和编辑模式。Enter和Esc 命令模式：单元格边框为蓝色（快捷键需要在命令模式使用） 编辑模式：Enter进入单元格 边框为绿色（可以写代码或者markdown文本） 从编辑模式回到命令模式 按esc 返回。 命令模式 (按键 Esc 开启) Enter : 转入编辑模式 Shift-Enter : 运行本单元，选中下个单元 Ctrl-Enter : 运行本单元 Alt-Enter : 运行本单元，在其下插入新单元 C: 单元转入代码状态 M :单元转入markdown状态 单元格（cell） A : 在上方插入新单元 B : 在下方插入新单元 D,D : 删除选中的单元 Ctrl + / 行注释（可选中多行）。 替代操作可以使用三个单引号’’’ 这个快捷键操作也可用于vscode的其他语言。 将ipynb文件转换为py文件 在xxx.ipynb所在目录下，打开终端，并输入命令： 12 jupyter nbconvert --to script xxx.ipynb 其中xxx.ipynb是要转换文件的名字，转换后在该目录下出现xxx.py文件。 高效使用jupyter notebook (重建新的) 常用操作12345实例# 使用numpy.random模块来生成随机数组import numpy as npnp.random.rand(10) 一些常用的魔术命令： 123456％pwd ＃打印当前工作目录％cd ＃更改工作目录％ls ＃显示当前目录中的内容％load [在此处插入Python文件名] ＃将代码加载到Jupyter Notebook％store [在此处插入变量] ＃这使您可以传递Jupyter Notebooks之间的变量％who ＃使用它列出所有变量 查看魔术命令的完整列表： 1%lsmagic 10. 显示函数文档如果您忘记了特定方法/函数的参数，使用Shift + Tab获取方法的文档。单击右上角的+箭头以展开文档。 使用Python Matplotlib创建图表时，可能会在图表的正上方（下面突出显示的黄色）看到此文本“&lt;matplotlib.collections.PathCollection at 0x9fae910&gt;”。 我个人觉得很烦，可以在代码末尾添加分号隐藏文本。 12# 加在开头，隐藏显示文本%matplotlib inline 参考文献： jupyter notebook常用快捷键 高效使用Jupyter Notebook的15个技巧","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://jackzheng-lu.github.io/tags/python/"}]},{"title":"shell_一些有用的学习网址","slug":"shellLearning/shell-一些有用的学习网址","date":"2021-04-05T06:35:13.000Z","updated":"2021-04-15T01:43:23.034Z","comments":true,"path":"2021/04/05/shellLearning/shell-一些有用的学习网址/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/05/shellLearning/shell-%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80/","excerpt":"","text":"小马的笔记_shell 小马的笔记做的很好 http://c.biancheng.net/view/2991.html 非常详细的shell教程,里面有很多实例 https://www.liaoxuefeng.com/ http://c.biancheng.net/cpp/view/6999.html https://kodango.com/category/tryandshare 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[{"name":"shell","slug":"shell","permalink":"http://jackzheng-lu.github.io/tags/shell/"}]},{"title":"shell_正则表达式","slug":"shellLearning/shell-正则表达式","date":"2021-04-04T05:54:06.000Z","updated":"2021-04-15T01:13:19.351Z","comments":true,"path":"2021/04/04/shellLearning/shell-正则表达式/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/04/shellLearning/shell-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"","text":"z总结： 要记得区分字符串和字符的正则 有些函数只能用基本正则(e.g., grep)，有些则可以用扩展正则（e.g. egrep) 这里也有个体会，要自己尝试和整理学习资料，网上的资料都是结合每个人的特点写的，不一定适合自己。 比如第一个参考文献根本没有将正则和grep讲清楚，让我非常混乱。 我的实例 我在实际应用上发现自己对正则的理解还是不够 12345678910# 在文件中找到matlab/Matlab开头的文件ls | grep &#x27;^[mM]&#x27;# 如果不要m/M开头的。注意这个折腾了好久才搞清楚。# [^]这种形式只是表示字符罢了，要结合字符串的形式来弄ls | grep &#x27;^[^mM]&#x27;# 更进一步的例子# 匹配一个由一个小写字母和一位数字组成的字符串，比如&quot;z2&quot;、&quot;t6&quot;或&quot;g7&quot;，但不是&quot;ab2&quot;、&quot;r2d3&quot; 或&quot;b52&quot;的话，用这个模式：^[a-z][0-9]$ 基本正则表达式和扩展正则表达式两者的区别，更多的是元字符的区别。 基础正则中==^$.*[]==是元字符 扩展正则中: == ^$.*[]+()&#123;&#125;?|==都是元字符，比基础正则多出了+()&#123;&#125;?| 最后要注意的一点，只有在用反斜杠进行转义的情况下，字符“（”、“）”、“{”和“}”才会在扩展正则表达式中被当作元字符处理，而在基本正则表达式中，任何元字符前面加上反斜杠反而会使其被当作普通字符来处理。 基本用法字符类 跟单个字符有关 数量限定符 位置限定符 跟字符串有关 特殊字符其他一些稍微复杂的字符，如标点符号和白字符（空格、制表符等）都用反斜杠()打头。制表符的转义序列是 \\t。所以如果我们要检测一个字符串是否以制表符开头，可以用这个模式： 1^\\t 类似的，用\\n表示”新行”，\\r表示回车。其他的特殊符号，可以用在前面加上反斜杠，如反斜杠本身用\\表示，句号.用.表示，以此类推。 初级实例1234567891011121314151617181920212223# 符号 &#123;n,m&#125; 和 +grep &quot;ro\\&#123;1,\\&#125;t&quot; user //找1次以及1次以上的oegrep &quot;ro&#123;1,&#125;t&quot; user //效果同上，扩展正则，网友提议，官方修改添加的egrep &quot;ro+t&quot; user //效果同上，最精简#符号 ？ 和 &#123;n，m&#125; 和 &#123;n&#125;grep &quot;roo\\&#123;0,1\\&#125;t&quot; user //第二个o要出现0~1次egrep &quot;roo&#123;0,1&#125;t&quot; user //效果同上egrep &quot;roo?t&quot; user //效果同上，最精简grep &quot;ro\\&#123;2\\&#125;t&quot; user //找o出现2次的egrep &quot;ro&#123;2&#125;t&quot; user //效果同上# 符号 | 和 （） 和 \\b egrep &quot; ^ root | ^ bin&quot; user //找root或者以bin开头的行 egrep &quot;^(root|bin)&quot; user //效果同上 egrep &quot;\\bthe\\b&quot; abc //找the，\\b:前后不允许出现数字，字母，下划线 # 在正则表达式中，我们通常用尖括号表示一个“词”，通过使用`\\&lt;`和`\\&gt;`来准确匹配到这个词。# 例如下面，可以精确匹配到bin，而不是sbin这种grep &#x27;\\&lt;bin\\&gt;&#x27; /etc/passwd --color 高级实例1234567# 替换使用 | 字符来允许在两个或多个替换选项之间进行选择。# 该表达式匹配Chapter和Section+数字/^Chapter|Section [1-9][0-9]&#123;0,1&#125;$/#如果要匹配chaper数字和section数字这种/^(Chapter|Section) [1-9][0-9]&#123;0,1&#125;$/ 参考文献： https://blog.csdn.net/m0_38121874/article/details/78476492 https://blog.csdn.net/abcnull/article/details/103951287 https://www.runoob.com/regexp/regexp-rule.html 正则表达式生产式","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[{"name":"shell","slug":"shell","permalink":"http://jackzheng-lu.github.io/tags/shell/"}]},{"title":"Hysplit_设置文件","slug":"TrajectoryModel/hysplit_设置文件","date":"2021-04-04T01:20:43.000Z","updated":"2021-04-29T13:03:25.205Z","comments":true,"path":"2021/04/04/TrajectoryModel/hysplit_设置文件/","link":"","permalink":"http://jackzheng-lu.github.io/2021/04/04/TrajectoryModel/hysplit_%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/","excerpt":"","text":"总结 Hysplit有几个关键文件Ascadata，control和setup.cfg，跟模型运行有关。 message 文件，看diagnostic message file，看concentration simulation的具体信息，也会有一些诊断信息如果模型没有正常运行 emission 文件，针对特定的输入，如时间/空间变化的发散 有些.exe可以看操作，直接在prompt里面输入exe相关文件名 还有对一些安装的画图程序的介绍 以下信息都可以在user_guide里面找到。多看看guide会有意想不到的的收获。 ==提示的搜索关键词都在user_guide里面== ==重要== ：强制暂停一个程序后，立即执行会出错。不懂为啥…..，过一会在执行就好了。会提示viloation的错误。 还有可能提示 经验： 日期尽量都是双位数，统一格式，这样子shell脚本等后期处理方便些ji， 运行文件的设定主要是Ascdata.data，Control.cfg文件。Set.cfg有默认设置，也可以根据需要进行设定。 ASCDATA.DATA有关地形，土地使用的详情，https://www.ready.noaa.gov/hysplitusersguide/S444.htm bdyfiles - This directory contains an ASCII version of gridded land use, roughness length, and terrain data. 123456-90.0 -180.0 lat/lon of lower left corner 1.0 1.0 lat/lon spacing in degrees 180 360 lat/lon number of data points (e.g., 如果spacing是0.5 0.5的话，则number为[360 720])2 default land use category 陆地使用情况 0.2 default roughness length (m) &#x27;c:\\hysplit\\bdyfiles\\&#x27; directory of files 实例1234567891011# 先check文件是否存在，一般都在if [ ! -f ASCDATA.CFG ]; then echo &quot;-90.0 -180.0&quot; &gt;ASCDATA.CFG echo &quot;1.0 1.0&quot; &gt;&gt;ASCDATA.CFG echo &quot;180 360&quot; &gt;&gt;ASCDATA.CFG echo &quot;2&quot; &gt;&gt;ASCDATA.CFG echo &quot;0.2&quot; &gt;&gt;ASCDATA.CFG echo &quot;&#x27;$MDL/bdyfiles/&#x27;&quot; &gt;&gt;ASCDATA.CFGfi# 这个echo表示在prompt中显示运行的文件名echo &quot;### $0 ###&quot; Control 文件trajectory 设定属于设定文件，一定要按照参数顺序来。以下是关于trajectory计算的control设定 详情见hysplit_user_guide.pdf的Initial CONTROL File Section。 注意开始的地点数量和相关信息对应，气象数据数量和相关信息对应 再创建control文件，可以创建的control.base或者control.head，然后再之后进行赋予到运行的Control文件中 1234567891011121314151683 9 28 13 # 开始时间 yr,month,day,hour,(min,optional)1 # number of the starting points38.665 -71.370 216.4 [速率(/h) 面积(m2)] # 开始地点1 (可以输入多个,可选项为发散的速率和面积）.... # 开始地点2 (可以输入多个，跟starting number 对应）-68 # 运行时间，负数表示backforwar0 # 垂直运移选项(0,默认使用气象数据中的垂直速度)# (0:data 1:isob 2:isen 3:dens 4:sigma 5:diverg 6:msl2agl 7:average 8:damped)10000.0 [internal coordinates m-agl] # 默认最高大气高度(10km)。这样做的目的是为了限制使用的气象数据，从而加快计算时间。第二项是内部的坐标值。1 # 输入的气象数据数量，每次time step，会check是否高精度的气象数据（如果有两个气象数据的话，会优先使用高精度的数据），理论上对多可以有12个数据。一般是精度从高到低排序。### 补充： 可以这样设置，2 12； 这样表明2个气象grid，每个气象grid里面有12个数据。这样子就突破了12个数据的限制。&gt;&gt; 具体搜索 Compilation Limitsc:/hysplit/Tutorial/captex/ # 气象数据所在位置(永远都是/结束)captex2_wrf27uw.bin # 气象数据... # 如果气象数据的数量为n个，这里也应该有n个气象数据的位置和数据，注意这里有限制12个最多c:/hysplit/working/ # 输出数据文件位置tdump_back # 输出文件名 气象信息数据还可以有不同的精度选择 For example, an entry of 2 12 would mean that there are met files for 2 different grids (e.g., a regional and aglobal grid), and that there are 12 files being specified for each grid. 如果是关于particle csoncentrations的计算，还需要设定particle的相关信息。其他的是跟trajectory信息一样的，输出信息那项要增添particled的相关信息。这个可以结合Hysplit GUI了解相关输入，在concentration&gt; setup run&gt; pollutent, depostion and grids setup&gt;点species 1 了解详情。 concentration 设定计算concentration的时候，需要输入额外的关于污染物的信息 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849echo &quot;$syr $smo $sda $shr &quot; &gt;CONTROLecho &quot;1 &quot;&gt;&gt;CONTROLecho &quot;$olat $olon $lvl1 &quot;&gt;&gt;CONTROLecho &quot;$run &quot;&gt;&gt;CONTROLecho &quot;0 &quot;&gt;&gt;CONTROLecho &quot;$ztop &quot;&gt;&gt;CONTROLecho &quot;1 &quot;&gt;&gt;CONTROLecho &quot;$MET/ &quot;&gt;&gt;CONTROLecho &quot;$data &quot;&gt;&gt;CONTROL# 以上是trajectory的基本信息数据，到气象数据输入停止# Definition of pollutent group # 这是污染物扩散的设置# 注意：时间变化的emission file在set-up里面设定, duration要一致。### 一个小tip，如果emission file设定了，将这块的扩散时间和扩散速度都设为0### 这样子，如果emission file设定错误的话，模型会使用这块的结果就不会有outputecho &quot;1 &quot;&gt;&gt;CONTROL # number of group,有几个pollutent，就应该对应设置几个参数echo &quot;TEST &quot;&gt;&gt;CONTROL # identification (&lt;=4字符)echo &quot;1.0 &quot;&gt;&gt;CONTROL #Emission rate in mass units per hour. 扩散的速度 (/h)，任意单位(arbitary)，结合使用的情况设定，相当于mass的释放echo &quot;1.0 &quot;&gt;&gt;CONTROL # hours of emission 扩散的时间 (h)echo &quot;00 00 00 00 00 &quot;&gt;&gt;CONTROL # 开始扩散的时间 (yy mm dd hh min)，设置为0的话，就主动提取emission file(如果无则气象数据起点）。... # 如果number of group 为2的话，这里应该从添加信息（第2-4行）,详情见&gt;16_4_cust_psize# definition of concentration grid # 这是计算浓度设置echo &quot;1 &quot;&gt;&gt;CONTROL # number of girds，不同的grid的设定，会有不同的输出echo &quot;0.0 0.0 &quot;&gt;&gt;CONTROL # 经纬度中心，如果设置为[0,0]，则默认为污染源位置为中心echo &quot;0.05 0.05 &quot;&gt;&gt;CONTROL # 经纬度的间隔，default[1,1], (这个间隔越小，则需要的release的particles就越多，否则最后计算的concentration就不准确）echo &quot;30.0 30.0 &quot;&gt;&gt;CONTROL # 经纬度的选择范围,中心左右各一半，default[180,360],echo &quot;$OUT/ &quot;&gt;&gt;CONTROL # concentration的结果文件夹echo &quot;cdump &quot;&gt;&gt;CONTROL # concentration的文件echo &quot;1 &quot;&gt;&gt;CONTROL # 高度的分层，(e.g.,2 Boundary layer/平流层)number of vertical levels# 这个计算的平均高度echo &quot;100 &quot;&gt;&gt;CONTROL # （m，e.g., 高度分层为2层的话，这里就写3000 10000），AGL,height of levels，平均的高度，如果设为0的话，表示depositionecho &quot;00 00 00 00 00 &quot;&gt;&gt;CONTROL # 采样开始时间(yr,month,day,hour,min)echo &quot;00 00 00 00 00 &quot;&gt;&gt;CONTROL # 采样停止时间(yr,month,day,hour,min)#这个表示每多久进行取样一次（e.g. 01 03 00, 表示每3小时进行取样一次）echo &quot;00 12 00 &quot;&gt;&gt;CONTROL # concentration average, # definition of deposition grid# 这是污染物运移的设定echo &quot;1 &quot;&gt;&gt;CONTROL # 可以有多个污染物的设定echo &quot;0.0 0.0 0.0 &quot;&gt;&gt;CONTROL # 直径(um)，密度(g/cc)，形状（shape）。注意: 三个参数有一个为0，则污染物会被认定为气体。污染物为粒子的话，这三个参数一定要大于0。如果模型要考虑gravitational settling 或者 resistance deposition的话，这些参数才有用，主要是dry deposition。可以将三者设为1，表示考虑污染物为particle而不是gasecho &quot;0.0 0.0 0.0 0.0 0.0 &quot;&gt;&gt;CONTROL # 沉降速度(m/s)，污染物重量（g/mol),Surface Reactivity Ratio, Diffusivity Ratio, Effective Henry&#x27;s Constant echo &quot;0.0 0.0 0.0 &quot;&gt;&gt;CONTROL # Wet Removal: Actual Henry&#x27;s constant, In-cloud (GT 1 =L/L; LT 1 =1/s),Below-cloud (1/s)echo &quot;0.0 &quot;&gt;&gt;CONTROL # decay time 天数echo &quot;0.0 &quot;&gt;&gt;CONTROL # Pollutant Resuspension, 非0的数值表示有可能从土壤re-emitted... # 同理，如果污染物有多个的话，这里也应该补充信息（2-6行），详情可见&gt;16_4_cust_psize 实例区域的释放可以这样子（多个区域貌似不行？） 1234567echo &quot;3 &quot; &gt;&gt;CONTROL# 这个是区域的释放# 前两行代表左下和右上# 第三行代表间隔echo &quot;38.00 -84.00 600.0 &quot; &gt;&gt;CONTROLecho &quot;44.00 -74.00 600.0 &quot; &gt;&gt;CONTROLecho &quot;39.00 -83.00 600.0 &quot; &gt;&gt;CONTROL Setup.cfg模型的设定文件，不是必须的，如果没有设定值的话，Hysplit会导入默认的值。 ==注意==：时间变化的emission file在set-up里面设定。 1echo &quot;efile = &#x27;$&#123;DATA&#125;/emissionfile.txt&#x27;, &quot;&gt;&gt;SETUP.CFG 在hysplit_user_guide文件中，有个section，Advanced / Configuration Setup / Variables Not Set in the GUI，里面有关于Setup.cfg文件的具体设置。 在GUI的advance setting中，也可以调用帮助文档，查看详情，以下setup.cfg设置就是从GUI里复制出来的 实例12345678910echo &quot;&amp;SETUP &quot; &gt;SETUP.CFGecho &quot;kmsl=0, &quot; &gt;&gt;SETUP.CFGecho &quot;ninit=1, &quot; &gt;&gt;SETUP.CFGecho &quot;ndump=12, &quot; &gt;&gt;SETUP.CFGecho &quot;ncycl=12, &quot; &gt;&gt;SETUP.CFGecho &quot;numpar=5000, &quot; &gt;&gt;SETUP.CFGecho &quot;maxpar=50000, &quot; &gt;&gt;SETUP.CFGecho &quot;pinpf = &#x27;PARINIT&#x27;, &quot; &gt;&gt;SETUP.CFGecho &quot;poutf = &#x27;PARDUMP&#x27;, &quot; &gt;&gt;SETUP.CFGecho &quot;/ &quot; &gt;&gt;SETUP.CFG 基本设置选项 1 CAPEMIN=-1 -1 no convection; -2 Grell convection scheme; -3 extreme convection; &gt;0 enhanced vertical mixing when CAPE exceeds this value (J/kg)2 CMASS=0 compute grid concentrations (0) or grid mass (1) 计算的是mass还是mass/grid volume3 CMTFN=’ ‘ center-of-mass trajectory output file name4 CONAGE=24 particle to or from puff conversions at conage (hours)5 CPACK=1 binary concentration packing 0:none 1:nonzero 2:points 3:polar DECAY=1 污染物是否沉降后还在衰减 6 DELT=0.0 integration time step (0=autoset GT-0=constant LT-0=minimum)7 DXF=1.0 horizontal X-grid adjustment factor for ensemble8 DYF=1.0 horizontal Y-grid adjustment factor for ensemble9 DZF=0.01 vertical (0.01 ~ 250m) factor for ensemble10 EFILE=’ ‘ temporal emission file name #时间/空间变化的释放点变量11 FRHMAX=3.0 maximum value for the horizontal rounding parameter12 FRHS=1.00 standard horizontal puff rounding fraction for merge13 FRME=0.10 mass rounding fraction for enhanced merging14 FRMR=0.0 mass removal fraction during enhanced merging15 FRTS=0.10 temporal puff rounding fraction16 FRVS=0.01 vertical puff rounding fraction17 GEMAGE=48 particle or puff transfer to the global model after gemage (hours)18 HSCALE=10800.0 horizontal Lagrangian time scale (sec)19 ICHEM=0 chemistry conversion modules 0:none 1:matrix 2:convert 3:dust … (这是化学定义模块) 20 IDSP=1 particle dispersion scheme 1:HYSPLIT 2:STILT21 INITD=0 initial distribution, particle, puff, or combination #设置释放的是particle(0)，puff(1,2)或者混合的22 IVMAX=20 number of variables written to PARTICLE_STILT.DAT. Must equal the number of variables listed for variable VARSIWANT23 K10M=1 use surface 10m winds / 2m temperature (1) or skip (0)24 KAGL=1 trajectory output heights are written as AGL (1) or as MSL (0) # 高度显示是米还是 pressure height25 KBLS=1 boundary layer stability derived from 1:fluxes 2:wind_temperature26 KBLT=2 boundary layer turbulence parameterizations 1:Beljaars 2:Kanthar 3:TKE 4:Measured 5:Hanna27 KDEF=0 horizontal turbulence 0=vertical 1=deformation28 KHINP=0 when non-zero sets the age (h) for particles read from PINPF29 KHMAX=9999 maximum duration (h) for a particle or trajectory # 最大的滞留时间，对于区域的模拟，粒子会在边界被抛弃，全球的模拟的话，会被抛弃当这些粒子不在感兴趣的区域30 KMIXD=0 mixed layer obtained from 0:input 1:temperature 2:TKE 3:modified Richardson #31 KMIX0=150 minimum mixing depth32 KMSL=0 starting heights default to AGL=0 or MSL=1 #开始高度设定，AGL(相对地面高度），MSL(绝对海平面高度）33 KPUFF=0 horizontal puff dispersion linear (0) or empirical (1) growth34 KRAND=2 method to calculate random number 1=precalculated 2=calculated in pardsp 3=none 4=random initial seed number and calculatd in pardsp35 KRND=6 enhanced merge interval (hours)36 KSPL=1 standard splitting interval (hours)37 KWET=0 precipitation from an external file38 KZMIX=0 vertical mixing adjustments: 0=none 1=PBL-average 2=scale_TVMIX39 MAXDIM=1 maximum number of pollutants to carry on one particle40 MAXPAR=10000 maximum number of particles carried in simulation # 允许的最多particled数量，超过这个数量，将强制把emission变为0，并且提示warning41 MESSG=’MESSAGE’ diagnostic message file base name42 MGMIN=10 minimum meteorological subgrid size # 最小的使用的气象数据grid，有时候提示cross violation的错误是因为这个grid设置的太小43 MHRS=9999 trajectory restart duration limit (hours) 44 NBPTYP=1 number of redistributed particle size bins per pollutant type # 给不同size的粒子标记45 NINIT=1 particle initialization (0-none; 1-once; 2-add; 3-replace) # 开始的particle数据，及边界条件的设定，0表示没有边界，即使设定了输入也无效；1表示仅在运行开始的时候读取边界条件，如果边界条件的时间不对的话，就不会读取；2表示每小时检查是否有符合的边界条件，如果有的话就读取。 46 NCYCL=0 pardump output cycle time # output的循环次数47 NDUMP=0 dump particles to/from file 0-none or nhrs-output interval # 每次出结果文件的时间间隔 #NCYCL和NDUMP结合使用。有比如需要每天的数据，则两者都设为24，这样也可以防止模型运行到一半卡壳，我们可以从上一个结果从新开始。详细实例见下面补充说明 一定要设定这两项才会particle的结果 48 NSTR=0 trajectory restart time interval in hours # 每几个小时运行一条trajectory（无语了…原来系统已经有自带的选项了）49 NTURB=0 Turbulence flag 0-on; 1-off50 NUMPAR=2500 number of puffs or particles to released per cycle # 每个cycle释放particled的数量(默认2500)51 NVER=0 trajectory vertical split number52 P10F=1.0 dust threshold velocity sensitivity factor53 PINBC=’ ‘ particle input file name for time-varying boundary conditions 54 PINPF=’ ‘ particle input file name for initialization or boundary conditions # 初始/边界条件的particle文件55 POUTF=’ ‘ particle output file name # 结果文件56 QCYCLE=0.0 optional cycling of emissions (hours)57 RHB=80 is the RH defining the base of a cloud58 RHT=60 is the RH defining the top of a cloud59 SEED=-1 set the seed for the random number generator. (v988 and higher)60 SPLITF=1.0 automatic size adjustment (horizontal splitting61 TKERD=0.18 unstable turbulent kinetic energy ratio = w’2/(u’2+v’2)62 TKERN=0.18 stable turbulent kinetic energy ratio63 TLFRAC=0.1 The fraction of the Lagrangian vertical time scale used to calculate the dispersion time step in the STILT dispersion scheme.64 TM_PRES=0 trajectory diagnostic output pressure variable marker flag65 TM_TPOT=0 trajectory diagnostic output potential temperature66 TM_TAMB=0 trajectory diagnostic output ambient temperature67 TM_RAIN=0 trajectory diagnostic output rainfall rate68 TM_MIXD=0 trajectory diagnostic output mixed layer depth69 TM_TERR=0 trajectory diagnostic output terrain height # 是否显示地形？（设为1显示地形）70 TM_DSWF=0 trajectory diagnostic output downward short-wave flux71 TM_RELH=0 trajectory diagnostic output relative humidity72 TOUT=60 trajectory output interval in minutes73 TRATIO=0.75 advection stability ratio74 TVMIX=1.0 vertical mixing scale factor75 VARSIWANT=’TIME’,’INDX’,’LONG’,’LATI’,’ZAGL’,’SIGW’,’TLGR’,’ZSFC’,’TEMP’,’SAMT’,’FOOT’,’SHTF’,’DMAS’,’DENS’,’RHFR’,’SPHU’,’DSWF’,’WOUT’,’MLHT’,’PRES’ variables written to PARTICLE_STILT.DAT.76 VDIST=’VMSDIST’ diagnostic file vertical mass distribution77 VEGHT=0.5 Height below which particle’s time is spent is tallied to calculate footprint for PARTICLE_STILT.DAT less than or equal to 1.0: fraction of PBL height; greater than 1.0: height AGL (m)78 VINIT=1 initial turbulent velocity. Draw from distribution (1) set to 0 (0)79 VSCALEU=200.0 vertical Lagrangian time scale (sec) for unstable PBL80 VSCALES=5.0 vertical Lagrangian time scale (sec) for stable PBL81 WBWR=0.0 trajectory fixed rise velocity (m/s) required if vertical motion option = 982 WBWF=0.0 trajectory fixed fall velocity (m/s, &gt;0) required if vertical motion option = 9 or 1083 WBBH=0.0 trajectory height at which vertical velocity switches from rise to fall (m) required if vertical motion option = 984 WVERT=.FALSE. Vertical interpolation scheme for WRF fields .FALSE.:HYSPLIT scheme .TRUE.:WRF scheme 额外补充说明NDUMP 和NCYCL结合使用 ICHEM文件设定 MESSAGE文档范例说明，如何看message文件 注意的一点，这里的结果，跟在control文件中设定是相关的。例如，如果设定计算的高度为5000，那么即使release point高于5000，也不会计算其中 12345678910111213141516171819202122232425262728293031323334353637383940414243# 这个输入的气象数据的信息，NX,NY表示经纬度，KT表示数据编码KG KT DATA SIZE NX NY1 1 CDC1 278.0 144 731 2 CDC1 278.0 144 73 ------------- Start computation messages ------------------- ### 复习：Hsyplit没有用输入气象数据的所有值进行计算，而是用输入数据的sub-grid进行，提高运算速度 NOTICE advrng: (kg ,xyr,xy1) - 1 10 10 54 63 #气象数据的最小sub-grid，10*10，该数据的左下角位置 54 63 NOTICE metpos: closed unit - 1 12 1000 # 这里是按照分钟数显示，显示第一次计算的时间序列 NOTICE metpos: (mtime,ftime) - 42599160 0 NOTICE metpos: (mtime,ftime) - 42598800 0 # 气象数据的最小sub-grid，10*10,可以在setup里面设置，这个33 sigma level是模型内部的划分 NOTICE advpnt: (kg,nx,ny,nz) - 1 10 10 33 NOTICE sfcinp: reading ASCDATA.CFG NOTICE sfcinp: record terminator = CR/LF # sub-grid数据的左下角位置 54 63 NOTICE metgrd: (kg, xyr,xy1) - 1 10 10 54 63 NOTICE metinp: CDC1 110811 10 10 54 63 42599160 80 12 29 18 #运行开始时间,42599160min,时间80 12 29 18 # input data level是气象数据的vertical level, 其他的都是模型根据气象数据生成的。 NOTICE prfprs: extrapolation from level (k,m): 31 25327.89 Input data levels: 17 Internal Sigma levels: 33 ################ # 以下内容来自第二个实例 ################################## # 刚开始默认15分钟间隔(这是系统默认的),zhi NOTICE main: Initial time step (min) 15 # 后面发现前3个小时是没有particle释放的，变为1小时，发现有relase之后，改变运行时间间隔 NOTICE main: 1 52615815 (这是时间） 0（这是particles数量） 0.0000000E+00（这是total mass，跟设定的release rate相对应) NOTICE main: 1 52615830 0 0.0000000E+00 NOTICE main: 1 52615845 0 0.0000000E+00 NOTICE main: 1 52615860 0 0.0000000E+00 NOTICE advrng: (kg ,xyr,xy1) - 1 40 40 34 33 # 这个表示当前的sub-grid，40是因为我将最小grid改为40 NOTICE main: 2 52615920 0 0.0000000E+00 NOTICE advrng: (kg ,xyr,xy1) - 1 40 40 34 33 NOTICE main: 3 52615980 627 53.99998 NOTICE advrng: (kg ,xyr,xy1) - 1 40 40 33 33 NOTICE main: 4 52615986 690 59.39995 NOTICE main: 4 52615992 753 64.79990 NOTICE main: 4 52615998 816 70.19986 NOTICE main: 4 52616004 879 75.59982 图像绘制的设定trajectory 绘制1234567891011 $&#123;MDL&#125;/exec/trajplot -itdump -z80 -j$&#123;MDL&#125;/graphics/arlmap -v0# -v, 表示高度的显示方式，0hpa, 1agl, 2theta, 3meteo, 4none; -i表示输入文件；ls fdump???????? &gt;INFILE# 多个trajectory 模拟，将名字都存入一个file中# 将output name放到一个traj_files.txt文件中进行echo &quot;tdump_divg&quot; &gt;&gt;traj_files.txtecho &quot;tdump_fwrd&quot; &gt;&gt;traj_files.txt$&#123;MDL&#125;/exec/trajplot -z30 -i+traj_files.txt -j$&#123;MDL&#125;/graphics/arlmap -v0 频率绘制frequency plot 注意，只能是一个点，不能多点，不能多高度 12345# 实例 6_1_traj_freq# 先利用trajfreq计算频率，再利用concplot绘制结果$&#123;MDL&#125;/exec/trajfreq -ftfreq.bin -g1.0 -iINFILE -r0 -s0:99999 # -f 绘图结果(tfreq.bin为输出结果)；-i INFILE为input file name合集；-r 表示滞留时间；-s表示计算的高度范围$&#123;MDL&#125;/exec/concplot -m0 -k1 -z80 -j$&#123;MDL&#125;/graphics/arlmap -itfreq.bin concplot绘制浓度分布图。 1234567891011 # 实例1 $&#123;MDL&#125;/exec/concplot -ivolcano.bin -j$&#123;MDL&#125;/graphics/arlmap -s0 -z80 \\ -c4 -uug -v100+50+20+10 -f1 # -i, 表示输入的数据volcano.bin；-s 表示种类(0为叠加)，-z表示缩放大小(80); -c表示等值线图的绘制(4)，-u表示单位(ug)，-v表示colorbar的类别(100+50+20+10) # -j表示加载地理坐标; -f0表示all frame one file, f1表示one frame one file##### 15_1的范例 $&#123;MDL&#125;/exec/concplot -ic137.bin -j$&#123;MDL&#125;/graphics/arlmap -z80 \\ -odoseyear -x1.0E-10 -y9.6E-9 -b0 -t100 -r3# -o output,doseyear是输出的名字；-x浓度转换系数(对于显示转换的时候特别有用)；-y沉积的浓度转换系数；# -b bottom display level；-t top display level; -r removal,沉降？ parxplot绘制显示例子的运动。 12345678 # 实例1 $&#123;MDL&#125;/exec/parxplot -iPARDUMP -k1 -z80 -j$&#123;MDL&#125;/graphics/arlmap # PADRUMP是particle的输出，如果要看particle的条件的话，需要额外的在setup中设置particle的输出。例如 echo &quot;pinpf = &#x27;PARINIT&#x27;, &quot; &gt;&gt;SETUP.CFG echo &quot;poutf = &#x27;PARDUMP&#x27;, &quot; &gt;&gt;SETUP.CFG # -k表示颜色(0为黑白1为彩色)# 有par2con的软件，将particle转换为concentration 结果文件阅读如何看Trajectory的结果12345678910111213141516# loading的气象数据实际上只用了两个3 1CDC1 80 8 1 0 0CDC1 80 9 1 0 0CDC1 80 10 1 0 0# 开始的两个点，2 BACKWARD OMEGA 1981 1 1 0 75.500 -36.000 500.01981 1 1 0 75.500 -36.000 1500.0# 最后6列是时间，纬度，经度，相对地面高度（AGL),平均压强？？地面高度（一般不显示，在setup中设置了TM_TERR=1后就会显示）2 PRESSURE TERR_MSL1 1 81 1 1 0 0 0 0.0 75.500 -36.000 500.0 649.6 2765.52 1 81 1 1 0 0 0 0.0 75.500 -36.000 1500.0 563.0 2765.51 1 80 12 31 23 0 0 -1.0 75.553 -35.934 500.7 650.4 2753.52 1 80 12 31 23 0 0 -1.0 75.478 -35.617 1502.8 564.4 2741.3 额外的有用代码设定 123456# 多个输出，linux接受这种写法，$&#123;num&#125;ps2pdf concplot.ps 7_5_conc_part_$&#123;num&#125;.pdf# 逗号表示换行的意思, read 表示读取输入# 这个可以做到暂停的效果,然后看下输入echo &quot;Enter to continue ...&quot;; read x 高级设置particle的问题如何根据粒子计算浓度 时间/空间变化的emission设定(重要)这是16.5 Creating a complex EMITIMES file的设定。基本的一个格式 不同高度的emission设定 脚本记录：Be10_conc_test2Height ==关键词搜索：Advanced / File Edit / Emissions File== hysplit在高度设定，如果两个高度的值([40 50])，就默认是在40-50米这个范围内进行释放。 下面是一个不同高度不同散发点的例子。 1234567891011YYYY MM DD HH DURATION(hhhh) #RECORDS YYYY MM DD HH MM DURATION(hhmm) LAT LON HGT(m) RATE(/h) AREA(m2) HEAT(w) 2000 1 15 20 24 4 2000 1 15 20 0 2400 60 -50 100 7 0 02000 1 15 20 0 2400 60 -50 500 11 0 02000 1 15 20 0 2400 60 -50 3000 36 0 02000 1 15 20 0 2400 60 -50 5000 56 0 0# 100-500,释放rate为 7/h# 500-3000,释放rate为 11/h# 3000-5000,释放rate为 36/h# 最后一项被忽略，因此如果看MESSAGE文件，第一个小时的mass只有54，24个小时为54*24的total mass。注意，message里面的数值不会正好等于54(e.g.,53.999999),可以理解为计算误差。 这下面是message文件，可以看到，第一个小时是54.00011，可以理解为计算误差。 上面是parplot的结果。还有个问题就是，我设定的numpar=5000，意味着一个循环应该是5000个releasa。同时我设定了三个区间，总量应该为15000才对。这里面显示的最后结果是16356个particle。 答：有时候particle的数目并不是很严格符合设定 不同时间的emission设定以下设定来自16.5Creating a complex EMITIMES file和16.6Exercise 1234567891011121314151617181920212223242526272829303132333435363738394041424344# 这表示三个循环YYYY MM DD HH DURATION(hhhh) #RECORDSYYYY MM DD HH MM DURATION(hhmm) LAT LON HGT(m) RATE(/h) AREA(m2) HEAT(w)2010 04 14 00 0012 82010 04 14 00 00 1200 63.63 -19.62 6000.0 0.25 0.0 0.0...2010 04 14 00 00 1200 63.63 -19.62 6000.0 0.67 0.0 0.02010 04 14 12 0012 82010 04 14 12 00 1200 63.63 -19.62 12000.0 0.25 0.0 0.0...2010 04 14 12 00 1200 63.63 -19.62 12000.0 0.67 0.0 0.02010 04 15 00 0012 82010 04 15 00 00 1200 63.63 -19.62 6000.0 0.25 0.0 0.0...2010 04 15 00 00 1200 63.63 -19.62 6000.0 0.67 0.0 0.0# 注意这里的control设定，对于开始的位置的设定# 因为16.5表示的是4个不同的污染物，所以emission里面每个时段有8个值，实际上就2个不同的位置2 63.63 -19.62 100.0 63.63 -19.62 6000.0 ##################################################################### 另外一种写法，这个只有一个循环，但是不同的emissionYYYY MM DD HH DURATION(hhhh) #RECORDS YYYY MM DD HH MM DURATION(hhmm) LAT LON HGT(m) RATE(/h) AREA(m2) HEAT(w) 2010 04 14 00 0036 24 2010 04 14 00 00 1200 63.63 -19.62 100.0 0.01 0.0 0.0 ...2010 04 14 00 00 1200 63.63 -19.62 6000.0 0.67 0.0 0.0 2010 04 14 12 00 1200 63.63 -19.62 100.0 0.01 0.0 0.0 ...2010 04 14 12 00 1200 63.63 -19.62 12000.0 0.67 0.0 0.0 ...2010 04 15 00 00 1200 63.63 -19.62 6000.0 0.67 0.0 0.0 # 注意，这里要对control进行相对应的变化6 63.63 -19.62 100.0 63.63 -19.62 6000.0 63.63 -19.62 100.0 63.63 -19.62 6000.0 63.63 -19.62 100.0 63.63 -19.62 6000.0 全球运移模式 （重点）长时间的运移需要非常多的particles输入（极大的增加运算时间等）。因此可以使用hysplit-GEM混合模式，可以使得靠近源点的运移比较精确。基本设置跟hysplit是一样的，除了需要额外配置一项GEMPARM.CFG文件。 The global simulation is a HYSPLIT “grid-in-plume” option, in which the Lagrangian particle mass can be transferred to a global Eulerian model after a designated number of hours. Lagrangian and Eulerian dispersion and transport can occur simultaneously. Each model has its own output grid. The advantage of this approach is that at times very long-range calculations may require too many particles to properly represent the pollutant distribution. ==In this way it is possible to take advantage of the the more precise Lagrangian approach near the source and the more computationally efficient Eulerian computation at the hemispheric and global scales==. 运行hycs_gem.exe，如果没有设定GEMPARM.CFG文件，程序会自动生成默认的GEMPARM.CFG文件，并显示提醒。 GEM和hysplit都会产生自身的浓度，如果要一个全部的浓度，需要两者叠加。可以使用concadd。 有两个exe文件可以使用，一个是==concadd==，将hysplit/gem模型运行结果浓度相加的程序，一个是==gridplot==进行全球绘制。 The only requirement is that at one pressure-level global meteorological grid (2.5 degree reanalysis or 1 degree GFS) needs to be defined for the HYSPLIT calculation. 需要使用全球的数据进行运行（NCEP/GADS). 在SETUP.CFG文件中需要进行一个设置 12345GEMAGE=48 #(默认为48小时),表示多长时间后粒子可以运移到GEM模型中### 注意，这个时候看message file, total mass是确定的，因为particle被传到了GEM里面去了# 补充：# 感觉自己理解的还不是很对，多看看message的文件，然后可以在hysplit那边问问题 还需注意的是，QCYCLE不起作用了。 When using an EMITIMES file, QCYCLE is not used for emission cycling. Also if the EMITIMES file has fewer sources than defined in the CONTROL file, the emissions specified in the CONTROL file need to be set correctly and match the first value in EMITIMES. GEMPARM.CFG文件文件设置123456789101112131415161718192021HMIX=200000.0 - horizontal mixing (m2/s) at the equatorVMIX=50.0 - maximum vertical mixing (m2/s)KMASS=2- flag set to conserve mass (0:skip 1:show 2:yes) # 保留massKINIT=0 - concentration initialization (&lt;0:no_run 0:zero 1:lat_bands 2:dew-point 3:last_dump 4:global_v37) #边界初始条件CKON=0.0 - value of initial concentration field if kinit&gt;4CMIN=0.0 - minimum value when using regression initialization (kinit=1|2)CMAX=1.0E+25 - regression fit maximum valueWFACT=1.0 - sensitivity of advection to vertical velocityKDIVG=0 - flag to compute vertical velocity from the divergence field (kdivg=1)# 以下三个，&#x27;.bin&#x27;不是必须的GEMDUMP=&#x27;gemdump.bin&#x27; - daily 3-dimensional dump of concentration field (for initialization kinit=3) # 这个设定是每次的concentration结果，跟输出频率和第一个输入的时间有关GEMCONC=&#x27;gemconc.bin&#x27; - HYSPLIT formatted concentration output fileGEMZINT=&#x27;gemzint.bin&#x27; - HYSPLIT formatted vertically integrated concentrationCFACT=1.0 - internal (model) concentration to external (output) concentration units conversion factor #浓度转换系数# 这个layer是跟气象数据的layer是相关的KZBOT=1 - grid cell index for the bottom output (or integration/averaging) level # 底部应该是level 1KZTOP=1 - grid cell index for the top output (or integration/averaging) level# 这表示如何进行浓度的选取KZAVG=0 - flag for vertical averaging (0:none 1:average&#123;bot-top&#125; 2:integral&#123;bot-top&#125; 3:&#123;2+0&#125; 4:&#123;2+1&#125;)WFREQ=3 - output frequency in hours # 输出的频率IHOUR=0 - initial UTC output hour # 第一张图输出的时间 通过阅读结果的message file进一步理解 12345678910111213# 开头多了一些信息，NOTICE gemset: allocated array space (x,y,z) - 360 181 23NOTICE geminp: loaded new data (mo,da,hr) - 1 1 18NOTICE gemstb: minimum H,V time steps (s) - 363 100 Final (min): 1NOTICE gemini: all zero initialization for concentration # 因为没有初值条件，所以设为0# 这估计是跟成图输出频率有关NOTICE geminp: skip 6232452 # 运行到第二个小时出现这个，....NOTICE geminp: loaded new data (mo,da,hr) - 7 2 0 # 之后又出现了loadNOTICE geminp: skip 62324580NOTICE gemout: (da,hr,mass) - 1 23 109709.3 NOTICE gemday: gemdump.bin 边界条件（长时间尺度模拟）利用GEMDUM 开始时间应该严格按照要求，e.g., 07 01 01 00，我一开始使用(2007 01 01 00)，这导致在使用GEMDUMP的时候日期格式对应不上。 保留mass， kmass=2，如果设置成其他值，则无法继承GEMDUMP运行。 当KINIT=0时，每次都会产生一个gemdump（根据WFREQ设定多久出结果），这个就是可以作为边界条件。 写个代码每次开始时，寻找开始时间的gemdump是否存在，存在的话就变为gemdump为边界条件。 12345678rm -f gemdump# $&#123;a:4:4&#125;为特定时间的gemdumpif [ -f gemdump$&#123;a:4:4&#125; ]; then echo &quot;initial boundary is gemdump$&#123;a:4:4&#125;&quot; cp gemdump$&#123;a:4:4&#125; gemdumpelse echo &quot;initial boundary is 0&quot;fi 注意，高度最好设为MSE(KMSL) Restarting the Model from PARDUMPTherefore, go to the \\hysplit\\working directory and first make a copy of PARDUMP (to PARDUMP1412) that was created at the end of the last simulation to avoid having to rerun the example in case you make a mistake and then rename the file PARDUMP to PARINIT\\. Then save the changes and run the model. 注意的点 ninit=1，这个是必须的，表示particle最初的状态。 多线程运行问题https://hysplitbbs.arl.noaa.gov/viewtopic.php?f=12&amp;t=263 可以使用run_mpi","categories":[{"name":"TrajectoryModel","slug":"TrajectoryModel","permalink":"http://jackzheng-lu.github.io/categories/TrajectoryModel/"}],"tags":[{"name":"Hysplit","slug":"Hysplit","permalink":"http://jackzheng-lu.github.io/tags/Hysplit/"}]},{"title":"python_快捷键","slug":"pythonLearning/python_快捷键","date":"2021-03-30T13:07:50.000Z","updated":"2021-04-28T23:53:35.316Z","comments":true,"path":"2021/03/30/pythonLearning/python_快捷键/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/30/pythonLearning/python_%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"","text":"python 我使用的是anacoda的jupyter notebook。 因为anacoda更新出了问题，我卸载了重新安装，结果发现之前装的包都不见了。这里对anaconda的安装做个记录 记录一些常用出的错误 python 列表，数组，矩阵列表可以写成方括号之间的逗号分隔值(项目)列表。 列表中的项目不必是相同的类型。一个列表中的项目(元素)可以是数字，字符串，数组，字典等甚至是列表类型。 Python 的index 是从0开始的 一、写入浮点数到txt文件： 假设每次有两个浮点数需要写入txt文件，这里提供用with关键字打开文件的方法，使用with打开文件是一个很好的习惯，因为with结束，它就会自动close file，不用手动再去flie.close()。 Jupyter 运行py文件方法1：直接运行得出结果。 1%run xx.py 方法2：(载入代码再点击Run运行，这种方法的好处是可以方便修改代码。) 12345678%load xx.py # 然后将更新信息覆盖文件import os# python文件夹的位置，建议保存为一个新的版本，做好备份mypath =&quot;C:/Users/zmjhh/Desktop/HYSPLIT/test.txt&quot; # 这里将新的内容覆盖到原来with open(mypath,&quot;w&quot;) as x x.write(&quot;This is a boy&quot;) 说明：Jupyter Notebook中以%开头的代码为魔法函数。其中： %run 调用外部python脚本 %load 加载本地文件 路径问题 注意，要是路径上有空格，则加双引号，如下 1234%run &quot;D:/OneDrive_LU/OneDrive - Lund University/ChromeTest.py&quot;#或者也可以这么写path1=&quot;D:/OneDrive_LU/OneDrive - Lund University/ChromeTest.py&quot;%run &quot;$path1&quot; 注意，这里跟Shell文件一个区别，就是shell文件中推荐加&#123;&#125;，但是在python中，加了&#123;&#125;就不能正确读取路劲了。 Permission denied 问题如下代码会出现permission denied的情况 12filename=&#x27;C:/Users/zmjhh/Desktop/HYSPLIT&#x27;urllib.request.urlretrieve(link, filename) 应该确定文件类型，如test.zip等，正确如下 12filename=&#x27;C:/Users/zmjhh/Desktop/HYSPLIT/test.zip&#x27;urllib.request.urlretrieve(link, filename) python 的路径含空格等特殊符号 基本跟shell一致，使用告诉系统’&#39;不是转义字符，’\\‘就起这种作用，现给出一个示例。 并集问题&amp; 和 and 都能表示并集，但是两者又不一样 首先 &amp; 是位运算符，and 是逻辑运算符 首先 &amp; 是位运算符，and 是逻辑运算符 举例1: 设a和b是两个整数，a=1，b=2 a&amp;b 分析：a以二进制表示就是01，b以二进制表示就是10，故&amp;的运算结果就是00，即十进制的0 a and b 分析：1是真，2也是真，故a and b是真 又如：2&amp;3 即10&amp;11，结果就是10 即十进制的2 0 and 2 即0是假，2是真，结果就是假 a,b分别是整数1和2，以二进制表示分别为：01，10。&amp;运算结果的二进制为：00，即十进制的 0（按位逻辑运算）。再如 ：2&amp;3，二进制表示为 10&amp;11，所以结果是 10，即十进制的 2。1 是真，2是真（整数0是否），所以 1 and 2 是真， 0 and 2 是否。 %的格式理解 在看别人代码的时候看到这种用法，学习下 https://blog.csdn.net/weixin_34199405/article/details/93068576 直接看代码理解 1234567#!&#x2F;usr&#x2F;bin&#x2F;python# -*- coding: utf-8 -*-a &#x3D; &quot;wry&quot;b &#x3D; &quot;zjl&quot;c &#x3D; &quot;xxx&quot;print &quot;a&#x3D;%s, b&#x3D;%s, c &#x3D; %s&quot; %(a,b,c) # %s 字符串 (采用str()的显示) 输出 1a&#x3D;wry, b&#x3D;zjl, c &#x3D; xxx 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://jackzheng-lu.github.io/tags/python/"}]},{"title":"python_爬虫批量下载","slug":"pythonLearning/python_爬虫批量下载","date":"2021-03-30T13:07:50.000Z","updated":"2021-04-26T23:17:00.889Z","comments":true,"path":"2021/03/30/pythonLearning/python_爬虫批量下载/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/30/pythonLearning/python_%E7%88%AC%E8%99%AB%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/","excerpt":"","text":"要是遇到更复杂的情况可以先看看以下一些资料 （selenium官网教程，非常有用） https://www.cnblogs.com/luozx207/p/9003214.html 详细：https://www.jb51.net/article/178283.htm 前期准备 包括selenium，urllib和chromedriver。 urllib是Python自带的标准库，无需安装，直接可以用。 selenium包需要安装，直接prompt输入（selenium官网教程，非常有用） 1pip install selenium 同时下载chromedriver，结合自己的chrome的版本，版本序号不一定要一致的，找不到一致的就找相近的，使用mirror的链接下载：http://npm.taobao.org/mirrors/chromedriver 下载完成后，直接解压到anaconda下面的文件夹中 然后在anaconda的prompt窗口输入chromedriver，出现这样子的界面表明安装成功。 基本思路网上找到的自动下载的基本思路 要利用headers拉动请求，模拟成浏览器去访问网站，跳过最简单的反爬虫机制。(我这步跳过) 获取网页内容，保存在一个字符串content中。 构造正则表达式，从content中匹配关键词pattern获取下载链接。需要注意的是，网页中的关键词出现了两遍（如下图），所以我们要利用set()函数清除重复元素。 第三步是遍历set之后的结果，下载链接。 设置time.sleep(t)，无sleep间隔的话，网站认定这种行为是攻击，所以我们隔一段时间下载一个，反反爬虫。 1234#读取网页内容url=driver.current_urlopener = urllib.request.build_opener()content = opener.open(url).read().decode(&#x27;utf8&#x27;) 下拉选项 如果要下拉选择某一个值，使用select功能,示例 1234567from selenium.webdriver.support.ui import Select# 法一：使用xpath进行选择s1=Select(driver.find_element_by_xpath(&#x27;//form[@action=&quot;/ready2-in/extract/extractfile.pl&quot;]/select&#x27;))# 法二：直接使用属性name的值s1=Select(driver.find_element_by_name(&#x27;metdata&#x27;)) s1.select_by_value(&#x27;GDAS1&#x27;) 点的选项 选择不同的标识，其实只要定位到那个表示，然后click()就可以了。 我需要选择time，只能通过value值来确定，可以这么做 12s2=driver.find_element_by_css_selector(&quot;input[value=&#x27;2&#x27;&quot;)s2.click() 填空的选择定位到位置，然后send_keys就可以达到目的。 12driver.find_element_by_name(&quot;latL&quot;).clear()driver.find_element_by_name(&quot;latL&quot;).send_keys(&quot;-90&quot;) 按钮的操作碰到按钮的网页，只要定位到要按的按钮，然后使用click()功能，例如 1s2.click() 超链接下载获取超链接元素后，通过download_link.get_attribute(&#39;href&#39;)来获得其下载元素 扩展功能##下载速度和时间的扩展 我想大概知道一个下载速度和时间，代码参考如下，亲测可用，保存为.py文件，然后调用即可。 https://blog.csdn.net/weixin_30362083/article/details/95301602 等待时间使用的是WebDriverWait 看https://selenium-python-zh.readthedocs.io/en/latest/waits.html得到更多的信息 进阶；https://www.cnblogs.com/fcc-123/p/10942883.html 1234#读取网页内容url=driver.current_urlopener = urllib.request.build_opener()content = opener.open(url).read().decode(&#x27;utf8&#x27;) 自动刷新 https://blog.csdn.net/weixin_43858148/article/details/84727756?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control 1234# 应该确定文件类型，如test.zip等# 如果只给个文件，会出现permission denied的情况urllib.request.urlretrieve(link, path1+ filename+&#x27;.zip&#x27;)print(&#x27;downloading finished for &#x27;+ filename) 调用迅雷下载 调用request下载，速度太慢了，因此修改代码，可以调用迅雷下载。 12345678910from win32com.client import Dispatchthunder = Dispatch(&#x27;ThunderAgent.Agent.1&#x27;)url = &quot;ftp://ygdy8:ygdy8@yg39.dydytt.net:3010&quot; \\ &quot;/阳光电影www.ygdy8.com.追龙番外之十亿探长&quot; \\ &quot;.HD.1080p.国语中字.mkv&quot;filename = &quot;追龙番外之十亿探长.mkv&quot;thunder.AddTask(url, filename, r&quot;C:\\迅雷下载&quot;)thunder.CommitTasks()print(&quot;任务已建立，开始下载：&#123;&#125;....&quot;.format(filename)) 参考链接：https://www.jb51.net/article/178283.htm 补充知识python字符串前缀的知识：1、在字符串前加上r或R表示该字符串是非转义的原始字符串。 这个对路径这种斜杆比较有用 2、在字符串前加上u或U表示该字符串是unicode字符串 如果遇到提取中文的问题，可以加上 encoding=&#39;utf-8&#39;来解决。 补充阅读 基础篇-Python的urllib库 beautiful soup () 官网介绍： Beautiful Soup 是一个可以从 HTML 或 XML 文件中提取数据的 Python 库.它能够通过你喜欢的转换器实现惯用的文档导航,查找,修改文档的方式.Beautiful Soup 会帮你节省数小时甚至数天的工作时间. https://www.jianshu.com/p/2b783f7914c6 获取当前网页的链接 https://www.jb51.net/article/162915.htm 找到填空项，填写 https://my.oschina.net/u/3314358/blog/1834873 下拉项 https://blog.csdn.net/Claire_chen_jia/article/details/106523131 定位的几种方式 https://www.cnblogs.com/minieye/p/5803640.html https://www.jianshu.com/p/81ce4bf0d0c0 https://www.cnblogs.com/c-x-a/p/9195644.html xpath定位（webdriver定位方式是遍历，所以速度没有xpath的快） https://blog.csdn.net/sss650216/article/details/88946305 有用的xpath的例子 https://blog.csdn.net/u014663232/article/details/103462652 python 爬虫的几种方法： https://zhuanlan.zhihu.com/p/47035491 自动下载文件 https://zhuanlan.zhihu.com/p/62876301 https://blog.csdn.net/qq_19408603/article/details/77413914 https://zhuanlan.zhihu.com/p/65474873 参考文献： https://zhuanlan.zhihu.com/p/65474873","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://jackzheng-lu.github.io/tags/python/"}]},{"title":"HySPLIT_教程","slug":"TrajectoryModel/hysplit-教程","date":"2021-03-30T01:20:43.000Z","updated":"2021-04-29T05:30:34.565Z","comments":true,"path":"2021/03/30/TrajectoryModel/hysplit-教程/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/30/TrajectoryModel/hysplit-%E6%95%99%E7%A8%8B/","excerpt":"","text":"我最后是学习hysplit bash的文件。主要是之后方便对大型数据进行操作，也顺便学习了linux的相关操作，学习性价比高。 以下内容对应官网教程的章节 这里只记录重点和要点 Hysplit 前言 可以使用cmd 调用batch文件进行，可以达到类似windows GUI操作的效果。通过batch代码可以实现批量操作的效果。 注意路径问题，我的tutorial安装在D盘，Hysplit是安装在C盘。然后我下载的是19年的tutorial材料（因为20年的下载速度太慢），所以内部的.sh脚本的搜索是Hysplit4，需要修改为对应的Hysplit才能成功运行。 将代码保存下来，先保存到txt文档中，然后改后缀名为.bat文件。 .bat Hysplit trajectory/concentrations 运行实例运行主要包括三个步骤 先在setup run设定运行设置包括（开始时间，开始地点，运移时间，垂直运移方法，气象数据等） 然后点run model运行模型 最后在display里面设置成图。注意Hysplit5增加了python成图的一个选项。 接下来是Hysplit的运行 这里主要是使用官网提供的shell/bash文件，GUI界面的操作仅了解下就好。 前期准备，因为我用的是windows系统（后期会改用linux)，所以我想在windows系统上运行bash文件。我使用Anaconda 在anaconda中执行以下命令即可（要先activation 想用的环境）： 1conda install m2-base 将教程的shell脚本中，画图的部分改为如下，这样可以成功绘制出图片 1234法1：这样可以成功显示图片&gt; gswin64 trajplot.ps 法2： 这样可以保存图片（推荐）&gt; ps2pdf trajplot.ps 4_4_traj_mixd_1.pdf Trajectory 的计算 高度的设置，这样做的目的是为了节省计算时间。如果trajectory超过这一个界限高度会被反弹回来。另一种做法就是设置阈值，只有当达到这一高度的时候才进行计算。 4.2 The default internal scaling height is set to 25 km. This value is used in conjunction with the default model top setting (10 km for most PBL applications) in the CONTROL file which sets the vertical limit of the internal meteorological grid.Trajectories will terminate when they reach this level and mass particles will reflect back into the domain. A secondary use of the model top parameter in the CONTROL file is to set the model’s internal scaling height to a different value but only if the entry exceeds 25 km. 4.3 The PBL height can be estimated assuming that in a standard atmosphere the height changes by about 9 m per hPa. In this case the estimated pressure for HPBL=1222 would be about 852 hPa (988-1222/9). At this point all we need to know is the Height of the Planetary Boundary Layer (HPBL) which is shown to be 1222 meters (AGL). &gt; 可是页面显示PBLH? Both turbulent kinetic energy (TKEN) and the specific humidity (SPHU) drop sharply at the first level above the boundary layer (843 hPa), while the potential temperature (TPOT) starts to increase at that level. &gt;可以通过其他参数也来判断PBL 不同的时间精度（time step）会导致不同的结果。不能过分解释一个trajectory，而是要是结合多个来判断。单一的trajectory也不能反应一些情况的真实情况，如污染物的扩散。 分开运行，一起绘制 4.5 发现测试误差，forward和backward的结果造成的误差大概为水平4km，垂直40m左右。 4.6 从图可以看出气象数据可能是造成的trajectory model 误差的主要来源 5 Trajectory options 5.1 纵向运动 一般气象数据包含了纵向运动的数据（pressure units)，hysplit根据这些数据进行计算。如果气象数据没有这些信息，hysplit会通过一些假设进行计算（近似计算）。 使用的6种vertical运动的方法计算的trajectories，只有data/divg这两种方法结果还比较ok。 data - uses the vertical velocity field in the meteorological data file （推荐） isob - isobaric maintains the trajectory on a constant pressure surface isen - isentropic maintains the trajectory on surfaces of constant potential temperature dens - trajectories stay on constant density surfaces sigma - vertical motion is zero and the trajectory stays on the same internal sigma divg - the vertical motion is computed by vertical integration of the velocity divergence （默认） 注意，默认使用的是divg方法如果气象数据中没有垂直运动的数据。其他的方法只有在特定的时候使用。 每一种方法都有各自的缺点，正常情况下，如果有气象数据，就应该使用。 Each of the computational approaches has its own limitations, isentropic in diabatic conditions (through clouds), isobaric over large terrain variations, and the divergence is sensitive to small differences in velocity gradients. Even the data method can become unreliable when meteorological grid sizes decrease but the data time interval remains unchanged, resulting in under-sampling a field that may change direction multiple times between output intervals。 5.2 还可以通过看气象数据的pressure（一般850mb)来解释结果。 5.3 地形的影响 以下exercise表明（红色和蓝色表明forward 和backward trajectory)，back-trajectory 对地形判断的存在误差，因为无法判断路径何时收到地形的影响。 In this particular case the backward trajectory is not reversible because there is no way for the backward model calculation to know which point along the forward calculation first intersected the terrain. 5.4 初始条件的影响 backforward，初始位置稍微不同，会产生不同的结果。主要是由于backward在一个不稳定的区域，稍微不同一点的位置会有很大差别的结果。forward结果相对一致。 The difference between the forward and backward results show a dramatic difference in the “trajectory dispersion”, the forward trajectory results are quite constrained while the backward pattern is quite disperse. This is consistent with the weather pattern associated with release #2, where the tracer flowed along the northern side of a high pressure system. The backward equivalent starts in a divergent region where small changes in position resulted in very different trajectories. 6 Trajectory statistics6.1 Frequency的计算所谓的百分比，表示的是网格中经过的trajectory的数量除以总的trajecory的数量。default setting是考虑所有高度。但是也有选项能将一些特定高度的trajectories去除。 The trajectory frequency (F) is just the sum of the number of trajectories (T) that passed through each (i,j) grid cell divided by the total number (N) of trajectories analyzed: Fi,j = 100 Σ Ti,j / N 还可以计算residence time weighted frequency，根据trajectory在网格grid中的时间确定。 For instance, counting a trajectory more than once in a grid cell because multiple points along the trajectory may stay within the same grid cell is a residence time weighted frequency. This type of particle trajectory analysis is the basis of the concentration calculation. 6.2 Cluster Analysis（主成分分析法）同一组的轨迹距离最短，不同组的轨迹最长。 Differences between trajectories within a cluster are minimized while differences between clusters are maximized. Computationally, trajectories are combined until the total variance of the individual trajectories about their cluster mean starts to increase. cluster的选取是根据Total Spatial Variance (TSV) ，总空间方差。cluster 5 到cluster 4时TSV出现明显的改变，因此选择cluster 5，否则给TSV设置个阈值，当高于20%或者30%的时候选取。 In this particular case there is a large jump in TSV when going from 5 to 4 clusters, suggesting that perhaps 5 clusters would be an appropriate solution. Another possibility is to use an objective percentage change criterion of either 20% or 30%. 6.4 Source Geolocationhysplit 还提供了一种source geolocation计算，通过计算back trajectorys，然后结合frequency study 来推断污染源的。 7. Air Concentration Calculations （重点）==Cocentrations和trajectory的重要区别，主要是air concentration 还考虑了turbulent influence== The results shown here illustrate the first step in changing the configuration of the test case simulation to match the details of the CAPTEX experiment. In the test calculation, one unit of mass was divided over 2500 pollutant particles released over a one hour duration. The concentration pattern represents the average particle mass in each grid cell divided by the cell volume. For instance, if one particle (mass = 1/2500) were contained in a grid cell of volume 5x5x1 km (2.5E+10 m3), then the air concentration would be about 1E-14 units m-3, a number comparable to the lower end of the range shown in the calculations. concentration的计算跟我们如何设置concentration grid有关，例如，设置grid的高度为影响particle的高度 partcile 的设置，release的particle越多，对模拟的效果越好，但是需要的运行时间也就越多。 particle计算浓度问题： 浓度的计算，需要搞清楚mass和particle的关系，mass跟release的速度有关，而particle则是每个循环释放的粒子 那么浓度表示的就是 1每个grid的particle数量 * 平均每个particle的mass &#x2F; grid的面积 平均每个particle除以总的mass 区域的不同mass的怎么进行计算？？ 8. CAPTEX 释放模拟14. Fire smoke16. 火山爆发模拟输入两个统一纬度的不同的高度，这样表明source的input Open the starting locations menu and note how the two locations are identical in horizontal position (63.63N 19.62W) but with different height. The model interprets this as a vertical line source and will distribute particles uniformly through the layer 100 to 6000 meters AGL. 运行了一个时段（e.g., 12小时之后），继续上一次的运行的结果（作为边界条件），同时对setup/control等文件进行修改都是可能的。 模型结果要跟实测进行对比。因为火山灰可以反射阳光，所以可以利用卫星观测的产品作为观测结果。 15. 放射性衰变模拟背景值的影响。 From the perspective of a nujclear accident, the time of release to the atmosphere may not coincide with the time the fission has stopped (reactor shutdown), or the valid time of the emission inventory. In any event, the longer the half-life or the shorter the duration of the release, the less this becomes a problem 注意deposition layer的单位是/m2，plume的单位是/m3。 15_2 使用不用的气象数据（精度不同），模拟出的结果差异有可能会非常大。 it is clear that the air concentration results are very sensitive to the meteorology and processes that might affect the wet and dry scavenging 额外内容数据 captex2_wrf27uw.bin和captex2_wrf27mc.bin并没有在tutoril的文件中，可以在Tutorial Meteorological Data数据右键复制链接下载。 http://meteothink.org/index.html#author 如何对shell文件进行check 1echo &quot;Enter to continue ...&quot;; read x 1°大约是100km，不过这也要看纬度 MSL和AGL的区别MSL为 Median sea level，高于海平面的高度。比较适用于航天器，飞行高度不随地面高度而变。 AGL (above ground level)，高于地面的高度 使用Hysplit python 插件使用Hysplit python 插件，在C：/hysplit/python文件夹中有详细的介绍文件（如我的情况就是install_win10.txt)，按照上面的步骤安装相关的文件包。 我安装时出现了个错误，进行hysplitplot验证的时候弹出error。还好网上有前人的经验，是文件”pkgs_win10.txt”里面少了个跟pands相关的链接，在该文件中添加链接：https://repo.anaconda.com/pkgs/main/win-64/pandas-1.0.1-py37h47e9c7a_0.conda。重新安装即可。 在hysplitplot/test，运行pytest，成功pass(出现如下界面)， 要使用是，应将库换为hysplit，在prompt中输入： 1conda activate hysplite 捣鼓了半天，感觉没什么用，就是能用python成图罢了，但是我更偏向于拿到数据自己画图。这个最多是能快速check下结果罢了。总结就是鸡肋，食之无味。 参考文献： 无","categories":[{"name":"TrajectoryModel","slug":"TrajectoryModel","permalink":"http://jackzheng-lu.github.io/categories/TrajectoryModel/"}],"tags":[{"name":"Hysplit","slug":"Hysplit","permalink":"http://jackzheng-lu.github.io/tags/Hysplit/"}]},{"title":"HSPLIT_教程","slug":"TrajectoryModel/hysplit-气象数据的转换","date":"2021-03-30T01:20:43.000Z","updated":"2021-04-27T01:28:18.126Z","comments":true,"path":"2021/03/30/TrajectoryModel/hysplit-气象数据的转换/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/30/TrajectoryModel/hysplit-%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/","excerpt":"","text":"没想到这个批量下载的操作捣鼓了半天，这里做个记录 RDA网址气象数据下载wget 批量下载我使用的是wget的windows脚本 wget 是Linux常用的下载工具，可以通过HTTP和FTP协议（两种最广泛的互联网协议）从因特网中检索并获取文件。windows下载见项目主页：Windows binaries of GNU Wget 注意要将wget文件添加到系统环境，之后还要重启cmd。 最后在cmd中运行RDA网址提供的脚本即可，不需要做改动（除了把密码填上去之外） python批量下载关于python的代码下载，需要注意的是RDA网址给的是python2的版本，需要结合python3进行适当调整。 修改后貌似还是不能下载数据，日后有时间再研究，目前发现的问题是抬头需要如下修改: 1234import sysimport osimport urllib.requestimport http.cookiejar 另一个气象数据下载地址Climate Data Store(CDS) 我使用API下载 The Climate Data Store Application Program Interface (CDS API) is a service providing programmatic access to CDS data. 先根据教程安装CDS API (https://cds.climate.copernicus.eu/api-how-to) 每次下载都要同意Terms of Use后才能成功下载。使用anaconda/cmd调用python文件，要先加python PC版本hysplit的GUI里面虽然有显示气象格式转换的选项，但是并不能使用(官网教程也有说明：https://www.bilibili.com/video/BV1ct411J7vE?p=3) Hysplit官方推荐不要自己 hysplit 提供了fortran的脚本进行气象数据的转换。 使用vs code 对Fortran脚本进行调试 如何使用vs code 进行Fortran开发，这里不做赘述，直接贴我参考的链接： https://www.jianshu.com/p/98e16631c852 注意launch.json，tasks.json 是启动调试的关键，调试时是用GDB执行*.exe文件。所以需要先编译，才能调试。 Google发现了一个参考样例（ERA5 reanalysis)，详情见amcz Github 页面。 需要先设定API （见另一博客：NCL_气象数据下载） 先运行example文档，看下是否能用。试着先运行下example_small_area的脚本，下载的数据会小点。（速度比较ok，基本保持在1M/s左右） 注意，.sh后缀是shell的脚本（一般为linux)。windows上cmd是不能运行的，须使用Git进行运行。 并不很好的运行 Originally, other conversion programs, that rely upon the subroutines in thehysplit library, were in the source directory, however these have beenmoved to the legacy subdirectory, including the sample programdat2arl.f. 这里有一个最后的办法下载数据 https://www.ready.noaa.gov/ready2-bin/extract/results.pl?proc=28270 气象数据下载资源 由于网速（？）问题，GUI和bash中的FTP下载都不能成功 必须包含的几个变量 Data may be obtained from any source, however there are certain minimum data requirements to run the model: surface pressure or terrain height, u-v wind components, temperature, and moisture (RELH or SPHU). In addition, precipitation is required for wet removal calculations. Not required, but certainly necessary to improve vertical mixing calculations, would be some measure of low-level stability. This may take the form of a near-surface wind and temperature or the fluxes of heat and momentum. 气象数据的转换需要对下载的气象数据做一个转换。 相当麻烦 Hysplit官网上有个ready网页，可以从那里提取需要的数据。但是需要每次人为的按钮选择。可以写个python的爬虫脚本进行自动下载。 我是通过Python脚本自动下载。网速可能会受限。（国内早上貌似下载速度快） 主要注意的一点是，这里的空间范围是[-180 180]。但是由于NCEP的数据范围是[0 357.5]，实际对应的应该是[-180 177.5]。要注意空间范围的取值，否则最后下载的数据不正确。 可以根据最后的下载页面进行check，提取的面积是否是正确的。 Hysplit气象数据介绍The first digit indicates if it is a surface (or single) level variable (S) or an upper level variable (U). The second digit indicates the order in which that variable appears in the file. NCEP是2.5x2.5的数据， 123456789 Pressure Level Data2.5 degree latitude-longitude global grid144x73 points from 90N-90S, 0E-357.5E 1/1/1948 - present with output every 6 hours Levels (hPa): 1000,925,850,700,600,500,400,300,250,200, 150,100,70,50,30,20,10 Surface or near the surface (.995 sigma level) winds and temperature Sfc Variables: 5 PRSS T02M U10M V10M TPP6Upper Levels: 6 HGTS TEMP UWND VWND WWND RELH 下面是Hysplit GUI check file中显示的1971年1月份的NCEP的数据 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748METEOROLOGICAL DATA LISTING ... Enter meteorological directory ... Enter meteorological file name ... File start time: 71 1 1 0 0 File ending time: 71 1 31 18 0 # 结束时间是18，因为是6小时一个数据 Last record number :11656Record length bytes: 10562Meteo data model : CDC1 Grid size x,y,z : 144 73 18Vertical coordinate: 2First forecast hour: 0Last forecast hour : 0Records per time : 94Minutes between : 360 # 每6个小时 Pole pnt lat/lon : 90.0000 537.5000 Reference lat/lon: 2.5000 2.5000 Grid size (km) : 277.9961 # 平均长度 Orientation : 0.0000 Tang Lat / Cone : 0.0000 Synch pnt x,y : 1.0000 1.0000 Synch pnt lat/lon: -90.0000 180.0000 Global meteorology grid # 第三列表示有几个变量，HGTS， 18 10.0000 4 HGTS 158 TEMP 226 UWND 96 VWND 122 17 20.0000 4 HGTS 76 TEMP 169 UWND 101 VWND 196 16 30.0000 4 HGTS 52 TEMP 98 UWND 92 VWND 47 15 50.0000 4 HGTS 125 TEMP 234 UWND 187 VWND 38 14 70.0000 4 HGTS 187 TEMP 111 UWND 126 VWND 96 13 100.0000 5 HGTS 4 TEMP 159 UWND 166 VWND 23 WWND 109 12 150.0000 5 HGTS 127 TEMP 235 UWND 250 VWND 206 WWND 238 11 200.0000 5 HGTS 139 TEMP 70 UWND 241 VWND 211 WWND 92 10 250.0000 5 HGTS 203 TEMP 38 UWND 186 VWND 52 WWND 195 9 300.0000 6 HGTS 211 TEMP 108 UWND 244 VWND 36 WWND 109 RELH 102 8 400.0000 6 HGTS 111 TEMP 89 UWND 72 VWND 121 WWND 64 RELH 145 7 500.0000 6 HGTS 39 TEMP 58 UWND 105 VWND 163 WWND 210 RELH 71 6 600.0000 6 HGTS 12 TEMP 239 UWND 165 VWND 93 WWND 237 RELH 73 5 700.0000 6 HGTS 246 TEMP 126 UWND 86 VWND 102 WWND 190 RELH 105 4 850.0000 6 HGTS 30 TEMP 206 UWND 201 VWND 2 WWND 25 RELH 152 3 925.0000 6 HGTS 178 TEMP 102 UWND 4 VWND 252 WWND 165 RELH 2 2 1000.0000 6 HGTS 198 TEMP 209 UWND 235 VWND 35 WWND 223 RELH 44 1 0.0000 5 PRSS 229 T02M 88 U10M 113 V10M 58 TPP6 19 GDAS ARCHIVE OVERVIEWGDAS简称是Global Data Assimilation System，是NCEP预报模型的产物，每7天一个数据集，一个月包含5个数据集。注意二月份只有4个数据集，除了闰年的2月份以外。 12345#=1 - days 1-7#=2 - days 8-14#=3 - days 15-21#=4 - days 22-28#=5 - days 29 - rest of the month 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051METEOROLOGICAL DATA LISTING ... Enter meteorological directory ... Enter meteorological file name ... File start time: 7 3 22 0 0 File ending time: 7 3 28 21 0 # 时间结束为21小时，因为是3小时数据 Last record number : 9184Record length bytes: 65210Meteo data model : GDAS Grid size x,y,z : 360 181 24Vertical coordinate: 2First forecast hour: 0Last forecast hour : 3Records per time : 164Minutes between : 180 # 确实是每3小时一个数据 Pole pnt lat/lon : 90.0000 359.0000 Reference lat/lon: 1.0000 1.0000 Grid size (km) : 111.1984 Orientation : 0.0000 Tang Lat / Cone : 0.0000 Synch pnt x,y : 1.0000 1.0000 Synch pnt lat/lon: -90.0000 0.0000 Global meteorology grid 24 20.0000 4 HGTS 72 TEMP 39 UWND 175 VWND 210 23 50.0000 4 HGTS 151 TEMP 245 UWND 13 VWND 112 22 100.0000 6 HGTS 65 TEMP 125 UWND 78 VWND 157 WWND 65 RELH 202 21 150.0000 6 HGTS 119 TEMP 163 UWND 203 VWND 20 WWND 69 RELH 123 20 200.0000 6 HGTS 179 TEMP 106 UWND 80 VWND 191 WWND 48 RELH 79 19 250.0000 6 HGTS 34 TEMP 31 UWND 187 VWND 238 WWND 79 RELH 77 18 300.0000 6 HGTS 15 TEMP 17 UWND 107 VWND 18 WWND 104 RELH 146 17 350.0000 6 HGTS 144 TEMP 130 UWND 76 VWND 221 WWND 125 RELH 216 16 400.0000 6 HGTS 252 TEMP 149 UWND 5 VWND 196 WWND 171 RELH 172 15 450.0000 6 HGTS 122 TEMP 160 UWND 118 VWND 138 WWND 175 RELH 195 14 500.0000 6 HGTS 176 TEMP 195 UWND 24 VWND 89 WWND 195 RELH 129 13 550.0000 6 HGTS 238 TEMP 211 UWND 237 VWND 65 WWND 169 RELH 42 12 600.0000 6 HGTS 135 TEMP 16 UWND 226 VWND 164 WWND 102 RELH 79 11 650.0000 6 HGTS 52 TEMP 179 UWND 182 VWND 36 WWND 51 RELH 116 10 700.0000 6 HGTS 8 TEMP 119 UWND 157 VWND 215 WWND 17 RELH 216 9 750.0000 6 HGTS 52 TEMP 112 UWND 125 VWND 89 WWND 22 RELH 174 8 800.0000 6 HGTS 12 TEMP 59 UWND 17 VWND 238 WWND 244 RELH 86 7 850.0000 6 HGTS 26 TEMP 47 UWND 41 VWND 129 WWND 251 RELH 134 6 900.0000 6 HGTS 27 TEMP 193 UWND 111 VWND 142 WWND 17 RELH 131 5 925.0000 6 HGTS 56 TEMP 86 UWND 147 VWND 201 WWND 169 RELH 148 4 950.0000 6 HGTS 66 TEMP 253 UWND 100 VWND 188 WWND 45 RELH 180 3 975.0000 6 HGTS 108 TEMP 253 UWND 245 VWND 189 WWND 43 RELH 146 2 1000.0000 6 HGTS 120 TEMP 160 UWND 202 VWND 153 WWND 217 RELH 164 1 0.0000 29 PRSS 113 MSLP 83 TPP6 0 UMOF 0 VMOF 0 SHTF 0 参考文献： 无","categories":[{"name":"TrajectoryModel","slug":"TrajectoryModel","permalink":"http://jackzheng-lu.github.io/categories/TrajectoryModel/"}],"tags":[{"name":"HSPLIT","slug":"HSPLIT","permalink":"http://jackzheng-lu.github.io/tags/HSPLIT/"}]},{"title":"matlab_读取不同的文件","slug":"编程语言学习/matlab-读取不同的文件","date":"2021-03-29T02:04:15.000Z","updated":"2021-04-14T00:27:47.994Z","comments":true,"path":"2021/03/29/编程语言学习/matlab-读取不同的文件/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E8%AF%BB%E5%8F%96%E4%B8%8D%E5%90%8C%E7%9A%84%E6%96%87%E4%BB%B6/","excerpt":"","text":"https://blog.csdn.net/qq_42272539/article/details/93714169?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-7.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-7.control Matlab文件夹、文件、读取操作（汇总）https://www.jianshu.com/p/a56de74054e2 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[]},{"title":"气旋及反气旋","slug":"气象学基础/气象学基础","date":"2021-03-27T01:27:52.000Z","updated":"2021-03-27T01:55:26.548Z","comments":true,"path":"2021/03/27/气象学基础/气象学基础/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/27/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/","excerpt":"","text":"q气旋反气旋 气旋统一 在近地面，反气旋在北半球作顺时针旋转（clockwise)，在南半球做逆时针旋转(anti-clockwise)。 反气旋对应的是高压（空气下降），无云少降水（下沉气流不容易形成水汽）；气旋对应的是低压（空气上升），多云多降水（上升气流，遇冷形成雨滴） 年代际变化(decadal variations)，指的是十年以上的尺度。年际变化 (inter-annual variations)，准两年振荡（2-3年周期）、5-8年周期都是很常用的。提问者熟悉的那个ENSO就是2-8年的年际变化。年内变化 （seasonal variations)，如干湿季、四季都属于这个范畴。更低的还有季节内变化，月变化，准两周，等等等等，天气预报常用的尺度。 参考文献： 无","categories":[{"name":"气象学基础","slug":"气象学基础","permalink":"http://jackzheng-lu.github.io/categories/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/"}],"tags":[]},{"title":"个人研究介绍","slug":"个人研究介绍","date":"2021-03-25T13:41:30.000Z","updated":"2021-04-08T04:53:10.703Z","comments":true,"path":"2021/03/25/个人研究介绍/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/25/%E4%B8%AA%E4%BA%BA%E7%A0%94%E7%A9%B6%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"参考文献： 无","categories":[],"tags":[]},{"title":"Matlab_微分方程","slug":"编程语言学习/matlab-微分方程求解","date":"2021-03-25T07:52:05.000Z","updated":"2021-04-14T00:27:47.544Z","comments":true,"path":"2021/03/25/编程语言学习/matlab-微分方程求解/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3/","excerpt":"","text":"Matlab 中计算的函数 l 一般使用ode45来求解 结合我的项目，是带有时变参数的公式，即 ​ 求解微分方程 包括解析解和数值解 ##微分方程的数值解 需要设定初值条件和边界值 微分方程的解析解使用dsolve函数，例如 123syms F(t) S % 确定变量eqn=diff(F,t)==S-F/4; % 微分方程dsolve(eqn) % 解析解 实例分析： 这里以Be7论文中的Box-model进行实例分析 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"},{"name":"微分方程","slug":"微分方程","permalink":"http://jackzheng-lu.github.io/tags/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/"}]},{"title":"第四纪环境重构_笔记_第一章","slug":"文献阅读笔记/第四纪环境重构_笔记_第一章","date":"2021-03-23T12:56:50.000Z","updated":"2021-03-26T00:39:26.804Z","comments":true,"path":"2021/03/23/文献阅读笔记/第四纪环境重构_笔记_第一章/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0_%E7%AC%AC%E4%B8%80%E7%AB%A0/","excerpt":"","text":"每天花费1小时，快速的将《第四纪环境重构》这本书再过一遍。 阅读至43页 正常来讲，MIS单数是间冰期，偶数是冰期；但是也有例外，比如说MIS3，并不被认为是间冰期 参考文献： https://c14.arch.ox.ac.uk/dating.html","categories":[{"name":"文献阅读笔记","slug":"文献阅读笔记","permalink":"http://jackzheng-lu.github.io/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"第四纪环境","slug":"第四纪环境","permalink":"http://jackzheng-lu.github.io/tags/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83/"},{"name":"书籍笔记","slug":"书籍笔记","permalink":"http://jackzheng-lu.github.io/tags/%E4%B9%A6%E7%B1%8D%E7%AC%94%E8%AE%B0/"}]},{"title":"第四纪环境重构_笔记第五章_定年方法","slug":"文献阅读笔记/第四纪环境重构_笔记第五章_定年方法","date":"2021-03-23T12:56:50.000Z","updated":"2021-03-26T00:38:44.812Z","comments":true,"path":"2021/03/23/文献阅读笔记/第四纪环境重构_笔记第五章_定年方法/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/23/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83%E9%87%8D%E6%9E%84_%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0_%E5%AE%9A%E5%B9%B4%E6%96%B9%E6%B3%95/","excerpt":"","text":"总结： C14 定年的软件（softwar): https://c14.arch.ox.ac.uk/oxcal.html C14的步骤 显示利用半衰期计算C14的年龄 由于C14年份和实际年份具有差异性，因此需要根据calibrated curve进行校对 将同一地区不同时间段的C14数据进行整合（利用波动匹配wiggle match或者Bayesian-based statistical method) wiggle-match/Bayesian mehtod （待补充学习） 下图整理了所有的第四纪定年方法 正确度（accurate）和精确度（precise）的区别 半衰期和衰变常数的关系 C14 定年C14定年原理生物死去之后，稳定碳（C12）和放射性碳（C14)会成比例递减，递减规律符合放射性衰变定律： Once an organism dies the carbon is no longer replaced. Because the radiocarbon is radioactive, it will slowly decay away. Obviously there will usually be a loss of stable carbon too but the proportion of radiocarbon to stable carbon will reduce according to the exponential decay law: R = A exp(-T/8033) where R is 14C/12C ratio in the sample, A is the original 14C/12C ratio of the living organism and T is the amount of time that has passed since the death of the organism. 1/8033是衰减常数（ln(2)/半衰期）By measuring the ratio, R, in a sample we can then calculate the age of the sample: T = -8033 ln(R/A) 定年的不确定性 半衰期问题 大气C14浓度的变化（IntCal curve) 污染问题：采样地点周边的污染，预处理有可能引入污染 因为14C的半衰期（一个样本的一半衰变的时间周期）大约是5730年，所以这种方法可以可靠地测量的最古老的样本大约是五万年左右，不过特殊的制备方法有时可以准确分析更古老的样本。 半衰期问题刚开始C14的半衰期为5568年左右，后面研究发现C14的半衰期应为5730年左右。 但是由于之前已经有大量发表数据使用就的半衰期（5568年）进行计算，因此为了保持一致，现在根据C14计算年份还是使用5568年，BP还是表示before1950 AD。 注意，C14年龄并不是监测得出的，而是通过衰变定律计算得到的。根据衰变曲线，C14浓度中相同的标准差有可能变为不同的年龄误差（如下图）。 C14年龄的校对（IntCal calibration curve)大气中C14浓度的变化，导致计算得出的C14年份跟实际年份有偏差，见图5.8。 因此需要根据calibration曲线进行校对。根据calibration curve, 曲线越陡，calibrated得到年份误差越小，反之越大（见图5.10） 两个online program可以用来计算 (IntCal: http://calib.qub.ac.uk/calib/; Stuiver et al., 2013) and OxCal (Oxford Radiocarbon Accelerator Unit:http://c14.arch.ox.ac.uk/) Wiggle match 及Bayesian-based statistical method如果多个样本的时间间隔如果已知，人们会用这些时间间隔和校准曲线互相比较，以此精准匹配样本的诞生年代。这一过程也被称作“波动匹配”（wiggle-matching），其准确度比对样本单独测算的准确度要高。 为啥C14定年可以追溯到6-7万年以前 即使是最老的树也只有几千年 (such as the Bristlecone Pines in the western U.S.A.)。可是发表的C14数据可以追述到几万年？理论上根据C14的半衰期5730年左右，可以定年尺度为半衰期的10倍，即5-6万年左右。 树轮的宽度每年都是不一样的，根据树轮的宽度信息，可以见一个地区死去的树木和或者的数目进行对比，从而拼凑出更长的C14数据。Intcal 曲线的前1.4万年左右是依据这种方法得到的 To extend this method further we must use the fact that tree ring widths vary from year to year with changing weather patterns. By using these widths, it is possible to compare the tree rings in a dead tree to those in a tree that is still growing in the same region. By using dead trees of different but overlapping ages, you can build up a library of tree rings of different calendar ages. This has now been done for Bristlecone Pines in the U.S.A and waterlogged Oaks in Ireland and Germany, and Kauri in New Zealand to provide records extending back over the last 14,000 years. 此后的时间，不一定是根据树轮，而是各种各种沉积物中的C14含量进行，然后根据不同C14和独立的定年样品对比，从而沿伸到过去5-6万年之后。 Beyond the limit of continuous dendrochronological series, calibrations have been based on matcheduranium-series (U-series: section 5.3.4) and radiocarbon dates on fossil corals (Fairbanks et al., 2005), radiocarbondated organic material from laminated (i.e. annually accum ulating) marine sediments, and synchronized palaeo - climatic signatures in ice cores and U-series dated cave speleothems (Hughen et al., 2006; Weninger &amp; Jöris, 2008). 参考文献： https://c14.arch.ox.ac.uk/dating.html Book: Reconstructing Quaternary Environments 5.2-5.3章节","categories":[{"name":"文献阅读笔记","slug":"文献阅读笔记","permalink":"http://jackzheng-lu.github.io/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"第四纪环境","slug":"第四纪环境","permalink":"http://jackzheng-lu.github.io/tags/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83/"},{"name":"书籍笔记","slug":"书籍笔记","permalink":"http://jackzheng-lu.github.io/tags/%E4%B9%A6%E7%B1%8D%E7%AC%94%E8%AE%B0/"}]},{"title":"Matlab_个人经验","slug":"编程语言学习/matlab-个人经验1","date":"2021-03-23T01:18:05.000Z","updated":"2021-04-14T00:27:47.315Z","comments":true,"path":"2021/03/23/编程语言学习/matlab-个人经验1/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/23/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E4%B8%AA%E4%BA%BA%E7%BB%8F%E9%AA%8C1/","excerpt":"","text":"图片绘制 上方留一定空间，保存出图的位置和 paper中的一些数字，可单独弄个Matlab脚本来进行整合，这样子之后校验的时候比较方便 用%02d，打印时显示至少两位，前面补零 时间设定 https://blog.csdn.net/zzx2016zzx/article/details/99710644 参考文献： 无","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"},{"name":"经验","slug":"经验","permalink":"http://jackzheng-lu.github.io/tags/%E7%BB%8F%E9%AA%8C/"}]},{"title":"PDF表格读取问题","slug":"生活记录/PDF表格读取问题","date":"2021-03-22T07:21:05.000Z","updated":"2021-03-22T07:26:17.500Z","comments":true,"path":"2021/03/22/生活记录/PDF表格读取问题/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/22/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A1%A8%E6%A0%BC%E8%AF%BB%E5%8F%96%E9%97%AE%E9%A2%98/","excerpt":"","text":"经常会出现要使用到PDF文件中的表格数据的问题，每次都是复制数据然后各种调格式。 goolge之后发现，可以直接将PDF文件保存为excel文件。如果PDF表格本身是文字形式的话，最后excel中的效果很好。 事实证明，多花点钱买个正版Adobe可以省去一些自己折腾的时间。 参考文献： 无","categories":[{"name":"生活记录","slug":"生活记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"PDF","slug":"PDF","permalink":"http://jackzheng-lu.github.io/tags/PDF/"}]},{"title":"HTML教程","slug":"编程语言学习/HTML教程","date":"2021-03-22T02:13:33.000Z","updated":"2021-04-29T00:55:43.825Z","comments":true,"path":"2021/03/22/编程语言学习/HTML教程/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/HTML%E6%95%99%E7%A8%8B/","excerpt":"","text":"起因是想构建博客主页（Hexo），并做一些简单的脚本修改。 了解下HTML语言，达到能看相关的代码，以及做一些简单的修改。 更为详细的教程：http://c.biancheng.net/view/7529.html HTML的语法对md类文件也有效 什么是HTML 以及为什么学习它超文本标记语言（英语：HyperText Markup Language，简称：HTML）是一种用于创建网页的标准标记语言。 您可以使用 HTML 来建立自己的 WEB 站点，HTML 运行在浏览器上，由浏览器来解析。 HTML文档的后缀名包括：.html 和 .htm，以上两种后缀名没有区别，都可以使用。 HTML 编辑器推荐可以使用专业的 HTML 编辑器来编辑 HTML，菜鸟教程推荐几款常用的编辑器： VS Code：https://code.visualstudio.com/ Sublime Text：http://www.sublimetext.com/ 我是用的是VS code工具 HTML 基础HTML 标题（Heading）是通过&lt;h1&gt; - &lt;h6&gt; 标签来定义的。 HTML 段落是通过标签 &lt;p&gt; 来定义的。 HTML 链接是通过标签 &lt;a&gt; 来定义的。 HTML 图像是通过标签 &lt;img&gt; 来定义的。 HTML 元素（标签）HTML 文档由 HTML 元素定义。 开始标签 * 元素内容 结束标签 * &lt;p&gt; 这是一个段落 &lt;/p&gt; &lt;a href=&quot;default.htm&quot;&gt; 这是一个链接 &lt;/a&gt; &lt;br&gt; 换行 ***开始标签常被称为起始标签（opening tag），结束标签常称为闭合标签（closing tag）**。 HTML 元素语法 HTML 元素以开始标签起始， HTML 元素以结束标签终止 元素的内容是开始标签与结束标签之间的内容 某些 HTML 元素具有空内容（empty content），空元素在开始标签中进行关闭（以开始标签的结束而结束） 大多数 HTML 元素可拥有属性 不要忘记结束标签！即使忘记使用结束标签，大多数浏览器也会正确地显示 。但不要依赖这种做法。忘记使用结束标签会产生不可预料的结果或错误！ HTML 标签对大小写不敏感：&lt;P&gt; 等同于 &lt;p&gt;。许多网站都使用大写的 HTML 标签。但是未来趋势是使用小写！！ HTML 属性 HTML 元素可以设置属性 属性可以在元素中添加附加信息 属性一般描述于开始标签 属性总是以名称/值对的形式出现，**比如：name=”value”**。 一般使用双引号，单引号也可以用。但是如果属性值本身带双引号时，只能使用单引号，例如：name=’John “ShotGun” Nelson’。 下面列出了适用于大多数 HTML 元素的属性：查看完整的HTML属性列表: HTML 标签参考手册。 属性 描述 class 为html元素定义一个或多个类名（classname）(类名从样式文件引入) id 定义元素的唯一id style 规定元素的行内样式（inline style） title 描述了元素的额外信息 (作为工具条使用) HTML 标题标题（Heading）是通过 &lt;h1&gt; - &lt;h6&gt; 标签进行定义的。 &lt;h1&gt; 定义最大的标题。 &lt;h6&gt; 定义最小的标题。 标题很重要！请确保将 HTML 标题 标签只用于标题。不要仅仅是为了生成粗体或大号的文本而使用标题。搜索引擎使用标题为您的网页的结构和内容编制索引。因为用户可以通过标题来快速浏览您的网页。 &lt;hr&gt; 标签在 HTML 页面中创建水平线。 HTML 注释可以将注释插入 HTML 代码中，这样可以提高其可读性，使代码更易被人理解。浏览器会忽略注释，也不会显示它们。 注释写法如下: 1&lt;!-- 这是一个注释 --&gt; HTML 段落段落是通过 &lt;p&gt; 标签定义的。 不要忘记结束标签。忘记使用会产生意想不到的效果。 HTML 换行如果您希望在不产生一个新段落的情况下进行换行（新行），请使用 &lt;br&gt;标签： 1&lt;p&gt;这个&lt;br&gt;段落&lt;br&gt;演示了分行的效果&lt;/p&gt; 效果图： 当显示页面时，浏览器会移除源代码中多余的空格和空行。所有连续的空格或空行都会被算作一个空格。需要注意的是，HTML 代码中的所有连续的空行（换行）也被显示为一个空格。 段落的行数依赖于浏览器窗口的大小的。 HTML 元素 元素包含了所有的头部标签元素。在 元素中你可以插入脚本（scripts）, 样式文件（CSS），及各种meta信息。 可以添加在头部区域的元素标签为: 标签 描述 &lt;head&gt; 定义了文档的信息 &lt;title&gt; 定义了文档的标题 &lt;base&gt; 定义了页面链接标签的默认链接地址 &lt;link&gt; 定义了一个文档和外部资源之间的关系 &lt;meta&gt; 定义了HTML文档中的元数据 &lt;script&gt; 定义了客户端的脚本文件 &lt;stytle&gt; 定义了HTML文档的样式文件 URL 编码（百分比编码）URL 编码将字符转换为可通过因特网传输的格式。 URL 只能使用 ASCII 字符集 通过因特网进行发送。 由于 URL 通常包含 ASCII 集之外的字符，因此必须将 URL 转换为有效的 ASCII 格式。 URL 编码使用后跟十六进制数字的 “%” 替代不安全的 ASCII 字符。 URL 不能包含空格。URL 编码通常使用加号（+）或 %20 替代空格。 参考文献： https://www.runoob.com/html/html-tutorial.html（主要来源）","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"HTML","slug":"HTML","permalink":"http://jackzheng-lu.github.io/tags/HTML/"}]},{"title":"JavaScript教程","slug":"编程语言学习/JavaScript教程","date":"2021-03-22T02:13:33.000Z","updated":"2021-04-28T09:02:20.375Z","comments":true,"path":"2021/03/22/编程语言学习/JavaScript教程/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/22/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/JavaScript%E6%95%99%E7%A8%8B/","excerpt":"","text":"起因是想将Hexo的搜索插件的搜索功能从“或”的搜索功能变为“并”的搜索功能。 了解下Javascript语言，达到能看相关的代码，以及做一些简单的修改。 https://blog.csdn.net/yunmengying/article/details/105755050 什么是JavaScrit 以及为什么学习它JavaScript 是 Web 的编程语言。所有现代的 HTML 页面都使用 JavaScript。 JavaScript 是 web 开发人员必须学习的 3 门语言中的一门： HTML 定义了网页的内容 CSS 描述了网页的布局 JavaScript 网页的行为 JavaScript 用法HTML 中的脚本必须位于 与 标签之间。 脚本可被放置在 HTML 页面的 &lt;body&gt; 和 &lt;head&gt; 部分中。 12345678&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt; . &lt;script&gt; document.write(&quot;&lt;h1&gt;这是一个标题&lt;/h1&gt;&quot;); document.write(&quot;&lt;p&gt;这是一个段落&lt;/p&gt;&quot;); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; JavaScript 变量变量可以使用短名称（比如 x 和 y），也可以使用描述性更好的名称（比如 age, sum, totalvolume）。 变量必须以字母开头 变量也能以 $ 和 _ 符号开头（不过我们不推荐这么做） 变量名称对大小写敏感（y 和 Y 是不同的变量） 我们使用 var 关键词来声明变量： 1var carname; 变量声明之后，该变量是空的（它没有值）。 如需向变量赋值，请使用等号： 1carname=&quot;Volvo&quot;; 不过，您也可以在声明变量时对其赋值： 1var carname=&quot;Volvo&quot;; 如果重新声明 JavaScript 变量，该变量的值不会丢失： JavaScript 对象真实生活中的对象、属性和方法在真实生活中，汽车是一个对象。 汽车有诸如车重和颜色等属性，也有诸如启动和停止的方法： let 和contest通过 var 关键词声明的变量没有块作用域。在块 {} 内声明的变量可以从块之外进行访问。使用 var 关键字重新声明变量会带来问题。在块中重新声明变量也将重新声明块外的变量。 可以使用 let 关键词声明拥有块作用域的变量。在块 {} 内声明的变量无法从块外访问： 123456789101112var x = 10; // 此处 x 为 10&#123; var x = 6; // 此处 x 为 6&#125;// 此处 x 为 6// 使用let没有这种问题var x = 10; // 此处 x 为 10&#123; let x = 6; // 此处 x 为 6&#125;// 此处 x 为 10 通过 const 定义的变量与 let 变量类似，但不能重新赋值： 123const PI = 3.141592653589793;PI = 3.14; // 会出错PI = PI + 10; // 也会出错 有点像python中的tuple 赋值运算符 运算符 例子 等同于 += x += y x = x + y -= x -= y x = x - y *= x *= y x = x * y /= x /= y x = x / y %= x %= y x = x % y &lt;&lt;= x &lt;&lt;= y x = x &lt;&lt; y &gt;&gt;= x &gt;&gt;= y x = x &gt;&gt; y &gt;&gt;&gt;= x &gt;&gt;&gt;= y x = x &gt;&gt;&gt; y &amp;= x &amp;= y x = x &amp; y ^= x ^= y x = x ^ y |= x |= y x = x | y **= x **= y x = x ** y 循环和if语句在 JavaScript 中，我们可使用如下条件语句： 使用 if 来规定要执行的代码块，如果指定条件为 true 使用 else 来规定要执行的代码块，如果相同的条件为 false 使用 else if 来规定要测试的新条件，如果第一个条件为 false 使用 switch 来规定多个被执行的备选代码块 1234567if (time &lt; 10) &#123; greeting = &quot;Good morning&quot;; &#125; else if (time &lt; 18) &#123; greeting = &quot;Good day&quot;; &#125; else &#123; greeting = &quot;Good evening&quot;; &#125; JavaScript函数JavaScript 函数是通过 function 关键词定义的。 您可以使用函数声明或函数表达式。 1234567//几种javaScript的格式function myFunction(a, b) &#123; return a * b;&#125;var x = function (a, b) &#123;return a * b&#125;; 箭头函数允许使用简短的语法来编写函数表达式。您不需要 function 关键字、return 关键字和花括号。 1234// 使用 const 比使用 var 更安全，因为函数表达式始终是常量值。// 如果函数是单个语句，则只能省略 return 关键字和大括号。因此，保留它们可能是一个好习惯：const x = (x, y) =&gt; &#123; return x * y &#125;; JavaScript forEach() 方法forEach() 方法用于调用数组的每个元素，并将元素传递给回调函数。 注意: forEach() 对于空数组是不会执行回调函数的。 this 是什么？JavaScript this 关键词指的是它所属的对象。 它拥有不同的值，具体取决于它的使用位置： 在方法中，this 指的是所有者对象。 单独的情况下，this 指的是全局对象。 在函数中，this 指的是全局对象。 在函数中，严格模式下，this 是 undefined。 在事件中，this 指的是接收事件的元素。 像 call() 和 apply() 这样的方法可以将 this 引用到任何对象。 声明严格模式通过在脚本或函数的开头添加 “use strict”; 来声明严格模式。 在脚本开头进行声明，拥有全局作用域（脚本中的所有代码均以严格模式来执行）： 12&quot;use strict&quot;;x &#x3D; 3.14; &#x2F;&#x2F; 这会引发错误，因为 x 尚未声明 注释JS里面注释使用// 参考文献： https://www.runoob.com/js/js-tutorial.html （主要来源） https://www.w3school.com.cn/js/js_objects.asp","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://jackzheng-lu.github.io/tags/JavaScript/"}]},{"title":"博客添加字数统计和阅读时间","slug":"博客学习/博客添加字数统计和阅读时间","date":"2021-03-20T13:42:42.000Z","updated":"2021-04-14T00:14:36.881Z","comments":true,"path":"2021/03/20/博客学习/博客添加字数统计和阅读时间/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4/","excerpt":"","text":"字数统计功能 google了一下，大部分的技术贴都是过时的，使用hexo-wordcount, 然后next v6.3 用的插件是hexo-symbols-count-time，所以按老板方法设置是完全没有用的 应该参考官网的更新介绍: https://github.com/theme-next/hexo-symbols-count-time 或者这个博主大神的帖子：https://co5.me/2018/180613-wordcount.html#comments （以下内容基于该帖子） 然后安装新插件， npm i hexo-symbols-count-time --save (i 就是 install 的简写) 然后有两个地方需要修改：一个是你 hexo 文件夹下的配置文件_config.yml，另一个是你主题文件夹里的同名文件。首先是你 hexo 文件夹下的配置文件，拉到最后添加如下代码： 12345symbols_count_time: symbols: true time: true total_symbols: true total_time: true 然后是主题文件夹里的配置文件，NexT 主题其实已经自带了相关代码，搜索wordcount或者插件名可以看到如下代码： 12345678# Post wordcount display settings# Dependencies: https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-symbols-count-timesymbols_count_time: separated_meta: true # 是否另起一行（true的话不和发表时间等同一行） item_text_post: true # 首页文章统计数量前是否显示文字描述（本文字数、阅读时长） item_text_total: false # 页面底部统计数量前是否显示文字描述（站点总字数、站点阅读时长） awl: 4 wpm: 275 其中awl（Average Word Length）的数值是设定多少字符统计为一个字（word），中文博客需要设置为 2。 wpm（Words Per Minute）是你的阅读速度，多少字（word）统计为阅读时长一分钟。以下是官方文档里的一些阅读速度参考数据： 慢速：200 中速：275（默认） 快速：350 然后注意_config.yml文件里的更改一般是不能直接作用在本地浏览里的，请先 ctrl+C 终止预览，再hexo clean→hexo s --debug重新开一遍，不出意外你的文章标题底下就会有和本站一样的字数统计了，末尾的版权信息里也会出现全站字数统计。 这点很重要，hexo clean 主要是在重新配置根目录_config.yml文件时使用 如何将显示文字改为中文； 网络搜寻的技术贴貌似都没提到这个问题，貌似都显示中文（即最终结果），而刚开始我的博客里面，显示的是英文，非常奇怪。 这里需要找到相关文件，对相关属性进行修改，经过Google，找到 \\themes\\next\\layout\\_macro 目录下的post.swig文件，找到以下相关内容。 将symbols_count_time.count改为本文字数，同理也是将symbols_count_time.time改为阅读时间 注意，有可能不一定对应，按照symbols_count来定位位置 参考文献： https://co5.me/","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"博客","slug":"博客","permalink":"http://jackzheng-lu.github.io/tags/%E5%8D%9A%E5%AE%A2/"}]},{"title":"优秀的博客主页学习","slug":"博客学习/优秀的博客主页学习","date":"2021-03-20T13:35:52.000Z","updated":"2021-04-14T01:40:09.129Z","comments":true,"path":"2021/03/20/博客学习/优秀的博客主页学习/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E4%BC%98%E7%A7%80%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"在构建自己的个人主页时候，也发现许多宝藏主页，这里稍微做个总结记录，也学习学习别人的经验 优秀的博客主页 https://co5.me/ https://www.cnblogs.com/shwee/p/11421156.html （非常详细的博客建站介绍，非常有条理，逻辑和结构非常值得学习） http://masikkk.com/article/about/ 将博客作为个人笔记进行更新（我也是这么做的） https://my.oschina.net/u/4335275/blog/4413854 参考文献： 无","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[]},{"title":"you-get下载","slug":"生活记录/you-get下载","date":"2021-03-20T07:39:46.000Z","updated":"2021-03-22T07:26:36.584Z","comments":true,"path":"2021/03/20/生活记录/you-get下载/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/20/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/you-get%E4%B8%8B%E8%BD%BD/","excerpt":"","text":"之前在国外的时候想要批量下载YouTube的内容，因此了解到了you-get这个下载插件； 貌似还有个youtube-get这个插件，比you-get更适合批量下载YouTube视频 直接在github上就可以安装，有多种选项。我是用的Anaconda3的powershell prompt 进行安装，注意这里执行的指令是 1pip install you-get 结果也能成功安装。之后就是使用简单的指令进行下载 1you-get -i &#39;videoLink&#39; 注意不一定要双引号 更为具体的操作见： https://github.com/soimort/you-get","categories":[{"name":"生活记录","slug":"生活记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"you-get","slug":"you-get","permalink":"http://jackzheng-lu.github.io/tags/you-get/"}]},{"title":"博客美化_待办","slug":"博客学习/博客美化-待办","date":"2021-03-20T00:52:46.000Z","updated":"2021-04-02T07:12:40.786Z","comments":true,"path":"2021/03/20/博客学习/博客美化-待办/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/20/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E5%BE%85%E5%8A%9E/","excerpt":"","text":"https://blog.csdn.net/senupp/article/details/103986447 如何在Hexo的博文中引用自己的文章https://www.mls-tech.info/hexo/hexo-use-internal-link/ 一些待办的事项： 博客的头像 博客的主页介绍（个人的一个主页？）","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"博客","slug":"博客","permalink":"http://jackzheng-lu.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"待办","slug":"待办","permalink":"http://jackzheng-lu.github.io/tags/%E5%BE%85%E5%8A%9E/"}]},{"title":"matlab_常用函数_绘图1","slug":"编程语言学习/matlab_常用函数-绘图1","date":"2021-03-19T10:20:33.000Z","updated":"2021-04-14T00:27:48.570Z","comments":true,"path":"2021/03/19/编程语言学习/matlab_常用函数-绘图1/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-%E7%BB%98%E5%9B%BE1/","excerpt":"","text":"d 最方便的是方法3，默认figure大小为屏幕大小，然后写代码时直接保存 全屏+保存 set(gcf,’outerposition’,get(0,’ScreenSize’)); text(-0.1,1.05,[‘script: ‘,pwd,’&#39;,mfilename],’Units’,’normalized’,’Interpreter’,’none’) print(gcf,’-djpeg’,’-r150’,’-opengl’,[‘Fig_’,savename,’.jpg’]); 第二种方式，全屏保存 % scrsz = get(0,’ScreenSize’); % set(gcf,’Position’,scrsz); % % print(gcf,’-r300’,’-dpng’,’GRIPNEEM’); 方法3： 设置图片的 保存出图 (注意这种情况下，输出的仍为栅格，不是适量） print(gcf,’-djpeg’,’-r150’,’-opengl’,[‘Fig_’,savename,’.jpg’]); 如果是横向的，事先设定为横向 orient(gcf,’landscape’) 如果想要矢量保存图片 方法1： saveas (gcf,’Fig4’,’pdf’)， 适合小图 方法2： 适合小图和大图 set(gcf,’outerposition’,get(0,’ScreenSize’),’Units’,’Inches’) pos = get(gcf,’Position’); set(gcf,’PaperPositionMode’,’Auto’,’PaperUnits’,’Inches’,’PaperSize’,[pos(3), pos(4)]) print(gcf,savename,’-dpdf’,’-r0’) 一些常用的属性值，https://zhuanlan.zhihu.com/p/348822567 1234567891011121314151617181920212223242526272829% 定义线型、标记符号、线宽和颜色set(Line1, &#x27;LineStyle&#x27;, &#x27;--&#x27;,&#x27;Marker&#x27;, &#x27;d&#x27;,&#x27;LineWidth&#x27;, 1, &#x27;Color&#x27;, C1)set(Line2, &#x27;LineStyle&#x27;, &#x27;--&#x27;,&#x27;Marker&#x27;, &#x27;o&#x27;,&#x27;LineWidth&#x27;, 1, &#x27;Color&#x27;, C2)set(Line3, &#x27;LineStyle&#x27;, &#x27;--&#x27;,&#x27;Marker&#x27;, &#x27;^&#x27;,&#x27;LineWidth&#x27;, 1, &#x27;Color&#x27;, C3)set(Line4, &#x27;LineStyle&#x27;, &#x27;--&#x27;,&#x27;Marker&#x27;, &#x27;v&#x27;,&#x27;LineWidth&#x27;, 1, &#x27;Color&#x27;, C4)set(Line5, &#x27;LineStyle&#x27;, &#x27;--&#x27;,&#x27;Marker&#x27;, &#x27;d&#x27;,&#x27;LineWidth&#x27;, 1, &#x27;Color&#x27;, C5)% 坐标区调整set(gca, &#x27;Box&#x27;, &#x27;off&#x27;, ... % 边框 &#x27;XGrid&#x27;, &#x27;off&#x27;, &#x27;YGrid&#x27;, &#x27;on&#x27;, ... % 网格 &#x27;TickDir&#x27;, &#x27;out&#x27;, &#x27;TickLength&#x27;, [.01 .01], ... % 刻度 &#x27;XMinorTick&#x27;, &#x27;off&#x27;, &#x27;YMinorTick&#x27;, &#x27;off&#x27;, ... % 小刻度 &#x27;XColor&#x27;, [.1 .1 .1], &#x27;YColor&#x27;, [.1 .1 .1],... % 坐标轴颜色 &#x27;XTick&#x27;, 0:0.1:1.2, &#x27;YTick&#x27;, 0:0.05:0.5,... % 刻度位置、间隔 &#x27;Xlim&#x27; ,[0 1.1],&#x27;Ylim&#x27; ,[0.1 0.35], ... % 坐标轴范围 &#x27;Xticklabel&#x27;,&#123;[0:0.1:1.2]&#125;,... % X坐标轴刻度标签 &#x27;Yticklabel&#x27;,&#123;[0:0.05:0.5]&#125;) % Y坐标轴刻度标签% X、Y轴标签及LegendhXLabel = xlabel(&#x27;Point spacing (m)&#x27;);hYLabel = ylabel(&#x27;MAE (m)&#x27;);hLegend = legend([Line1,Line2,Line3,Line4,Line5], ... &#x27;samp1&#x27;, &#x27;samp2&#x27;,&#x27;samp3&#x27;,&#x27;samp4&#x27;,&#x27;samp5&#x27;, ... &#x27;Location&#x27;, &#x27;northwest&#x27;);% 刻度标签字体和字号set(gca, &#x27;FontName&#x27;, &#x27;Times&#x27;, &#x27;FontSize&#x27;, 9)% X、Y轴标签及Legend的字体字号 set([hXLabel, hYLabel,hLegend], &#x27;FontName&#x27;, &#x27;Helvetica&#x27;)set([hXLabel, hYLabel,hLegend], &#x27;FontSize&#x27;, 10)% 背景颜色set(gca,&#x27;Color&#x27;,[1 1 1])","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"},{"name":"matlab常用函数","slug":"matlab常用函数","permalink":"http://jackzheng-lu.github.io/tags/matlab%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"name":"matlab绘图plot","slug":"matlab绘图plot","permalink":"http://jackzheng-lu.github.io/tags/matlab%E7%BB%98%E5%9B%BEplot/"}]},{"title":"matlab_figure留白问题","slug":"编程语言学习/matlab_figure留白问题","date":"2021-03-19T08:27:36.000Z","updated":"2021-04-14T08:09:19.597Z","comments":true,"path":"2021/03/19/编程语言学习/matlab_figure留白问题/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_figure%E7%95%99%E7%99%BD%E9%97%AE%E9%A2%98/","excerpt":"","text":"目的是能一劳永逸的解决matlab画图的留白问题。 总结： 方法1-3，只适用于单图（结合startup脚本，定位默认设置），方法4可适用于多图等距 原理figure如同一张画布，axes是坐标轴用来控制所画图的位置和大小。 关于画布位置的属性主要有：Position; TightInset; OuterPosition。 下图是三者的关系，OuterPosition是外边框（红色虚线），Position是内边框（绿色实线），TightInset是有效边界（蓝色）与Position之间的部分（理解它才能自定义axes）。 解决办法方法1LooseInset, 在Matlab中默认设置为[0.13, 0.11, 0.095, 0.075]，从而为刻度标记留出一定的空间。 便捷的方法时，修改matlab默认的属性值（详情可见博客中的另一文章“matlab_模板设定”） 1set(0,&#x27;DefaultAxesLooseInset&#x27;,[0.03,0.03,0.03,0.03]) 方法2 效果等于方法1中当 looseinset 取值都为0的时候 1set(gca,&#x27;LooseInset&#x27;,get(gca,&#x27;TightInset&#x27;)) 方法3 窗口长宽比失衡问题有一种可能窗口长宽比失衡的问题 （e.g., 由于设置axis equal），如下图： 一种方法是，计算坐标区长度与宽度的比例，通过改变figure窗口尺寸以使坐标区填充画布： 1234axis tight pos=get(gcf,&#x27;Position&#x27;); % 获取窗口尺寸信息pos(3)=pos(4)/3; % 改变窗口宽度（倍数根据长宽比自己确定）set(gcf,&#x27;Position&#x27;,pos) % 更新窗口尺寸 方法4 针对多图subplot的解决方法 以上的方法对于单一图片比较有效，但是如果有多个图片的话（e.g., subplot)，并不能有效去除空白。进行了google，发现一般都要写个脚本script进行处理。 我之前在处理相关数据的时候写了一个简单的脚本，放在这里 123456789101112131415161718192021222324252627282930313233if k==1 pos1=get(fig(1),&#x27;position&#x27;); pos1(1)=0; pos1(4)=0.35; pos1(3)=0.25; set(fig(1),&#x27;position&#x27;,pos1)else pos=get(fig(k),&#x27;position&#x27;); pos(1)=pos1(1)+0.23*(k-1); pos(4)=0.35; pos(3)=0.25; set(fig(k),&#x27;position&#x27;,pos)end% put the title closer and figure closerif j==4 title([&#x27;1998-2018 Madrid &#x27;,name&#123;k&#125;])elseif j==3 title([&#x27;1984-2018 Vienna &#x27;,name&#123;k&#125;])elseif j==2 a=title([&#x27;1975-2018 Ljungbyhed &#x27;,name&#123;k&#125;],&#x27;units&#x27;,&#x27;norm&#x27;); p=get(a,&#x27;position&#x27;); p(2)=p(2)-0.1; set(a,&#x27;position&#x27;,p,&#x27;units&#x27;,&#x27;norm&#x27;); pos=get(fig(k),&#x27;position&#x27;); pos(2)=pos(2)+0.07; set(fig(k),&#x27;position&#x27;,pos)else a=title([&#x27;1975-2018 Kiruna &#x27;,name&#123;k&#125;],&#x27;units&#x27;,&#x27;norm&#x27;); p=get(a,&#x27;position&#x27;); p(2)=p(2)-0.1; set(a,&#x27;position&#x27;,p,&#x27;units&#x27;,&#x27;norm&#x27;)end 参考文献： Matlab绘图去白边技巧(plot 、subplot) MATLAB：通过m文件去除图片空白区域（plot、subplot），设置大小并保存清晰图片 Matlab论文插图消除白边的5种方法","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"}]},{"title":"matlab_常用函数1","slug":"编程语言学习/matlab_常用函数1","date":"2021-03-19T07:37:22.000Z","updated":"2021-04-14T00:27:48.837Z","comments":true,"path":"2021/03/19/编程语言学习/matlab_常用函数1/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B01/","excerpt":"","text":"% strrep函数，e.g. 从f中找到’Time’，替换为date; 1f = strrep(f,&#x27;Time&#x27;,date);","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"},{"name":"matlab常用函数","slug":"matlab常用函数","permalink":"http://jackzheng-lu.github.io/tags/matlab%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"}]},{"title":"matlab_模板设定","slug":"编程语言学习/matlab-模板设定","date":"2021-03-19T03:34:58.000Z","updated":"2021-04-14T00:27:47.758Z","comments":true,"path":"2021/03/19/编程语言学习/matlab-模板设定/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/19/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab-%E6%A8%A1%E6%9D%BF%E8%AE%BE%E5%AE%9A/","excerpt":"","text":"起因是每当创建新的脚本时，我总要重复输入一些固定的代码，因此想说能不能使用特定的模板； 一来能省下一定的时间，二来避免敲代码时出现各种各样的格式。 Matlab脚本的模板创建一个make_fun函数进行创建模板 Create a script “my_template.m” that has the layout of your codeFor example: 1234% Description: % Author: Foo% Comment: close all; clear; clc Create a function “make_fun.m” that utilizes “copyfile” function to copy the template to a new m-file 123function [] = make_fun(V)copyfile(&#x27;my_template.m&#x27;,V)edit(V) From the command line, you can call “make_fun” function to create a new function/script with the name of your choice 1make_fun(&#x27;newScript.m&#x27;); 一个改进版本的make_fun script，可以参照该思路进行改进12345678910111213function [] = make_fun(V)[status,message,messageid] = copyfile(&#x27;my_template.m&#x27;,V);if (status &gt; 0) fid = fopen(V,&#x27;r+&#x27;); f=fread(fid,&#x27;*char&#x27;)&#x27;; fclose(fid); f = strrep(f,&#x27;#my_template#&#x27;,strrep(V,&#x27;.m&#x27;,&#x27;&#x27;)); f = strrep(f,&#x27;#date#&#x27;,date); fid = fopen(V,&#x27;w+&#x27;); fprintf(fid,&#x27;%s&#x27;,f); fclose(fid);endedit(V) #号之间的为可修改字段 Matlab默认属性设置（对图片绘制特别有效） 可以创建个startup函数，里面可以修改Matlab的默认属性，这样每次启动Matlab，就会读取startup函数里面提前设定好属性值。（不过这样刚开始启动Matlab的时候，可能会有点时间） 下面是我常用的属性设置，主要是利用Matlab绘制图片 1234567891011121314151617function startup% change the defaut setting% ^^^ setting the plot ^^^set(groot,&#x27;DefaultLegendAutoUpdate&#x27;,&#x27;off&#x27;,&#x27;DefaultLegendorientation&#x27;,&#x27;horizontal&#x27;)set(groot,&#x27;DefaultLegendbox&#x27;,&#x27;off&#x27;)set(groot,&#x27;defaultLineLineWidth&#x27;,1.5)set(groot,&#x27;DefaultAxesFontsize&#x27;,16)set(groot,&#x27;DefaultTextfontsize&#x27;,16,&#x27;DefaultTextUnits&#x27;,&#x27;normalized&#x27;)set(groot,&#x27;DefaultAxesFontweight&#x27;,&#x27;bold&#x27;)% ^^^ setting the figure ^^^% make the figure size as window sizeset(groot, &#x27;defaultFigureUnits&#x27;,&#x27;normalized&#x27;,&#x27;defaultfigureposition&#x27;,[0 0.05 1 0.85])end","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"}],"tags":[{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"}]},{"title":"milankovitch_cycle","slug":"文献阅读笔记/milankovitch-cycle","date":"2021-03-18T13:40:47.000Z","updated":"2021-03-24T14:12:19.149Z","comments":true,"path":"2021/03/18/文献阅读笔记/milankovitch-cycle/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/18/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/milankovitch-cycle/","excerpt":"","text":"m问题： 米兰科维奇(Milankovitch cycle)如何影响地球气候 The concept of the Milankovich cycles was developed in the 1930s by the Serbian mathematician Milutin Milankovitch. They take account of three variations in the orbit of the earth around the sun. 米蘭科維奇循環（Milankovitch cycles）是塞爾維亞的地球物理学家兼天文學家米盧廷·米蘭科維奇的气候变化理论。米蘭科維奇计算了过去数百万年地球的離心率、轉軸傾角和軌道的進動的变化，发现了这些参数与地球上氣候模式，尤其是冰川期的关系。 轨道偏心率(Eccentricity)偏心率是指地球轨道的形状偏离一个完美的圆的程度。地球绕太阳公转的轨道不是完美的圆形。随着时间的推移，在木星和土星这两颗太阳系最大的气态巨行星的引力作用下，地球轨道的形状从近乎圆形变为略椭圆形，Milanković的研究表明表明轨道变化的周期约100,000年。 地轴倾角(Obliquity)地球的旋转轴在绕太阳运行时倾斜的角度称为倾角，该倾角的存在导致了中低纬度的四季变化。在过去的一百万年里，它垂直于地球轨道平面的角度在22.1到24.5度之间变化。地球的轴向倾斜角越大，我们的季节就会越极端，夏季愈热，冬季愈冷。较大的倾斜角度有利于冰川和冰原的融化和撤退。这些影响在全球范围内并不是一致的：高纬度地区比赤道附近地区受到的太阳总辐射的变化更大。 地轴进动(Precession)当地球旋转时，它的轴心会轻微摆动，就像一个稍稍偏离旋转中心的玩具陀螺。这种由于太阳和月球的引力导致旋转轴相对于恒星固定位置摆动的趋势被称为地轴进动，地球地轴进动方向自东向西。轴向进动的周期约为25771.5年。 地球的轨道参数会影响地球受到太阳的辐射量，从而影响地球环境。 需要注意的是，该影响还未真正的被理解","categories":[{"name":"文献阅读笔记","slug":"文献阅读笔记","permalink":"http://jackzheng-lu.github.io/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Milankovitch paper","slug":"Milankovitch-paper","permalink":"http://jackzheng-lu.github.io/tags/Milankovitch-paper/"}]},{"title":"PDF解锁_去水印","slug":"生活记录/PDF解锁-去水印","date":"2021-03-16T12:20:15.000Z","updated":"2021-03-22T07:22:51.909Z","comments":true,"path":"2021/03/16/生活记录/PDF解锁-去水印/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/16/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/PDF%E8%A7%A3%E9%94%81-%E5%8E%BB%E6%B0%B4%E5%8D%B0/","excerpt":"","text":"PDF密码解决 PDF解锁，网上有在线解锁工具，可以解决权限密码（免费用户有次数限制） PDF密码分两种，用户密码（打开密码）和所有者密码（权限密码）。 所有者密码（权限密码）属于君子协定，其文件内容并没有加密，只是PDF标准要求遵守相关权限设定，如不允许打印，修改等等。 题主所说的不能打印，就是权限密码限制了 我们可以使用PDF密码在线破解工具，移除权限密码 PDF解密_PDF解密软件_PDF密码破解_PDF文件解密 - 超级PDFxpdf.net 用户密码（打开密码）才是真正保护PDF内容的密码，使用这种密码，内容是加密的，此类密码只能让专业人士来爆破密码，通常视作不可以破解，解密此类PDF必须要知道密码才行 PDF去水印 正版的pdf软件中就有去水印功能 参考文献 https://www.zhihu.com/question/22938994/answer/1688607956","categories":[{"name":"生活记录","slug":"生活记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"PDF","slug":"PDF","permalink":"http://jackzheng-lu.github.io/tags/PDF/"}]},{"title":"hexo引用本地图片无法显示","slug":"博客学习/hexo引用本地图片无法显示","date":"2021-03-16T09:08:22.000Z","updated":"2021-04-14T00:17:07.107Z","comments":true,"path":"2021/03/16/博客学习/hexo引用本地图片无法显示/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/16/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/hexo%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/","excerpt":"","text":"结论 搜索了半天，最终发现图片显示不了是因为最后网址生成的链接错误（会多出来时间月份等信息），导致绝对路径不正确，绝对路径貌似会有bug，最后使用相对路径的方法解决，为以下操作 打开_config.yml文件，修改下述内容 1post_asset_folder: true 在根目录下执行：（下载插件） 1npm install https:&#x2F;&#x2F;github.com&#x2F;CodeFalling&#x2F;hexo-asset-image --save 确保在 md所在文件下创建和 md文件同名的文件夹，里面存放需要的图片，然后在 markdown 中插入图片： 这里我使用typora自带的设置，在文件&gt;偏好设置&gt;图像中，可以设置将插入md文件中的图片备份到相应的位置（我这里设置为同名文件夹） 1! [hexo image] (hexo&#x2F;image.png) 总结：我理解为，post_asset_folder要设置为true（每新建一个md，都会产生对应的图片文件夹，不管是否有图片，我使用typora产生图片文件夹，这样可以减少文件夹的数量），变为相对路径，然后hexo-asset-image插件可以确定相应位置。官方推荐的标签插入方式，并不能预览图片，不推荐使用。 图片无法显示问题 安装hexo-asset-image插件，这样正常使用markdown语法对图片的相对路径引用，即可实现编辑时可预览图片，且发布时插件自动将相对路径转为绝对路径。 方法1： 使用相对路径引用资源的使用文本编辑器打开站点根目录下的 _ config.yml 文件，将 post_asset_folder 值设置为 true。 1post_asset_folder: true 修改之后会开启 Hexo 的文章资源文件管理功能。Hexo 将会在我们每一次通过 hexo new &lt;title&gt; 命令创建新文章时自动创建一个同名文件夹，于是我们便可以将文章所引用的相关资源放到这个同名文件夹下，然后通过相对路径引用。例如，你把一个 example.jpg 图片放在了这个同名文件夹中，使用相对路径的常规 markdown 语法 &#123;% asset_img example.jpg %&#125;即可访问 。 该种方法并不能解决我的问题。 方法2：使用一些免费的CDN 服务 还没尝试，先保存着 先解释一下什么是 CDN 服务。 CDN 全名是 Content Delivery Network，即内容分发网络。由于国内特殊的网络环境，许多把博客部署到 GitHub Pages 的同学都觉得访问速度太慢，尤其是有大量图片、大体积 CSS、JS 文件时。CDN 服务通过在全世界各个角落部署服务器来缓解这个问题，这些服务把来自源站（这里是 GitHub）的文件缓存在自己的各台服务器上，当有用户访问时则就近选择一台服务器返回结果，如此一来便能大大提高访问速度。 jsDelivr 是众多的公共 CDN 服务商中的一家，长久以来通过稳定优质的服务赢得了不少口碑。尤其值得一体的是，据它官网上的说法： jsDelivr is the only public CDN with a valid ICP license issued by the Chinese government, and hundreds of locations directly in Mainland China. 它的速度在中国相当不错。而且还有一个重要特性：支持加速来自 GitHub 仓库的文件！只要构造一个类似这样的 URL： 1https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;&lt;用户名&gt;&#x2F;&lt;仓库名&gt;@&lt;分支名&gt;&#x2F;&lt;文件路径&gt; 例如： 1https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;AlanDecode&#x2F;site-Blog@gh-pages&#x2F;favicon.ico 就能直接访问对应文件。这一点可以被我们加以利用，用以加速博客上的 CSS、JS、图片等静态文件。 Maverick 自带了这个功能。回到仓库首页，点击 conf.py 文件，然后点击编辑按钮。修改 enable_jsdelivr 如下： 1234enable_jsdelivr &#x3D; &#123; &quot;enabled&quot;: True, &quot;repo&quot;: &quot;&lt;你的用户名&gt;&#x2F;Blog-With-GitHub-Boilerplate@gh-pages&quot;&#125; 点击 Commit changes。然后修改你刚才添加的文章，在里面插入一张仓库中的图片： 123这是我的第一篇文章。文章使用 GitHub 管理，并通过 GitHub Actions 自动构建与发布！![幽灵公主剧照](.&#x2F;images&#x2F;Mononoke_Hime.jpg) 发布后稍等片刻再访问你的网站，此时网站的图片都通过 jsDelivr 传输的。不信的话在图片上右键选择「在新标签页中打开图片」，看链接是否以 cdn.jsdelivr.net 开头。 要插入你自己的图片，请把图片上传到 src/images 文件夹里，然后在文章中使用 Markdown 语法引用即可。 除了在本地存储图片，还可以将图片上传到一些免费的CDN服务中。 比如Cloudinary提供的图片CDN服务，在Cloudinary中上传图片后，会生成对应的url地址，将地址直接拿来引用即可。或者上传到路过图床（不用梯子）。 [cloudinary] (25G的免费空间) 写作与图片处理经验 参考文档： http://www.xinxiaoyang.com/programming/2016-11-25-hexo-image-bug/ https://blog.csdn.net/xjm850552586/article/details/84101345 http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[]},{"title":"无法打开github及个人博客的解决方法","slug":"博客学习/无法成功打开github网址的解决方法","date":"2021-03-15T12:41:13.000Z","updated":"2021-04-02T07:12:41.276Z","comments":true,"path":"2021/03/15/博客学习/无法成功打开github网址的解决方法/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/15/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/%E6%97%A0%E6%B3%95%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80github%E7%BD%91%E5%9D%80%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/","excerpt":"","text":"该方案可以适用于所有访问不通的网站 无法成功打开github 网址的解决方法配置了一台新电脑,输入github地址 一直在加载无法打开，确认了不是自己的网络差 解决办法： 12windows下路径为：C:\\Windows\\System32\\drivers\\etc\\hostsLinux下路径：/etc/hosts 修改hosts文件，如果显示需要权限就把文件拉到桌面再拉回来即可 12345#github192.30.253.113 github.com192.30.253.113 github.com192.30.253.118 gist.github.com192.30.253.119 gist.github.com 如果还是不行 那就需要清除DNS缓存 12windos: ipconfig /flushdnsios: sudo killall -HUP mDNSResponder 无法成功打开github 博客的解决方法查询自己的博客ip：如 然后剩下的步骤跟无法打开github网址一样","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[]},{"title":"Shell教程","slug":"shellLearning/shell教程","date":"2021-03-15T03:40:39.000Z","updated":"2021-04-29T09:19:05.543Z","comments":true,"path":"2021/03/15/shellLearning/shell教程/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/15/shellLearning/shell%E6%95%99%E7%A8%8B/","excerpt":"","text":"https://www.cnblogs.com/anliven/p/6032081.html shell调试的方法 关于shell概述；常用命令的简介 遇到特殊符号时，使用反斜杠“\\” 转义 Shell 概述 shell脚本主要对文件以及模型结果进行搜索和处理 shell跟python一样，选择[0:6]，表示6个，1-6。 Shell脚本概述#! 解释器声明，是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即用哪一种 Shell例如 #!/bin/sh，shell 脚本通常以此开头，用来告诉系统 /bin/sh 是用来执行该文件的程序。 在windows下可以这么写 1#!C:\\Program Files\\Git\\bin\\bash anaconda执行shell的乱码问题 1234# 开始的时候输入这个export LANG=&quot;en_US.UTF-8&quot;https://blog.csdn.net/wirelessqa/article/details/19038325 http://c.biancheng.net/view/1120.html 删除命令 rm，一旦删除，则不可恢复 代码赏析 1234567891011121314151617181920212223242526272829303132333435# 赋值表达，结合管道a=$(echo | sed -n &quot;1p&quot; back_traj_time.txt) # 赋值# 删除多余空格a=$(echo | sed -n &quot;1p&quot; back_traj_time.txt | tr -d &quot;[ ]&quot;)# 数值循环for i in &#123;1..2&#125;# 将某目录下的文件信息全部导入tdump中cat ./back_test2/tdump_back?????????? &gt;&gt; tdump删除替换功能删除特定的字符 #将md取数# newname=$&#123;file%.*&#125;http://c.biancheng.net/view/1120.htmltr 删除，是删除所有字符，例如，删除test，则是删除所有t,所有e，所有ssed 可以替换特定的字符串，如hello等特殊符号用\\进行转义 ls ./back_test2/tdump_back?????????? &gt; tdump | sed -i &#x27;s/\\.\\/back_test2\\///g&#x27; tdump# 多行变为一行，tr命令$ cat a.txt | tr &#x27;\\n&#x27; &#x27;, &#x27; | sed &#x27;s/,$//&#x27;https://blog.csdn.net/zhuying_linux/article/details/6825568 # 利用sed提取行数，%\\:*表示截取前面的行数,$[]表示加减运算 echo &quot;sed -n &quot;$[$&#123;yymm%\\:*&#125;-1],$[$&#123;yymm%\\:*&#125;+22]p&quot; $&#123;MET&#125;/meteonamelist.txt&quot; &gt;&gt; CONTROL.base 更为详细的shell教程可以在菜鸟教程shell里找到 输入sh，可以进入到shell 模式 man rename 可以查看帮助文档 文件夹/文件的处理 https://www.runoob.com/linux/linux-file-content-manage.html 处理目录的常用命令接下来我们就来看几个常见的处理目录的命令吧： ls（英文全拼：list files）: 列出目录及文件名 cd（英文全拼：change directory）：切换目录 pwd（英文全拼：print work directory）：显示目前的目录 mkdir（英文全拼：make directory）：创建一个新的目录 rmdir（英文全拼：remove directory）：删除一个空的目录 cp（英文全拼：copy file）: 复制文件或目录 rm（英文全拼：remove）: 删除文件或目录 mv（英文全拼：move file）: 移动文件与目录，或修改文件与目录的名称 Linux 文件内容查看Linux系统中使用以下命令来查看文件的内容： cat 由第一行开始显示文件内容 tac 从最后一行开始显示，可以看出 tac 是 cat 的倒着写！ nl 显示的时候，顺道输出行号！ more 一页一页的显示文件内容 当使用 cat 命令查看文件内容时，如果文件过大，该怎么办呢？这就需要使用 more 命令。 less 与 more 类似，但是比 more 更好的是，他可以往前翻页！ 只记less就好 head 只看头几行 tail 只看尾巴几行 ==你可以使用 *man [命令]*来查看各个命令的使用文档，如 ：man cp== 123456# cat 命令可以用来显示文本文件的内容，也可以把几个文件内容附加到另一个文件中，即连接合并文件。cat [选项] 文件名cat 文件1 文件2 &gt; 文件3# head 命令默认显示文件的开头 10 行内容。如果想显示指定的行数，则只需使用 &quot;-n&quot; 选项即可，例如：head -n 20 anaconda-ks.cfg shell 重定向一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。 在需要窗口输入的时候有用 1command1 &lt; infile &gt; outfile 同时替换输入和输出，执行command1，从文件infile读取内容，然后将输出写入到outfile中 infile可以保存为txt格式的输入文件 read 是 Shell 内置命令，用来从标准输入中读取数据并赋值给变量。如果没有进行重定向，默认就是从键盘读取用户输入的数据；如果进行了重定向，那么可以从文件中读取数据。 【实例1】使用 read 命令给多个变量赋值。更多实例 1234#!&#x2F;bin&#x2F;bashread -p &quot;Enter some information &gt; &quot; name url ageecho &quot;网站名字：$name&quot;echo &quot;网址：$url&quot;echo &quot;年龄：$age&quot; 换行符使用\\进行换行，如果一行代码太长的话 12for dd in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 \\ 15 16 17 18 19 20 21 22 23 24 25 26 27 28; do 基本用法shell一般在linux里面可以直接使用。 在windows系统中，需要使用Git软件。先Git bash到相应的文件夹，然后再运行。需要先 sh 然后运行文件，跟运行python一样。 1sh traj_basic.sh 有个网址可以check shell 脚本，比较适合我这种新手，Github中也可以找到相关的安装介绍 https://www.shellcheck.net/ 我安装在anacoda里面，使用方法（感觉不是很有用） 1shellchek 要检查的程序.sh 常用操作/问题：清屏：clear or reset shell路径应该单独出来经过测试，通过对包含特殊字符的路径使用*双引号*进行处理，则可以方便有效的解决问题。shell测试如下： 123FILEPATH=&quot;D:/OneDrive_LU/OneDrive - Lund University/GitHub_blog/MJblog/source/_posts/2021/博客学习&quot;;# 要引用时，应该这样&quot;$&#123;FILEPATH&#125;&quot; sleep可在指定的时间中挂起调用的进程。换句话说，sleep命令将下一条命令的执行之前暂停指定的秒数。 1sleep NUMBER [SUFFIX]... ctrl + stop 停止当前进程 终止当前程序：快捷键：Ctrl+c在命令行下起着终止当前执行程序的作用，Ctrl+d相当于exit命令，退出当前shellCtrl+s挂起当前shell（保护作用很明显哦）Ctrl+q解冻挂起的shell再不行就重新连接打开一个终端，reboot linux 或 kill 相关进程。 批量的注释==快捷键，ctrl+/== 123456789#!/bin/bash:&lt;&lt;EOFecho &quot;1&quot;echo &quot;2&quot;echo &quot;3&quot;echo &quot;4&quot;EOFecho &quot;5&quot;echo &quot;6&quot; 冒号在shell里是一个命令，代表什么都不做 不要跟python里面的注释弄混了，python是可以使用’‘’这个三个单引号进行 另外（ : &gt; data.log 等同于 cat /dev/null &gt; data.log 可以起到清空文件内容的作用） shell中的一些特殊符号https://www.jb51.net/article/69966.htm **| 管道 (pipeline)**pipeline 是 UNIX 系统，基础且重要的观念。连结上个指令的标准输出，做为下个指令的标准输入。who | wc -l善用这个观念，对精简 script 有相当的帮助 。 Linux shell：rename命令批量重命名文件 https://blog.csdn.net/weixin_44498318/article/details/109311521 传递参数执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：**$n。n** 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推…… shell中特殊符号https://www.cnblogs.com/xuxm2007/archive/2011/10/20/2218846.html 因为由于命名问题，我的文件夹中名字中经常会带有特殊符号。shell中对特殊符号的写法，需要加双引号 代码如下，如果&quot;$&#123;y&#125;&quot;不加双引号的话，会报错。 1234567y=&quot;D:/OneDrive_LU/OneDrive - Lund University/GitHub_blog/MJblog/source/_posts/2021/博客学习/github-博客搭建.md&quot;;if [ -f &quot;$&#123;y&#125;&quot; ] then echo 1else echo 2fi ‘string’ 单引号 (single quote)被单引号用括住的内容，将被视为单一字串。在引号内的代表变数的$符号，没有作用，也就是说，他被视为一般符号处理，防止任何变量替换。heyyou=homeecho ‘$heyyou’ # We get $heyyou &quot;string&quot; 双引号 (double quote)被双引号用括住的内容，将被视为单一字串。它防止通配符扩展，但允许变量扩展。这点与单引数的处理方式不同。heyyou=homeecho &quot;$heyyou&quot; # We get home 命令的执行控制","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"}],"tags":[{"name":"shell","slug":"shell","permalink":"http://jackzheng-lu.github.io/tags/shell/"}]},{"title":"CMD快捷键_基础知识","slug":"编程语言学习/CMD快捷键_基础知识","date":"2021-03-15T03:40:39.000Z","updated":"2021-04-08T08:13:30.468Z","comments":true,"path":"2021/03/15/编程语言学习/CMD快捷键_基础知识/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/15/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/CMD%E5%BF%AB%E6%8D%B7%E9%94%AE_%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","excerpt":"","text":"常用的按键 win+R 跳出prompt，然后输入cmd就可以调出运行框 dir -显示路径下的所有文件 从C盘跳到D盘，按c: 或者按d:。 在cmd里运行python文件，如下（注意python路径要加入到系统路径中） 1&gt;&gt; python 需要执行的python文件","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"cmd","slug":"cmd","permalink":"http://jackzheng-lu.github.io/tags/cmd/"},{"name":"教程","slug":"教程","permalink":"http://jackzheng-lu.github.io/tags/%E6%95%99%E7%A8%8B/"}]},{"title":"编程规范_风格经验学习","slug":"编程语言学习/编程规范_风格经验学习","date":"2021-03-15T03:40:39.000Z","updated":"2021-04-08T08:13:36.879Z","comments":true,"path":"2021/03/15/编程语言学习/编程规范_风格经验学习/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/15/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83_%E9%A3%8E%E6%A0%BC%E7%BB%8F%E9%AA%8C%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"shell风格指南 https://www.jianshu.com/p/09abb264ab95 将命令或命令组合设为一个见名知意的别名，在一个Shell环境中可以被多次调用，同时，利于代码的清晰度，也便于代码的阅读。 通常封装在一个库文件中，比如：demo.lib 123456789#! /bin/shalias LOCAL=&#x27;local&#x27;alias GLOBAL=&#x27;&#x27;alias OPEN_DEBUG=&#x27;set -x&#x27;alias CLOSE_DEBUG=&#x27;set +x&#x27;alias GET_IP_FQDN=&#x27;nslookup $&#123;IP_ADDRESS&#125; | tail -n 2 | sed -e &quot;$d&quot; | awk -F[=] &quot;&#123;print \\$NF&#125;&quot; | sed -e &quot;s/^\\s*//&quot; -e &quot;s/\\. 将属性键值对，配置在文件中，供Shell读取，以此达到配置与代码的剥离，也避免程序的硬编码，比如：info.conf 12NAME=&quot;Zhou Shengshuai&quot;COMPANY=&quot;ZSS&quot; 如何执行lib中的alias呢？ 又如何读取info.conf中的属性值呢？下面的demo.sh一目了然。 123456789101112131415161718192021222324252627282930313233343536373839404142434445#! /bin/sh# 在当前进程中，Source参数文件demo.lib中的各个命令source demo.lib# 全局变量IP_ADDRESS，在当前Shell环境中，可以被demo.lib共享，即：IP_ADDRESS可以在demo.lib被使用GLOBAL IP_ADDRESS=&quot;10.91.86.250&quot;# 执行当前Shell环境中的命令，即：demo.lib中的GET_IP_FQDNGLOBAL IP_FQDN=`GET_IP_FQDN`echo &quot;IP FQDN: $&#123;IP_FQDN&#125;&quot;# 执行当前Shell环境中的命令，即：demo.lib中的OPEN_DEBUGOPEN_DEBUG# 在当前进程中，读取参数文件info.conf中的各个属性值CONF_FILE=&quot;info.conf&quot;[ -e $&#123;CONF_FILE&#125; ] &amp;&amp; source $&#123;CONF_FILE&#125;echo &quot;NAME: $NAME&quot;echo &quot;COMPANY: $COMPANY&quot;function test1&#123; # 局部变量，生存周期在函数体内 LOCAL v1=100&#125;test1echo &quot;local variable: $v1&quot;function test2&#123; # 全局变量，生存周期从函数调用开始被Shell环境共享 GLOBAL v2=200&#125;test2echo &quot;global variable: $v2&quot;# 执行当前Shell环境中的命令，即：demo.lib中的CLOSE_DEBUGCLOSE_DEBUG# 将整个EOF&quot;内容段&quot;作为命令输入cat &gt;output.txt &lt;&lt; EOFABCDEFGHIJKLMNOPQRSTUVWXYZEOF","categories":[{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"经验","slug":"经验","permalink":"http://jackzheng-lu.github.io/tags/%E7%BB%8F%E9%AA%8C/"},{"name":"模板","slug":"模板","permalink":"http://jackzheng-lu.github.io/tags/%E6%A8%A1%E6%9D%BF/"}]},{"title":"md分类以及添加站内搜索功能","slug":"博客学习/md分类以及添加站内搜索功能","date":"2021-03-10T01:53:36.000Z","updated":"2021-04-28T07:05:06.985Z","comments":true,"path":"2021/03/10/博客学习/md分类以及添加站内搜索功能/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/10/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/md%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/","excerpt":"","text":"进行多方搜索，发现我的基本操作没有错误，主要是我拼写错误问题。 这里记录如何在主题下添加各个菜单项 Hexo博客NexT主题下添加分类、标签、关于菜单项 如何对文章md文件分类https://blog.csdn.net/maosidiaoxian/article/details/85220394 该博客是2018年的，文中说的permalink 和 new_post_name的title不对应问题，会导致生成的html地址变更，但是貌似在最新Hexo版本中已经得到解决。 直接将new_post_name修改为想要的结果即可 这里，根据时间和分类对文章的md文件进行分类，时间是默认的为年份分类，年份文件夹下，为每个分类的文件夹。 为博客增加一个站内搜索 待办问题： -博客搜索貌似是一个“或”的关系； -另外我搜索的链接出现不对； next 官网中有关于这个内置的第三方插件的介绍，需要npm安装，根目录（hexo)配置文件和next主题配置文件的修改 https://theme-next.js.org/docs/third-party-services/search-services.html#Local-Search 先是安装插件： 然后hexo根目录下设置 最后是next主题下的设置 更为详细的参数介绍，（比较有用的是content，修改为false，则匹配除文章内容以外的所有信息）。 https://github.com/theme-next/hexo-generator-searchdb 其他页面搜索无法显示问题 发现一个小问题，如果是在主页进行搜索的话，是没有问题的，但是如果在其他页面（e.g., HTML教程页面搜索matlab常用函数）,则会出现如下链接： 1jackzheng-lu.github.io/2021/03/22/编程语言了解/HTML教程/2021/03/19/matlab学习/matlab-常用函数1/ google搜索发现有可能是我的url和permenant的link没有正确设置 使用algolia搜索Algolia是一种云搜索。什么是云搜索，我们把数据库内可以用于被搜索的信息推送至云端，然后用户在我们的网站进行搜索时，实际上搜索请求并没有发送给我们的服务器，而是被传递到云服务器进行搜索，并返回相应的结果。这样的解决方案可以大大降低网站的延迟，并提高应用的性能。 具体办法是我们将数据库的信息以JSON的格式上传到Algolia服务器，然后通过相应的API进行搜索。搜索既可以是实时的（采用Javascript调用Algolia API），也可以是后端的（使用PHP调用Algolia API） 我们需要的是Application ID，Search-Only API Key和Admin API Key。注意：Admin API KEY一定不要放在js里，因为这个key是用来上传，删除和操作我们的云端数据的，所以一定要保管好。 花了一个小时，给博客添加了algolia搜索，效果并没有想象的那么好。 需要更深入的学习。 首先到官网注册个账号，https://www.algolia.com/。 Algolia提供了免费版本，包含5万个查询和1万个记录，基本上只能够一个小博客使用，大型的网站还是用他们的付费版本好一些。 在环境变量中添加 12变量名：HEXO_ALGOLIA_INDEXING_KEY变量值：你的Admin API Key 温习：环境变量在控制面板\\系统和安全\\系统，window10更新后，在右侧的相关设置里找到高级系统设置，就可以看到环境变量。 每次更新完都要进行输入 12345# 前提是我已经将algolia变量放入到系统环境中hexo algolia# 如果没有放入到系统环境中，则应该这么做export HEXO_ALGOLIA_INDEXING_KEY=Admin API Keyhexo algolia 不要将admi API在根目录上设置文件保存（不要共享到公共库中） 注意：Admin API KEY一定不要放在js里，因为这个key是用来上传，删除和操作我们的云端数据的，所以一定要保管好。 对搜索功能有更改时（html、css等）均需要在git bash中执行hexo algolia 参考文献github上的库 Algolia Search - 使用Javascript实现前端实时搜索 https://blog.csdn.net/qq_35479468/article/details/107335663 http://blog.langpz.com/Hexo-Next%E9%9B%86%E6%88%90Algolia%E6%90%9C%E7%B4%A2.html0h https://www.raycoder.me/p/hugo-search-with-algolia/","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"博客","slug":"博客","permalink":"http://jackzheng-lu.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"Hexo","slug":"Hexo","permalink":"http://jackzheng-lu.github.io/tags/Hexo/"}]},{"title":"hexo学习","slug":"博客学习/hexo学习","date":"2021-03-09T13:41:05.000Z","updated":"2021-04-28T07:39:26.186Z","comments":true,"path":"2021/03/09/博客学习/hexo学习/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/09/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/hexo%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"更为详细的教程见Hexo官网教程，这里对我用到的一些点进行整理 Hexo 主题的修改hexo 主页显示出tags和categories 在主题的_config文件中修改 （注意：修改完之后要进行hexo clean） https://blog.csdn.net/Wonz5130/article/details/84666519 分类和标签的写法分类具有层次性和顺序性，标签没有。 注意空格，如果没有空格，则不能正确显示。 如果标签tags后面没有空格，即使categories后面填写正确，也不能正确显示（目测编码有顺序性）。 123456789101112#两种写法,注意，这样子234是123的子分类categories: [&#x27;123&#x27;,&#x27;234&#x27;]#官方推荐写法categories: - 123- 234# 如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。categories:- [Diary, PlayStation]- [Diary, Games]- [Life]#此时这篇文章同时包括三个分类： PlayStation 和 Games 分别都是父分类 Diary 的子分类，同时 Life 是一个没有子分类的分类。 模板的修改，scaffoldsHexo的模板是指在新建的文章文件中默认填充的内容。例如，如果您修改scaffold/post.md中的Front-matter内容，那么每次新建一篇文章时都会包含这个修改。 NEXT 主题，有很多插件和布局的修改，在next文件夹下面的_config文件中修改，非常方便 Hexo常用的几个操作 hexo clean, 清空博客内容，主要是在重新配置根目录_config.yml文件时使用 hexo g，生成博客 hexo s，打开静态博客 hexo debug，可以看出问题所在 也可以进行这样的连操作 1hexo g &amp;&amp; hexo s","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"博客","slug":"博客","permalink":"http://jackzheng-lu.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"Hexo","slug":"Hexo","permalink":"http://jackzheng-lu.github.io/tags/Hexo/"}]},{"title":"github博客搭建","slug":"博客学习/github-博客搭建","date":"2021-03-03T13:40:33.000Z","updated":"2021-04-14T00:15:37.715Z","comments":true,"path":"2021/03/03/博客学习/github-博客搭建/","link":"","permalink":"http://jackzheng-lu.github.io/2021/03/03/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/github-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/","excerpt":"","text":"具体流程可见网址：https://www.cnblogs.com/shwee/p/11421156.html Hexo 的介绍具体看Hexo官网 无法成功更新git page （push 到git上)有可能是github 网址的setting 中的source 没有选择对的branch，电脑上的更新对应的是master branch， 注意push 到github上面时，即使deploy done: git，也会存在延时现象（有可能几分钟甚至几小时） push到git上面的登录问题hexo d 后显示登入界面，由于网速的问题，可能会造成无法成功传输？https://www.itread01.com/content/1541968100.html 解决方法： Hexo根目录下，找到deployment，在repo那边改为https://後加 (Github)使用者名稱:密碼@ 即可。 123456# Deployment## Docs: https://hexo.io/docs/one-command-deploymentdeploy: type: git repo: https://jackzheng-lu:密码@github.com/jackzheng-lu/jackzheng-lu.github.io.git branch: master hexo d 后成功update git pages，但是有可能造成DNS污染(??)，无法登入github网址，需要重新清除缓存 批量修改分类方法https://www.dazhuanlan.com/2019/10/05/5d978431edbfe/ hexo并不存在批量修改分类的功能，但是能通过简单脚本进行快速修改。 基本思路： 通过shell脚本来写，结合sed命令。关于sed，它全名是stream editor，用程序的方式来编辑文本，基本上就是通过正则表达式来匹配进行替换删除之类的操作。 找到共通点：标签都是以tags:开头的，分类都是以categories:开头的等等，而且所有要提交的文档都放在了source/_posts目录下 程序解决思路：通过遍历固定目录下的文件，对每一个文件进行关键字查找匹配，至此大功告成。程序只是将功能实现 扩展学习： sed命令的使用和介绍，可以参考sed 简明教程 shell风格指南 参考文献 https://www.dazhuanlan.com/2019/10/05/5d978431edbfe/","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"博客","slug":"博客","permalink":"http://jackzheng-lu.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"Hexo","slug":"Hexo","permalink":"http://jackzheng-lu.github.io/tags/Hexo/"}]},{"title":"Typora编辑器介绍及快捷键","slug":"博客学习/Typora编辑器介绍及快捷键","date":"2021-02-24T00:14:29.000Z","updated":"2021-04-29T03:22:13.316Z","comments":true,"path":"2021/02/24/博客学习/Typora编辑器介绍及快捷键/","link":"","permalink":"http://jackzheng-lu.github.io/2021/02/24/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/Typora%E7%BC%96%E8%BE%91%E5%99%A8%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"","text":"学习如何使用Hexo搭建个人的静态博客，目录以及链接等，使用的是Typora编辑器，后期还会将博客push到github上 Markdown编辑器TyporaHexo是使用md(Markdown)的方式，针对于Markdown的编辑器，这里使用Typora，其他的可以看推荐 6款好用的Markdown编辑器推荐 Typora 的使用方法这是网友总结的Typora Markdown 手册，非常详细，满足基本需求。另外一个链接，提供了一些 此外，还有官网的指导手册，为英文界面。 1234问题：* 如何建立各个md文件之间的联系？或者说资源的引用应该使用链接的方式：内链和外链（ctrl+click)。内部跳转的方式 [Typora常用快捷键] (D:\\OneDrive_LU\\OneDrive - Lund University\\GitHub_blog\\MJblog\\source_posts\\Typora常用快捷键.md) 有很多md编辑器，他们分成两个界面，一个界面是md源代码，另外一个界面实时更新显示其效果，而Typora是浑然一体的，真正所见即所得，就跟在使用word一样方便。 并且，它可以通过插件免费的将md文件生成pdf（自动生成标签），word，便于笔记的存档和离线交互，完美。 Typora 快捷键修改高亮颜色修改打开方式：文件 &gt; 偏好设置 &gt; 外观 &gt; 打开主题文件夹 &gt; night.css文件 &gt; Ctrl+F 搜索 mark &gt; 修改喜欢的 background(背景颜色) 和 color(字体颜色) 保存 快捷键修改设置方式：文件 &gt; 偏好设置 &gt; 通用 &gt; 打开高级设置 &gt; 会看到两个json文件，打开其中一个 &gt; 在 “keyBinding” 中添加 “Highlight”:“Ctrl+Shift+H”&gt; 保存 &gt; 另一个json文件也在 “keyBinding” 中添加 “Highlight”:“Ctrl+Shift+H” &gt; 保存 https://blog.csdn.net/December_shi/article/details/108690116 typora默认图片大小的设置之前一直苦恼于截图放进Typora里面之后显示过大。。。占好多地方刚刚研究了一下，发现最简便的方法是修改你使用的Markdown主题的.css文件，在里面添加一个代码，让以后插入的所有图片都缩小50%（个人感觉50%刚好），就解决这个问题了以我使用Github主题为例：打开设置点击“Open Theme Folder”打开文件夹下的“github.css”文件在文件最后添加以下代码后保存就行了 123img &#123; zoom: 50%; &#125; 来源：https://www.jianshu.com/p/a7e6e4188578 参考文献： 无","categories":[{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"http://jackzheng-lu.github.io/tags/markdown/"},{"name":"Typora","slug":"Typora","permalink":"http://jackzheng-lu.github.io/tags/Typora/"}]},{"title":"Switch破解记录","slug":"生活记录/Switch破解记录","date":"2021-02-23T23:24:28.000Z","updated":"2021-03-22T07:26:13.938Z","comments":true,"path":"2021/02/24/生活记录/Switch破解记录/","link":"","permalink":"http://jackzheng-lu.github.io/2021/02/24/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/Switch%E7%A0%B4%E8%A7%A3%E8%AE%B0%E5%BD%95/","excerpt":"","text":"破解版switch区别（目前switch全版本可破）： tx软破：需要购买激活码和注入器（某宝有），破解完后为sxos系统 txpro软破：需要购买激活码和注入器（pro指配带了激活码的注入器），破解完后为sxos系统 大气层软破：系统免费，安装包和安装教程可以百度下哈设的游戏论坛 芯片硬破：需要焊接芯片，芯片自带sxos系统的激活码，不需要注入 2018年6月之后的机器不可以软破，因为老任已经将该漏洞填补了","categories":[{"name":"生活记录","slug":"生活记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"switch","slug":"switch","permalink":"http://jackzheng-lu.github.io/tags/switch/"}]}],"categories":[{"name":"b","slug":"b","permalink":"http://jackzheng-lu.github.io/categories/b/"},{"name":"编程语言学习","slug":"编程语言学习","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"编程语言学习/python","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/python/"},{"name":"shell","slug":"编程语言学习/shell","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/shell/"},{"name":"科研相关记录","slug":"科研相关记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%A7%91%E7%A0%94%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/"},{"name":"TrajectoryModel","slug":"TrajectoryModel","permalink":"http://jackzheng-lu.github.io/categories/TrajectoryModel/"},{"name":"matlab","slug":"编程语言学习/matlab","permalink":"http://jackzheng-lu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/matlab/"},{"name":"气象学基础","slug":"气象学基础","permalink":"http://jackzheng-lu.github.io/categories/%E6%B0%94%E8%B1%A1%E5%AD%A6%E5%9F%BA%E7%A1%80/"},{"name":"文献阅读笔记","slug":"文献阅读笔记","permalink":"http://jackzheng-lu.github.io/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"},{"name":"生活记录","slug":"生活记录","permalink":"http://jackzheng-lu.github.io/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"},{"name":"博客学习","slug":"博客学习","permalink":"http://jackzheng-lu.github.io/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"python","slug":"python","permalink":"http://jackzheng-lu.github.io/tags/python/"},{"name":"hysplit","slug":"hysplit","permalink":"http://jackzheng-lu.github.io/tags/hysplit/"},{"name":"大气背景知识","slug":"大气背景知识","permalink":"http://jackzheng-lu.github.io/tags/%E5%A4%A7%E6%B0%94%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86/"},{"name":"shell","slug":"shell","permalink":"http://jackzheng-lu.github.io/tags/shell/"},{"name":"数据来源","slug":"数据来源","permalink":"http://jackzheng-lu.github.io/tags/%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90/"},{"name":"Hysplit","slug":"Hysplit","permalink":"http://jackzheng-lu.github.io/tags/Hysplit/"},{"name":"vscode","slug":"vscode","permalink":"http://jackzheng-lu.github.io/tags/vscode/"},{"name":"HSPLIT","slug":"HSPLIT","permalink":"http://jackzheng-lu.github.io/tags/HSPLIT/"},{"name":"matlab","slug":"matlab","permalink":"http://jackzheng-lu.github.io/tags/matlab/"},{"name":"微分方程","slug":"微分方程","permalink":"http://jackzheng-lu.github.io/tags/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/"},{"name":"第四纪环境","slug":"第四纪环境","permalink":"http://jackzheng-lu.github.io/tags/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E7%8E%AF%E5%A2%83/"},{"name":"书籍笔记","slug":"书籍笔记","permalink":"http://jackzheng-lu.github.io/tags/%E4%B9%A6%E7%B1%8D%E7%AC%94%E8%AE%B0/"},{"name":"经验","slug":"经验","permalink":"http://jackzheng-lu.github.io/tags/%E7%BB%8F%E9%AA%8C/"},{"name":"PDF","slug":"PDF","permalink":"http://jackzheng-lu.github.io/tags/PDF/"},{"name":"HTML","slug":"HTML","permalink":"http://jackzheng-lu.github.io/tags/HTML/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://jackzheng-lu.github.io/tags/JavaScript/"},{"name":"博客","slug":"博客","permalink":"http://jackzheng-lu.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"you-get","slug":"you-get","permalink":"http://jackzheng-lu.github.io/tags/you-get/"},{"name":"待办","slug":"待办","permalink":"http://jackzheng-lu.github.io/tags/%E5%BE%85%E5%8A%9E/"},{"name":"matlab常用函数","slug":"matlab常用函数","permalink":"http://jackzheng-lu.github.io/tags/matlab%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"name":"matlab绘图plot","slug":"matlab绘图plot","permalink":"http://jackzheng-lu.github.io/tags/matlab%E7%BB%98%E5%9B%BEplot/"},{"name":"Milankovitch paper","slug":"Milankovitch-paper","permalink":"http://jackzheng-lu.github.io/tags/Milankovitch-paper/"},{"name":"cmd","slug":"cmd","permalink":"http://jackzheng-lu.github.io/tags/cmd/"},{"name":"教程","slug":"教程","permalink":"http://jackzheng-lu.github.io/tags/%E6%95%99%E7%A8%8B/"},{"name":"模板","slug":"模板","permalink":"http://jackzheng-lu.github.io/tags/%E6%A8%A1%E6%9D%BF/"},{"name":"Hexo","slug":"Hexo","permalink":"http://jackzheng-lu.github.io/tags/Hexo/"},{"name":"markdown","slug":"markdown","permalink":"http://jackzheng-lu.github.io/tags/markdown/"},{"name":"Typora","slug":"Typora","permalink":"http://jackzheng-lu.github.io/tags/Typora/"},{"name":"switch","slug":"switch","permalink":"http://jackzheng-lu.github.io/tags/switch/"}]}